{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/base/widgets/ResultChange.vue?ea63","webpack:///./src/chess/components/ChessGameBoard.vue?3971","webpack:///./src/base/screens/PublicShowGamePage.vue?22e8","webpack:///./src/base/components/Footer.vue?3663","webpack:///./src/base/widgets/TitleText.vue?c6d2","webpack:///./src/base/App.vue?64b5","webpack:///./src/base/components/AppBar.vue?0829","webpack:///./src/base/util/ui/UIColor.ts","webpack:///./src/base/theme/HATheme.ts","webpack:///./src/base/theme/BlueTheme.ts","webpack:///./src/base/util/Util.ts","webpack:///./src/base/util/EventBus.ts","webpack:///./src/base/util/State.ts","webpack:///./src/base/util/GameAbstract.ts","webpack:///src/base/components/AppBar.vue","webpack:///./src/base/components/AppBar.vue?b916","webpack:///./src/base/components/AppBar.vue","webpack:///./src/base/components/Footer.vue?735d","webpack:///src/base/components/Footer.vue","webpack:///./src/base/components/Footer.vue?d8ce","webpack:///./src/base/components/Footer.vue?0661","webpack:///src/base/App.vue","webpack:///./src/base/App.vue?7d98","webpack:///./src/base/App.vue","webpack:///./src/base/plugins/vuetify.ts","webpack:///./src/base/screens/InviteGameListPage.vue?50e4","webpack:///./src/base/util/PropHelper.ts","webpack:///./src/base/util/JResonse.ts","webpack:///./src/base/asyncCalls/AsyncCall.ts","webpack:///./src/base/util/ServerTimeAdjuster.ts","webpack:///./src/base/managers/AbstractManager.ts","webpack:///./src/base/util/RangeValues.ts","webpack:///./src/base/managers/PluginManager.ts","webpack:///./src/base/util/GameClient.ts","webpack:///./src/base/asyncCalls/RTListInvitesCall.ts","webpack:///./src/base/util/listSection/SectionTitleItem.ts","webpack:///./src/base/util/listSection/DataList.ts","webpack:///./src/base/dto/RTDTO.ts","webpack:///./src/base/dto/RTChatHeaderDTO.ts","webpack:///./src/base/managers/AccountPurchaseManager.ts","webpack:///./src/base/dto/RTMyRatingDTO.ts","webpack:///./src/base/util/ui/ServerMessageConverter.ts","webpack:///./src/base/dto/RTOpenInviteDTO.ts","webpack:///./src/base/dto/RTInviteDTO.ts","webpack:///./src/base/dto/RTFriendInviteDTO.ts","webpack:///./src/base/util/listSection/ListSection.ts","webpack:///./src/base/components/listPanels/ListPanelDataClasses.ts","webpack:///./src/base/screens/workers/InviteGameListCompute.ts","webpack:///./src/base/screens/InviteGameListPage.vue","webpack:///./src/base/screens/InviteGameListPage.vue?2566","webpack:///./src/base/screens/InviteGameListPage.vue?3b6c","webpack:///./src/base/screens/LoginPage.vue?0f03","webpack:///./src/base/asyncCalls/RTMyProfileCall.ts","webpack:///./src/base/managers/FriendManager.ts","webpack:///./src/base/managers/FavoriteManager.ts","webpack:///./src/base/managers/NewsManager.ts","webpack:///./src/base/asyncCalls/LoginCall.ts","webpack:///./src/base/screens/LoginPage.vue","webpack:///./src/base/screens/LoginPage.vue?b6fa","webpack:///./src/base/screens/LoginPage.vue?220b","webpack:///./src/base/screens/AboutPage.vue?9ac0","webpack:///./src/base/screens/AboutPage.vue","webpack:///./src/base/screens/AboutPage.vue?fdf7","webpack:///./src/base/screens/AboutPage.vue?e2b9","webpack:///./src/base/screens/PublicShowGamePage.vue?3088","webpack:///./src/base/components/BaseEventListener.ts","webpack:///./src/base/controllers/GameControllerRegistry.ts","webpack:///./src/base/screens/PublicShowGamePage.vue","webpack:///./src/base/screens/PublicShowGamePage.vue?3dbb","webpack:///./src/base/screens/PublicShowGamePage.vue?d6e0","webpack:///./src/base/widgets/TitleText.vue?1b16","webpack:///./src/base/widgets/TitleText.vue","webpack:///./src/base/widgets/TitleText.vue?f7db","webpack:///./src/base/widgets/TitleText.vue?5452","webpack:///./src/base/widgets/ResultChange.vue?b360","webpack:///./src/base/widgets/ResultChange.vue","webpack:///./src/base/widgets/ResultChange.vue?3759","webpack:///./src/base/widgets/ResultChange.vue?0bff","webpack:///./src/base/widgets/RegisterWidgets.ts","webpack:///./src/base/BaseMain.ts","webpack:///./src/base/util/ApplicationSettings.ts","webpack:///./src/chess/ChessApplicationSettings.ts","webpack:///./src/base/util/ui/RatingNames.ts","webpack:///./src/base/dto/IGameDTO.ts","webpack:///./src/chess/dto/support/RankFileConverter.ts","webpack:///./src/chess/dto/support/Square.ts","webpack:///./src/chess/dto/support/PieceColor.ts","webpack:///./src/chess/dto/support/Piece.ts","webpack:///./src/chess/dto/support/PieceSquare.ts","webpack:///./src/chess/dto/support/Move.ts","webpack:///./src/chess/dto/CHGameDTO.ts","webpack:///./src/chess/components/ChessGameBoard.vue?863e","webpack:///./src/chess/ChessOptions.ts","webpack:///./src/base/asyncCalls/RTGuestViewGameCall.ts","webpack:///./src/base/controllers/GameController.ts","webpack:///./src/chess/util/ChessConvert.ts","webpack:///./src/chess/components/ChessGameBoardState.ts","webpack:///./src/chess/components/ChessGameBoard.vue","webpack:///./src/chess/components/ChessGameBoard.vue?ba32","webpack:///./src/chess/components/ChessGameBoard.vue?78a7","webpack:///./src/chess/controllers/ChessGameController.ts","webpack:///./src/chess/ChessGame.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticRenderFns","attrs","_v","_s","on","goView","goMain","isLoggedIn","_e","gologin","gologout","scopedSlots","_u","fn","ref","_g","_b","_l","color","code","iconColor","backgroundColor","selectedBackgroundColor","selectedTextColor","textStyle","borderColor","friendInviteSectionHeader","myTurnSectionHeader","selectAGameSectionHeader","theirTurnSectionHeader","currentTheme","console","log","gb","sayHi","dur","dtype","Error","isRated","vue","title","message","toastNotify","path","$router","goto","reason","$toast","tfString","inStr","char","split","util","VBus","eventName","eventData","sections","ename","ed","$emit","eventNames","callback","$on","$off","EB","state","rttoken","avg","cttoken","globalId","ctid","cc","pp","boardbgimage","localStorage","getItem","getAsNumber","setInterval","tick","anId","sendEvent","Date","now","Number","valueOf","setItem","tkn","instance","component","VAppBar","VAppBarNavIcon","VBtn","VIcon","VList","VListItem","VListItemTitle","VMenu","VSpacer","VToolbarTitle","VToolbar","link","$event","gotoPage","staticClass","copyright","links","VFooter","VRow","components","AppBar","Footer","VApp","VMain","use","rawResponse","obj","getProperty","Map","entries","inMillis","src","dflt","v","getNumber","getString","parseInt","x","attr","undefined","startsWith","substring","alist","indexOf","prophelper","CLIENT_ERROR_HTTP","CLIENT_NO_NETWORK","NOTLOGGEDIN","status","rawData","valErrors","rCode","serverDate","fullMap","JSON","stringify","parse","rmessage","rcode","results","errors","silent","msg","_doCall","isOk","onSuccessMessage","isNotLoggedIn","setRTToken","gotoLogin","toastError","resp","jr","setConnectError","offsetMS","serverTime","servObjDate","getTime","serverTimeAdjuster","isOpen","_open","_close","start","end","REDUCE_RELOAD_SEC","ERROR_RELOAD_SEC","ratingData","low","id","valueData","entryId","entryTitle","entryTitleReduced","gameGroup","cmpValue","actual1","actual2","weight","asOfVersion","dataSource","getList","item","dv","filter","val","cVal","f","find","entryid","entry","findEntry","inRange","findEntryByCMP","findMinEntry","high","findMaxEntry","sPos","tx","menutext","acceptPrompt","cl","getBool","mm","max","cp","enabled","gameState","settingName","settingTitle","settingType","required","componentUIType","componentDataSource","map","dsType","min","enums","playerContext","settingValue","desc","variations","matchSettings","gameSettings","offerTypes","ratings","gameType","gameDesc","version","versionCode","getPropertyList","matchSettingName","ms","rating","res","gs","dsname","ds","rtOffer","ot","nextLoadTime","inGetData","_data","filterTest","reduceReloadTime","force","parms","set","getAppSettings","doGet2","applySystemCalls","rsp","duration","loadDataFromJSONResponse","getMessage","nlt","variationCode","hasData","getData","groupcode","toUpperCase","showMessage","tppSetting","getDataSource","rr","k","groupName","skipZeroInc","timePP","e","getGroupName","settings","currentCmp","filterNext","settingDef","findGameSetting","pluginManager","USE_PROXY","DEV_API","host","rtServerHost","url","apChar","encodeURIComponent","_appendArg","getRTToken","argsMap","doPost2","js","fromEntries","_enhanceUrl","a","post","getHost","loadPluginData","setAdjustmentFor","forEach","client","doPost","section","showSections","listSection","ls","count","index","wIndex","elementAt","error","roomId","seq","chatList","imap","g","RTChatHeaderDTO","exp","pId","tId","isActive","dataList","ServerPurchaseDataItem","gVariation","gGroup","RTMyRatingDTO","ratingName","group","win","loss","draw","fromId","groupRatings","fromProfileImage","fromName","fromCountryCode","fromProfilePicture","fromRating","fromRatingName","offerDate","createDate","secPerMove","server","variation","matchRated","matchCountryCode","matchStartColor","matchTimeLow","matchTimeHigh","matchRateLow","matchRateHigh","getDateFromMillis","getInt","groupRatingsMap","getPropertyMap","getMoveTimeDisplay","_getMoveTimeFromDisplayReduced","getDataSourceTimepp","getEntryReduced","getEntryText","_getMoveTimeFromDisplay","getMatchSetting","getSettingText","convertRatingName","getRatingLongString","RTOpenInviteDTO","toName","toRating","toRatingName","toCountryCode","peak","_isMine","_isOpen","isToRoom","isMine","RTInviteDTO","setMine","fromUID","RTFriendInviteDTO","showTotals","visible","showRefresh","subText","dto","items","avgRating","friendCacheCode","adConfigCacheCode","favCacheCode","chatHeaders","hasOpenInvites","myTotalPlayed","listStateCode","myCC","myName","newsSize","pluginVersionCode","serverPurchases","openInvites","getDataList","oi","isThisMe","games","parseList","inviteToMe","myInvites","myOpenInvites","serverPurchaseDataItems","myFriendInvites","myRatings","runningGames","isPaused","isComplete","myMoves","isMyTurn","waiting","addData","addSection","addAll","sort","g1","g2","getNextMoveTimout","datalist","extend","mounted","callServer","$data","cr","processResults","setServerPluginVersion","methods","go","VCard","VCardActions","VCardText","VCardTitle","VDivider","VForm","model","$$v","username","expression","showPassword","password","performLogin","doGet","fm","pwd","setCTToken","setGlobalId","setCTId","pc","pcr","pcrdata","setAvgRating","setCC","setPP","open","loginCall","VTextField","game","playerName","controller","topPlayer","playerRating","playerRatingChange","dynamicComponent","tag","getGameId","bottomPlayer","getGenericCompletestring","rotate","allowBack","goback","allowForward","goforward","abstract","isCreated","getEventNames","listen","onEvent","unlisten","gc","gameId","delete","has","registry","wname","bname","eventListener","created","nullGame","$route","params","getGameController","register","beforeDestroy","unregister","removeEventListener","reviewMode","loadPublicView","handleKey","addEventListener","computed","keyCode","goBackPosition","goForwardPosition","canGoBackPosition","canGoForwardPosition","flipBoard","getWhiteName","getBlackName","VCol","VContainer","_t","class","clazz","change","props","TitleText","ResultChange","gameAbstract","config","productionTip","registerWidgets","toastOptions","routes","PublicShowGamePage","InviteGameListPage","AboutPage","LoginPage","router","beforeEach","to","from","next","vuetify","render","h","App","$mount","setVue","copyRight","clientProductCode","rtProxyHost","pwdKey","clientVersion","debugRTHttp","debugRTWS","defaultRating","rateRangePadding","pd","getRatingFor","raw","forcedWinColor","gameResult","mutedByBlack","mutedByWhite","starredByBlack","starredByWhite","drawReasonStr","lastMove","inCheck","capture","_canCancel","blackResultRating","whiteResultRating","blackResultRatingChange","whiteResultRatingChange","gameAttributes","restartAble","headerOnly","currentActionRequest","availableActionRequestCodes","threeFold","isFriend","canNudge","pendingOfferUID","numMessages","moveCount","turn","nextMoveTimout","whiteId","whiteName","whiteRating","whiteRatingName","whiteCountryCode","blackId","blackName","blackRating","blackRatingName","blackCountryCode","rtStatus","rtSeq","rated","rtWinner","rtTimePP","rtWinReason","rtVariation","remainTimeMS","rtOfferById","rtOfferStatus","blackProfilePicture","whiteProfilePicture","setNextMoveTimout","getNameFor","ups","up","profilePic","processRTAttributes","gameData","processGameData","playerId","getPlayerNumber","rName","getOpponentRating","getWhiteResultRating","getBlackResultRating","rProfileName","getProfileRating","sects","toLowerCase","isCancelled","isDraw","youWon","getVariationName","getDSValue","getGroupNameForTimePP","isRTOffer","getRatingChangeFor","getVariationFor","uid","getMoveTime","pnum","letter","idx","RankFileConverter","LETTERS","file","rank","fileToChar","toString","rfString","fileFromChar","toRankFileString","o2","Square","rfSq","blocks","mapSquare","sq","asRFString","init","sSquare","sA6","at","sE2","sA2","sA1","sF1","sE8","sG8","sC8","sE1","sG1","sC1","sH8","sH1","sF8","sA8","sB8","sB1","sD1","sD8","PieceColor","BLACK","WHITE","Type","type","pvalue","BISHOP","PAWN","KING","KNIGHT","ROOK","QUEEN","dirCode","toColorCharacter","toImageBasename","values","Piece","_setValue","WHITE_PAWN","BLACK_PAWN","BLACK_KNIGHT","WHITE_KNIGHT","BLACK_BISHOP","WHITE_BISHOP","BLACK_ROOK","WHITE_ROOK","BLACK_QUEEN","WHITE_QUEEN","BLACK_KING","WHITE_KING","typeToString","getPieceFromCode","piece","square","equal","fS","tS","fromSquare","toSquare","promotePiece","enPass","capturePiece","_isCheck","_isMate","movePiece","setFromSquare","setToSquare","isCheck","isMate","sep","basic","getCapturePiece","getMovePiece","move","boardPieces","legMoves","moves","opening","ecoCode","pgnmoves","threefoldable","CHGameDTO","newInstance","size","_localCopyTo","load","copyExtension","copyFieldsTo","rG","convertMovesToPGNMoves","isTrueCapture","tk","_processTopLevel","_buildMoves","_buildLMoves","setMoveCount","_buildBoard","mv","_buildMove","dta","splitString","getSquareFromCode","promoteP","getBooleanTF","capP","bCheck","bMate","moveP","setPromotePiece","setEnPass","setCapturePiece","setCheck","setMate","setMovePiece","pcSq","sSquareF","sSquareT","buildBoard","rMoves","getFromSquare","ps","getSquare","overrideMove","getMyColor","getStringNullable","ctMove","sameAs","sPiece","pieceSquare","style","chessOptions","pl","pieceClass","piecePositionStyle","imageSize","getPieceImage","pieceSet","tapPanel","loadStoreage","saveStoreage","reviewPosition","reviewMaxPosition","flipped","GameController","getControllerUpdateEventName","gamedto","parseGame","getGameLoadEventName","amIPlaying","getMySide","getMoveCount","chessGame","rs","cb","board","rf","cPieceToHAPiece","pcode","numMoves","chess","haMove","cMove","haMoveToChess","verbose","cmv","isSameMove","descString","getPromotePiece","promotion","cgc","toImageName","boardWidth","cellPos","getCellPositionForSq","left","imagePadding","top","gameController","currentPieces","gameDTO","boardHeight","_updateState","_updatePieces","_calcBoardPieces","getBoardPieces","pieces","getPiece","position","convertHAToChess","convertChessPositionToHA","flipIt","cellSize","bwidth","bheight","gameBoardState","offsetY","offsetX","gameLoaded","updateFromController","setGameData","backgroundImage","boardDimensionStyle","String","updated","getController","gameOver","Math","floor","random","pgn","ChessGameBoard","setNullGame","BMain"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,IAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,yBAA6f,EAAG,G,oCCAhgB,yBAA+f,EAAG,G,oCCAlgB,yBAAmgB,EAAG,G,6DCAtgB,yBAAuf,EAAG,G,6DCA1f,yBAA0f,EAAG,G,8LCAzf,EAAS,WAAa,IAAIyC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,UAAUA,EAAG,SAAS,CAACA,EAAG,gBAAgB,GAAGA,EAAG,WAAW,IACtKE,EAAkB,GCDlB,EAAS,WAAa,IAAIN,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACG,MAAM,CAAC,MAAQ,UAAU,MAAQ,GAAG,KAAO,GAAG,IAAM,KAAK,CAACH,EAAG,sBAAsBA,EAAG,kBAAkB,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIzB,SAAS6B,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,QAAU,IAAIG,GAAG,CAAC,MAAQV,EAAIW,SAAS,CAACX,EAAIQ,GAAG,gBAAgBJ,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,QAAU,IAAIG,GAAG,CAAC,MAAQV,EAAIY,SAAS,CAACZ,EAAIQ,GAAG,YAAcR,EAAIa,WAAsGb,EAAIc,KAA9FV,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,QAAU,IAAIG,GAAG,CAAC,MAAQV,EAAIe,UAAU,CAACf,EAAIQ,GAAG,aAAuBR,EAAc,WAAEI,EAAG,QAAQ,CAACG,MAAM,CAAC,KAAO,GAAG,QAAU,IAAIG,GAAG,CAAC,MAAQV,EAAIgB,WAAW,CAAChB,EAAIQ,GAAG,cAAcR,EAAIc,KAAKV,EAAG,SAAS,CAACG,MAAM,CAAC,KAAO,GAAG,OAAS,IAAIU,YAAYjB,EAAIkB,GAAG,CAAC,CAAC5B,IAAI,YAAY6B,GAAG,SAASC,GAC9vB,IAAIV,EAAKU,EAAIV,GACTH,EAAQa,EAAIb,MAChB,MAAO,CAACH,EAAG,QAAQJ,EAAIqB,GAAGrB,EAAIsB,GAAG,CAACf,MAAM,CAAC,KAAO,KAAK,QAAQA,GAAM,GAAOG,GAAI,CAACN,EAAG,SAAS,CAACJ,EAAIQ,GAAG,wBAAwB,SAAS,CAACJ,EAAG,SAASJ,EAAIuB,GAAG,GAAI,SAAS/B,GAAG,OAAOY,EAAG,cAAc,CAACd,IAAIE,EAAEkB,GAAG,CAAC,MAAQ,eAAiB,CAACN,EAAG,oBAAoB,CAACJ,EAAIQ,GAAG,UAAUR,EAAIS,GAAGjB,OAAO,MAAK,IAAI,IAAI,IACrS,EAAkB,G,wDCFhB,EAGJ,WAAYgC,GAAa,uBACvBvB,KAAKuB,MAAQA,GAIF,ICPT,E,qCAIA,E,WAAN,oCACE,KAAAC,KAAO,GAEP,KAAAC,UAAY,IAAI,EAAQ,SACxB,KAAAC,gBAAkB,IAAI,EAAQ,QAC9B,KAAAC,wBAA0B,IAAI,EAAQ,eACtC,KAAAC,kBAAoB,IAAI,EAAQ,SAChC,KAAAC,UAAY,IAAI,EAChB,KAAAC,YAAc,IAAI,EAAQ,e,6DAWvB,QAPCN,YAOD,MAPQ,GAOR,MANCC,iBAMD,MANa,IAAI,EAAQ,QAMzB,MALCC,uBAKD,MALmB,IAAI,EAAQ,QAK/B,MAJCC,+BAID,MAJ2B,IAAI,EAAQ,eAIvC,MAHCC,yBAGD,MAHqB,IAAI,EAAQ,SAGjC,MAFCC,iBAED,MAFa,IAAI,EAEjB,MADCC,mBACD,MADe,IAAI,EAAQ,eAC3B,EACD9B,KAAKyB,UAAYA,EACjBzB,KAAK0B,gBAAkBA,EACvB1B,KAAKwB,KAAOA,EACZxB,KAAK2B,wBAA0BA,EAC/B3B,KAAK4B,kBAAoBA,EACzB5B,KAAK6B,UAAYA,EACjB7B,KAAK8B,YAAcA,M,KA+BjB,EAAN,oCAEE,KAAAC,0BAA4B,IAAI,EAChC,KAAAC,oBAAsB,IAAI,EAC1B,KAAAC,yBAA2B,IAAI,EAC/B,KAAAC,uBAAyB,IAAI,GAOhB,IC1ET,E,qIAAkB,GAIT,ICET,E,WAmCF,oCAjBA,KAAAC,aAAwB,IAAI,EAkBxBC,QAAQC,IAAI,oB,qDAnCVC,GACHA,EAAWC,U,+BAGLC,EAAaC,GACpB,OAAQA,GACN,IAAK,IAAK,OAAa,GAAND,EAAW,GAAK,GAAK,IACtC,IAAK,IAAK,OAAa,GAANA,EAAW,GAAK,IAEnC,MAAME,MAAM,wBAA0BD,K,0CAWpBE,GAClB,OAAIA,EAAgB,QACb,Y,6BAGFC,GACL5C,KAAK4C,IAAMA,I,qCAGyB,QAAzBC,aAAyB,MAAjB,GAAiB,MAAbC,eAAa,MAAH,GAAG,EACpCV,QAAQC,IAAIQ,EAAOC,GACnB9C,KAAK+C,YAAY/C,KAAK4C,IAAME,K,2BAYzBF,EAAUI,GACXJ,EAAIK,QAAQjG,KAAK,CACbgG,KAAMA,M,+BAILJ,GACP5C,KAAKkD,KAAKN,EAAK,e,gCAGPA,GACR5C,KAAKkD,KAAKN,EAAK,Y,kCAMLA,EAAUO,GACpBP,EAAIQ,OAAJ,UAAcD,M,iCAILP,EAAUO,GACjBP,EAAIQ,OAAJ,UAAcD,M,mCAGJE,GACZ,MAAI,KAAQA,GAIR,KAAQA,I,kCAOFC,EAAeC,GACzB,OAAOD,EAAME,MAAMD,O,KAInBE,EAAO,IAAI,EAEF,I,wBC9FF,EAGX,WAAYnF,EAAcpC,GAAS,uBAFnC,KAAAoC,KAAO,GACP,KAAApC,KAAY,KAEV8D,KAAK1B,KAAOA,EACZ0B,KAAK9D,KAAOA,GAOV,E,WAAN,oCACE,KAAAwH,KAAO,IAAI,O,yDAEDC,EAAmBC,GAC3B,IADyC,EACnCC,EAAWF,EAAUH,MAAM,KAE7BM,EAAQ,GAH6B,iBAIzBD,GAJyB,IAIzC,2BAA0B,KAAf/F,EAAe,QACpBgG,EAAMpH,OAAS,IACjBoH,GAAS,KAEXA,GAAShG,EAET,IAAMiG,EAAK,IAAI,EAAUD,EAAOF,GAChC5D,KAAK0D,KAAKM,MAAMF,EAAOC,IAXgB,iC,6BAoBpCE,EAAoBC,GACzB,IAD2C,EACrCL,EAAWI,EAAWT,MAAM,KADS,iBAE3BK,GAF2B,IAE3C,2BAA0B,KAAf/F,EAAe,QACxBsE,QAAQC,IAAI,mBAAoBvE,GAChCkC,KAAK0D,KAAKS,IAAIrG,EAAGoG,IAJwB,iC,+BAapCD,EAAoBC,GAC3B,IAD6C,EACvCL,EAAWI,EAAWT,MAAM,KADW,iBAE7BK,GAF6B,IAE7C,2BAA0B,KAAf/F,EAAe,QACxBsE,QAAQC,IAAI,sBAAuBvE,GACnCkC,KAAK0D,KAAKU,KAAKtG,EAAGoG,IAJyB,mC,KAU3CG,EAAK,IAAI,EACA,ICzDT,E,WAuBF,oCAZA,KAAAC,MAAQ,CACNC,QAAS,GACTC,IAAK,EACLC,QAAS,GACTC,SAAU,GACVC,KAAM,GACNrG,KAAM,GACNsG,GAAI,GACJC,GAAI,GACJC,aAAc,IAIZ1C,QAAQC,IAAI,qBACZrC,KAAKsE,MAAMhG,KAAOyG,aAAaC,QAAQ,SAAW,GAClDhF,KAAKsE,MAAMM,GAAKG,aAAaC,QAAQ,OAAS,GAC9ChF,KAAKsE,MAAMO,GAAKE,aAAaC,QAAQ,OAAS,GAC9ChF,KAAKsE,MAAMC,QAAUQ,aAAaC,QAAQ,YAAc,GACxDhF,KAAKsE,MAAMG,QAAUM,aAAaC,QAAQ,YAAc,GACxDhF,KAAKsE,MAAMI,SAAWK,aAAaC,QAAQ,aAAe,GAC1DhF,KAAKsE,MAAMK,KAAOI,aAAaC,QAAQ,SAAW,GAClDhF,KAAKsE,MAAME,IAAMxE,KAAKiF,YAAY,OAClCjF,KAAKsE,MAAMQ,aAAeC,aAAaC,QAAQ,iBAAmB,qCAElEE,YAAalF,KAAKmF,KAAO,K,wDAhCpBC,GACP,OAAOpF,KAAKsE,MAAMK,MAAQS,GAAQpF,KAAKsE,MAAMI,UAAYU,I,6BAmCzD,EAAGC,UAAU,OAAQC,KAAKC,O,kCAGhBlG,GACV,OAAOmG,OAAQT,aAAaC,QAAQ3F,IAAQ,KAAMoG,Y,mCAIlD,OAAOzF,KAAKsE,MAAMC,U,sCAGJO,GACd9E,KAAKsE,MAAMQ,aAAeA,EAC1BC,aAAaW,QAAQ,eAAgBZ,K,iCAG5Ba,GACT3F,KAAKsE,MAAMC,QAAUoB,EACrBZ,aAAaW,QAAQ,UAAW1F,KAAKsE,MAAMC,W,iCAElCE,GACTzE,KAAKsE,MAAMG,QAAUA,EACrBM,aAAaW,QAAQ,UAAW1F,KAAKsE,MAAMG,W,kCAEjCC,GACV1E,KAAKsE,MAAMI,SAAWA,EACtBK,aAAaW,QAAQ,WAAY1F,KAAKsE,MAAMI,Y,4BAExCE,GACJ5E,KAAKsE,MAAMM,GAAKA,EAChBG,aAAaW,QAAQ,KAAM1F,KAAKsE,MAAMM,M,8BAEhCD,GACN3E,KAAKsE,MAAMK,KAAOA,EAClBI,aAAaW,QAAQ,OAAQ1F,KAAKsE,MAAMK,Q,mCAE7BH,GACXxE,KAAKsE,MAAME,IAAMA,EACjBO,aAAaW,QAAQ,MAAO,GAAK1F,KAAKsE,MAAME,O,4BAExCK,GACJ7E,KAAKsE,MAAMO,GAAKA,EAChBE,aAAaW,QAAQ,KAAM1F,KAAKsE,MAAMO,M,mCAItC,OAAO7E,KAAKsE,MAAMC,QAAQ7H,OAAS,I,+BAInCsD,KAAKsE,MAAMC,QAAU,GACrBQ,aAAaW,QAAQ,UAAW,Q,KAKhCpB,EAAQ,IAAI,EAEH,IC9FA,EAYb,oCACIlC,QAAQC,IAAI,6BAHT,EAAAuD,SAAgC,KAoB1B,QCyBf,GACE,KAAF,SACE,KAAF,WAAI,MAAJ,CACMtH,KAAM,EAAZ,+BACMgG,MAAO,EAAb,QAEE,SAAF,CACI,WAAJ,WAEM,OAAN,iBAGE,QAAF,CACI,OAAJ,WACM,EAAN,2CAEI,OAAJ,WACM,EAAN,gBAEI,QAAJ,WACM,EAAN,iBAEI,SAAJ,WAEM,EAAN,SACM,EAAN,mBCxF+V,I,yJCO3VuB,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,EAAiB,QAchC,IAAkBA,EAAW,CAACC,UAAA,KAAQC,iBAAA,KAAeC,OAAA,KAAKC,QAAA,KAAMC,QAAA,KAAMC,YAAA,KAAUC,eAAA,OAAeC,QAAA,KAAMC,UAAA,KAAQC,cAAAC,EAAA,OChC7G,IAAI,EAAS,WAAa,IAAIzG,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACG,MAAM,CAAC,MAAQ,oBAAoB,QAAU,KAAK,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,QAAU,SAAS,aAAa,KAAK,CAACP,EAAIuB,GAAIvB,EAAS,OAAE,SAAS0G,GAAM,OAAOtG,EAAG,QAAQ,CAACd,IAAIoH,EAAKzH,EAAEsB,MAAM,CAAC,KAAO,IAAIG,GAAG,CAAC,MAAQ,SAASiG,GAAQ,OAAO3G,EAAI4G,SAASF,EAAK/G,MAAM,CAACK,EAAIQ,GAAG,IAAIR,EAAIS,GAAGiG,EAAKzH,GAAG,UAASmB,EAAG,OAAO,CAACyG,YAAY,cAAc,CAAC7G,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAI8G,WAAW,QAAQ,IAAI,IAC5d,EAAkB,GC2BtB,GACE,KAAF,SACE,KAAF,WAAI,MAAJ,CACMA,UAAW,EAAjB,oCACMC,MAAO,CACb,CAAQ,EAAR,iBAAQ,EAAR,YACA,CAAQ,EAAR,mBAAQ,EAAR,YAGE,QAAF,CACI,SAAJ,YACM,EAAN,gBCvC+V,I,sCCQ3V,GAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAACd,OAAA,KAAKe,WAAA,KAAQC,QAAA,OCV3C,QACE1I,KAAM,MAEN2I,WAAY,CACVC,OAAJ,EACIC,OAAJ,IAGEjL,KAAM,WAAR,WCxB6U,M,0BCOzU,GAAY,eACd,GACA,EACAmE,GACA,EACA,KACA,KACA,MAIa,MAAiB,QAMhC,IAAkB,GAAW,CAAC+G,QAAA,KAAKC,SAAA,O,8BCrBnC,OAAIC,IAAI,SAEO,WAAI,QAAQ,I,aCLvB,I,UAAS,WAAa,IAAIvH,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACyG,YAAY,eAAetG,MAAM,CAAC,MAAQ,QAAQ,CAACH,EAAG,eAAe,CAACA,EAAG,KAAK,CAACyG,YAAY,aAAa,CAAC7G,EAAIQ,GAAG,iBAAiBJ,EAAG,cAAc,CAACA,EAAG,SAAS,CAACJ,EAAIQ,GAAG,UAAUR,EAAIS,GAAGT,EAAIwH,aAAa,QAAQ,GAAGpH,EAAG,aAAaA,EAAG,mBAAmB,KACnW,GAAkB,G,yBCGhB,I,mLAWWjE,EAA2BmD,GACxC,IAAMmI,EAAMxH,KAAKyH,YAAYvL,EAAMmD,EAAK,IACxC,OAAO,IAAIqI,IAAI/K,OAAOgL,QAAQH,M,wCAGdtL,EAA2BmD,GAC3C,IAAMuI,EAAW5H,KAAKyH,YAAYvL,EAAMmD,GAExC,OAAgB,MAAZuI,EACK,IAAItC,KAGN,IAAIA,KAAKsC,K,sCAGFC,EAAapI,GAA2B,IAATqI,EAAS,uDAAF,GAC9CC,EAAI/H,KAAKyH,YAAYI,EAAKpI,EAAUqI,GAC1C,OAAOC,I,8BAGDF,EAAapI,GAA2B,IAATqI,EAAS,uDAAF,GACtCC,EAAI/H,KAAKyH,YAAYI,EAAKpI,EAAUqI,GAC1C,OAAOC,I,8BAGDF,EAAUpI,GAA8B,IAAZqI,EAAY,wDACxCC,EAAI/H,KAAKyH,YAAYI,EAAKpI,GAEhC,OAAS,MAALsI,EAAkBD,EAEb,KAALC,IAGK,KAALA,IAGK,QAALA,GAGK,SAALA,GAIGA,M,6BASFF,EAAUpI,GAA0B,IAARqI,EAAQ,uDAAD,EACxC,OAAO9H,KAAKgI,UAAUH,EAAKpI,EAAUqI,K,gCAG7BD,EAAUpI,GAA0B,IAARqI,EAAQ,uDAAD,EACrCC,EAAI/H,KAAKiI,UAAUJ,EAAKpI,GAC9B,OAAIsI,EACKG,SAASH,GAETD,I,wCAIOD,EAAUpI,GAA6B,IAAXqI,EAAW,uDAAJ,KAC7CC,EAAI/H,KAAKyH,YAAYI,EAAKpI,EAAUqI,GAC1C,OAAOC,I,gCAICF,EAAUpI,GAA2B,IAATqI,EAAS,uDAAF,GACrCC,EAAI/H,KAAKyH,YAAYI,EAAKpI,EAAUqI,GAC1C,MAAO,GAAKC,I,kCAGFF,EAAUpI,GAEpB,IAFsD,IAAhBqI,EAAgB,uDAAJ,KAC5CtE,EAAQ/D,EAAS+D,MAAM,KACpB2E,EAAI,EAAGA,EAAI3E,EAAM9G,OAAQyL,IAAK,CACrC,IAAIC,EAAO5E,EAAM2E,GAEjB,GAAW,MAAPN,QAAsBQ,GAAPR,EACjB,OAAOC,EAGT,GAAIM,EAAKE,WAAW,KAApB,CAEEF,EAAOA,EAAKG,UAAU,EAAGH,EAAK1L,OAAS,GACvC,IAAM8L,EAAQX,EAEdA,EAAMW,EAAMN,SAASE,SAInBA,EAAKK,QAAQ,MAAQ,GACvBrG,QAAQC,IAAR,oEAAyE+F,IAG3EP,EAAMA,EAAIO,GAGZ,OAAY,OAARP,QAAwBQ,IAARR,EACXC,EAEFD,M,MAMLa,GAAa,IAAI,GACR,MC3HTC,IAAqB,KACrBC,IAAqB,KACrBC,IAAe,EAIf,G,WAUJ,cAAmC,QAAtBC,cAAsB,MAAf,IAAe,MAAV5M,YAAU,MAAL,KAAK,EAOjC,GAPiC,uBATnC,KAAA6M,QAAU,GACV,KAAA7M,KAAe,GACf,KAAA8M,UAA8B,IAAItB,IAClC,KAAA5E,QAAU,GACV,KAAAmG,MAAQ,EACR,KAAAC,WAAa,EACb,KAAAC,QAAe,GAIb/G,QAAQC,IAAI,YAAayG,EAAQ5M,GAMnB,GAAV4M,EAAJ,CAIA,GAAc,KAAVA,EAKF,OAJA9I,KAAKiJ,MAAQN,GACb3I,KAAK9D,KAAO,IAAIwL,SAChB1H,KAAK8C,QACD,8GAINV,QAAQC,IAAI,OAAQnG,GAEpB8D,KAAK+I,QAAUK,KAAKC,UAAUnN,GAG9B8D,KAAKmJ,QAAUC,KAAKE,MAAMtJ,KAAK+I,SAI/B/I,KAAKkJ,WAAalJ,KAAKmJ,QAAQD,WAG/BlJ,KAAK8C,QAAU9C,KAAKmJ,QAAQI,SAC5BvJ,KAAKiJ,MAAQjJ,KAAKmJ,QAAQK,MAE1BxJ,KAAK9D,KAAO8D,KAAKmJ,QAAQM,QACzBzJ,KAAKgJ,UAAYhJ,KAAKmJ,QAAQO,Q,8DAM9B1J,KAAKiJ,MAAQL,GACb5I,KAAK8C,QAAU,wB,sCAGDA,GACd9C,KAAKiJ,MAAQN,GACb3I,KAAK8C,QAAUA,EACfV,QAAQC,IAAI,qBAAsBS,K,mCAIlC,OAAO9C,KAAK8C,U,iCAIZ,OAAO9C,KAAKiJ,Q,gCAOZ,OAAOjJ,KAAK9D,O,kCAGFoC,GACV,IAAMyJ,EAAI,GAAWN,YAAYzH,KAAK9D,KAAMoC,GAC5C,OAAOyJ,I,6BAIP,OAAsB,IAAf/H,KAAKiJ,Q,sCAIZ,OAAOjJ,KAAKiJ,QAAUJ,O,KAMX,MChGA,G,WAUb,WAAYjG,GAAQ,uBAFpB,KAAA+G,QAAS,EAGP3J,KAAK4C,IAAMA,E,4NASLgH,EAAM,IACK,E,kBAEG5J,KAAK6J,U,OAAfjL,E,OACDA,EAAEkL,OASLF,EAAM5J,KAAK+J,iBAAiBnL,GARxBA,EAAEoL,iBACJ,EAAMC,WAAW,IACjB,EAAKC,UAAUlK,KAAK4C,QAET,EACX,EAAKuH,WAAWnK,KAAK4C,IAAKhE,EAAEkE,UAKhCsH,EAAOxL,E,qDAEPwD,QAAQC,IAAI,iBAAZ,MACAuH,EAAM,KAAM9G,QACNuH,EAAK,IAAI,GAAU,CAACvB,OAAO,IACjCuB,EAAGC,gBAAgB,KAAMxH,SACzBsH,EAAOC,E,eAGLT,EAAIlN,OAAS,IACVsD,KAAK2J,QAEN,EAAKQ,WAAWnK,KAAK4C,IAAKgH,I,kBAOzBQ,G,0JAQMC,GACf,MAAO,O,KAKI,M,kECxET,G,WAAN,oCAEE,KAAAE,SAAW,E,+DAGT,OAAO,IAAIjF,KAAMA,KAAKC,MAAQvF,KAAKuK,Y,uCAIpBC,GACfxK,KAAKuK,SAAWjF,KAAKC,MAAQiF,EAC7BpI,QAAQC,IAAI,sBAAuBrC,KAAKuK,Y,4CAUpBE,GACpB,OAAO,IAAInF,KAAKmF,EAAYC,UAAY1K,KAAKuK,c,KAI3CI,GAAqB,IAAI,GAChB,MCrBC,I,+BAAf,oCAEC,KAAAC,QAAS,E,sDAGP5K,KAAK4K,QAAS,EACd5K,KAAK6K,U,8BAIL7K,KAAK4K,QAAS,EACd5K,KAAK8K,a,MAQM,MCzBT,GAMJ,WAAYC,EAAeC,GAAW,uBACpChL,KAAK+K,MAAQA,EACb/K,KAAKgL,IAAMA,GAIA,MCHTC,GAAoB,GACpBC,GAAmB,GAGnB,GAIJ,WAAaC,GAAkB,uBAHxB,KAAAC,IAAM,EACN,KAAAC,GAAK,GACL,KAAAxI,MAAQ,GAEb7C,KAAKoL,IAAM,GAAWpD,UAAUmD,EAAY,OAC5CnL,KAAKqL,GAAK,GAAWpD,UAAUkD,EAAY,MAC3CnL,KAAK6C,MAAQ,GAAWoF,UAAUkD,EAAY,UAQrC,GAWX,WAAaG,GAAiB,uBAC5BtL,KAAKuL,QAAU,GAAWtD,UAAUqD,EAAW,WAC/CtL,KAAKwL,WAAa,GAAWvD,UAAUqD,EAAW,cAClDtL,KAAKyL,kBAAoB,GAAWxD,UAAUqD,EAAW,qBACzDtL,KAAK0L,UAAY,GAAWzD,UAAUqD,EAAW,aACjDtL,KAAK2L,SAAW,GAAW3D,UAAUsD,EAAW,YAChDtL,KAAK4L,QAAU,GAAW5D,UAAUsD,EAAW,WAC/CtL,KAAK6L,QAAU,GAAW7D,UAAUsD,EAAW,WAC/CtL,KAAK8L,OAAS,GAAW9D,UAAUsD,EAAW,UAC9CtL,KAAK+L,YAAc,GAAW/D,UAAUsD,EAAW,gBAO1C,GAAb,WAIE,WAAYU,GAAkB,uBAC5BhM,KAAK1B,KAAO,GAAW2J,UAAU+D,EAAY,QAC7ChM,KAAK9D,KAAO,GAFgB,uBAGT,GAAW+P,QAAQD,EAAY,SAHtB,IAG5B,2BAA4D,KAAjDE,EAAiD,QACpDC,EAAK,IAAI,GAAQD,GACvBlM,KAAK9D,KAAKc,KAAKmP,IALW,+BAJhC,yDAcYZ,GACR,IAAM3M,EAAIoB,KAAK9D,KAAKkQ,QAAQ,SAACC,GAAD,OAASA,EAAId,UAAYA,KACrD,OAAgB,GAAZ3M,EAAElC,QACJ0F,QAAQC,IAAR,oBAAyBkJ,IAClBvL,KAAK9D,KAAK,IAEV0C,EAAE,KApBf,qCAyBI,GAAwB,GAApBoB,KAAK9D,KAAKQ,OACZ,OAAO,KAET,IAJU,EAIN4P,EAAOtM,KAAK9D,KAAK,GAJX,iBAKM8D,KAAK9D,MALX,IAKV,2BAA2B,KAAhBqQ,EAAgB,QACrBA,EAAEZ,SAAWW,EAAKX,WACpBW,EAAOC,IAPD,8BAUV,OAAOD,IAlCX,qCAsCI,GAAwB,GAApBtM,KAAK9D,KAAKQ,OACZ,OAAO,KAET,IAJU,EAIN4P,EAAOtM,KAAK9D,KAAK,GAJX,iBAKM8D,KAAK9D,MALX,IAKV,2BAA2B,KAAhBqQ,EAAgB,QACrBA,EAAEZ,SAAWW,EAAKX,WACpBW,EAAOC,IAPD,8BAUV,OAAOD,IA/CX,uCAkDoBvB,GAChB,IAD6B,EACzBuB,EAAuB,KADE,iBAEbtM,KAAK9D,MAFQ,IAE7B,2BAA2B,KAAhBqQ,EAAgB,QACrBA,EAAEZ,UAAYZ,IACJ,MAARuB,GAAgBC,EAAEZ,SAAWW,EAAKX,YACpCW,EAAOC,IALgB,8BAS7B,OAAOD,IA3DX,wCA+DoBtB,GAChB,IAD2B,EACvBsB,EAAuB,KADA,iBAEXtM,KAAK9D,MAFM,IAE3B,2BAA2B,KAAhBqQ,EAAgB,QAErBA,EAAEZ,UAAYX,IACJ,MAARsB,GAAgBC,EAAEZ,SAAWW,EAAKX,YAEpCW,EAAOC,IAPc,8BAW3B,OAAOD,IA1EX,qCA8EiBD,GACb,OAAOrM,KAAK9D,KAAKsQ,MAAK,SAACD,GAAD,OAAOA,EAAEZ,UAAYU,OA/E/C,sCAqFkBI,GACd,IAAMC,EAAQ1M,KAAK2M,UAAUF,GAC7B,OAAa,MAATC,EACKD,EAEAC,EAAMjB,oBA1FnB,mCAiGegB,GACX,IAAMC,EAAQ1M,KAAK2M,UAAUF,GAC7B,OAAa,MAATC,EACKD,EAEAC,EAAMlB,aAtGnB,iCA0GaoB,GACT,IAAIxB,EAAMwB,EAAQ7B,MACwB,MAAtC/K,KAAK6M,eAAeD,EAAQ7B,SAC9BK,EAAMpL,KAAK8M,eAAgBnB,UAG7B,IAAIoB,EAAOH,EAAQ5B,IAKnB,OAJwC,MAApChL,KAAK6M,eAAeD,EAAQ5B,OAC9B+B,EAAO/M,KAAKgN,eAAgBrB,UAGvB,IAAI,GAAaP,EAAK2B,KArHjC,kCA0HI,OAAO/M,KAAK9D,KAAK,KA1HrB,6CA6HyB6C,GACrB,IADkC,EAC9BH,EAAoB,KADU,iBAElBoB,KAAK9D,MAFa,IAElC,2BAA2B,KAAhB6L,EAAgB,QACrBA,EAAE4D,UAAY5M,IACP,MAALH,GAGEA,EAAE+M,SAAW5D,EAAE4D,YAFnB/M,EAAImJ,IALwB,8BAclC,OAAOnJ,IA3IX,0CA+IsBG,GAClB,IAD+B,EAC3BH,EAAoB,KADO,iBAEfoB,KAAK9D,MAFU,IAE/B,2BAA2B,KAAhB6L,EAAgB,QACrBA,EAAE4D,UAAY5M,IACP,MAALH,GAGEA,EAAE+M,SAAW5D,EAAE4D,YAFnB/M,EAAImJ,IALqB,8BAa/B,OAAOnJ,IA5JX,2CAiKI,IADA,IAAIqO,EAAQjN,KAAK9D,KAAKQ,OAAO,EACpByL,EAAI8E,EAAM9E,EAAInI,KAAK9D,KAAKQ,OAAQyL,IAAK,CAC5C,IAAM+E,EAAKlN,KAAK9D,KAAMiM,GACtB,GAAkB,GAAd+E,EAAGrB,QAAc,CACnBoB,EAAO9E,EACP,OAGJ,OAAOnI,KAAK9D,KAAM+Q,OAxKtB,KA+Ka,GAWX,WAAY/Q,GAAY,uBACtB8D,KAAKwB,KAAO,GAAWyG,UAAU/L,EAAM,QACvC8D,KAAKmN,SAAW,GAAWlF,UAAU/L,EAAM,YAC3C8D,KAAKoN,aAAe,GAAWnF,UAAU/L,EAAM,gBAC/C8D,KAAKqN,GAAK,GAAWC,QAAQpR,EAAM,MACnC8D,KAAKuN,GAAK,GAAWvF,UAAU9L,EAAM,MACrC8D,KAAKwN,IAAM,GAAWxF,UAAU9L,EAAM,OACtC8D,KAAKyN,GAAK,GAAWxF,UAAU/L,EAAM,MACrC8D,KAAK0N,QAAU,GAAWJ,QAAQpR,EAAM,WACxC8D,KAAK2N,UAAY,GAAW1F,UAAU/L,EAAM,cAKnC,GAaX,WAAYA,GAAY,uBACtB8D,KAAK4N,YAAc,GAAW3F,UAAU/L,EAAM,eAC9C8D,KAAK6N,aAAe,GAAW5F,UAAU/L,EAAM,gBAC/C8D,KAAK8N,YAAc,GAAW7F,UAAU/L,EAAM,eAC9C8D,KAAK+N,SAAW,GAAWT,QAAQpR,EAAM,YACzC8D,KAAKgO,gBAAkB,GAAW/F,UAAU/L,EAAM,mBAClD8D,KAAKiO,oBAAsB,GAAWhG,UAAU/L,EAAM,wBAK7C,GAAb,WAaE,WAAYgS,GAAW,uBACrBlO,KAAK4N,YAAc,GAAW3F,UAAUiG,EAAK,eAC7ClO,KAAK6N,aAAe,GAAW5F,UAAUiG,EAAK,gBAC9ClO,KAAK8N,YAAc,GAAW7F,UAAUiG,EAAK,eAC7ClO,KAAKmO,OAAS,GAAWlG,UAAUiG,EAAK,UACxClO,KAAKoO,IAAM,GAAWnG,UAAUiG,EAAK,OACrClO,KAAKwN,IAAM,GAAWvF,UAAUiG,EAAK,OACrClO,KAAK8H,KAAO,GAAWG,UAAUiG,EAAK,QACtClO,KAAKqO,MAAQ,GAAWpG,UAAUiG,EAAK,SACvClO,KAAKgO,gBAAkB,GAAW/F,UAAUiG,EAAK,mBACjDlO,KAAKiO,oBAAsB,GAAWhG,UAAUiG,EAAK,uBACrDlO,KAAKsO,cAAgB,GAAWhB,QAAQY,EAAK,iBAxBjD,8DA2BiBK,GACb,MAAoB,KAAhBA,EACK,MAELvO,KAAKqO,MAAM3R,OAAS,EACf6R,EAEF,YAlCX,+BAsCI,OAAOrG,SAASlI,KAAKoO,OAtCzB,+BA0CI,OAAOlG,SAASlI,KAAKwN,SA1CzB,KAgDa,GAIX,WAAYU,GAAW,uBACrBlO,KAAKwO,KAAO,GAAWvG,UAAUiG,EAAK,QACtClO,KAAK1B,KAAO,GAAW2J,UAAUiG,EAAK,SAM7B,GAAb,WAqCE,WAAYA,GAAW,uBAhCvB,KAAAO,WAA8B,GAC9B,KAAAC,cAAgC,GAChC,KAAAC,aAA8B,GAC9B,KAAAC,WAA0B,GAC1B,KAAA5C,WAA2B,GAC3B,KAAA6C,QAAyB,GA4BvB,IAAMrQ,EAAI0P,EAEVlO,KAAK8O,SAAW,GAAW7G,UAAUzJ,EAAG,YACxCwB,KAAK+O,SAAW,GAAW9G,UAAUzJ,EAAG,YACxCwB,KAAKgP,QAAU,GAAW/G,UAAUzJ,EAAG,WACvCwB,KAAKiP,YAAc,GAAWjH,UAAUxJ,EAAG,eANtB,uBAQJ,GAAW0Q,gBAAgB1Q,EAAG,eAR1B,IAQrB,2BAA+D,KAAnDuJ,EAAmD,QAC7D/H,KAAKyO,WAAWzR,KAAM,IAAI,GAAc+K,KATrB,qDAYJ,GAAWmH,gBAAgB1Q,EAAG,kBAZ1B,IAYrB,2BAAkE,KAAtD,EAAsD,QAChEwB,KAAK0O,cAAc1R,KAAM,IAAI,GAAa,KAbvB,qDAgBJ,GAAWkS,gBAAgB1Q,EAAG,iBAhB1B,IAgBrB,2BAAiE,KAArD,EAAqD,QAC/DwB,KAAK2O,aAAa3R,KAAM,IAAI,GAAY,KAjBrB,qDAoBJ,GAAWkS,gBAAgB1Q,EAAG,eApB1B,IAoBrB,2BAA+D,KAAnD,EAAmD,QAC7DwB,KAAK4O,WAAW5R,KAAM,IAAI,GAAU,KArBjB,qDAwBJ,GAAWkS,gBAAgB1Q,EAAG,eAxB1B,IAwBrB,2BAA+D,KAAnD,EAAmD,QAC7DwB,KAAKgM,WAAWhP,KAAM,IAAI,GAAW,KAzBlB,qDA2BJ,GAAWkS,gBAAgB1Q,EAAG,YA3B1B,IA2BrB,2BAA4D,KAAhD,EAAgD,QAC1DwB,KAAK6O,QAAQ7R,KAAM,IAAI,GAAY,KA5BhB,8BA+BrBoF,QAAQC,IAAI,aAAcrC,MApE9B,+DAiBkBmP,GACd,OAAOnP,KAAK0O,cAAclC,MAAM,SAAC4C,GAAD,OAAQA,EAAGxB,aAAeuB,OAlB9D,mCAqBeE,GACX,IADyB,EACrBC,OAA+BjH,EADV,iBAETrI,KAAK6O,SAFI,IAEzB,2BAA6B,KAAlBjQ,EAAkB,SAChB,MAAP0Q,GAGE1Q,EAAEwM,IAAMiE,GACRC,EAAIlE,IAAMxM,EAAEwM,OAHhBkE,EAAM1Q,IAJe,8BAYzB,OAAO0Q,IAjCX,sCAwEkB1B,GACd,OAAO5N,KAAK2O,aAAanC,MAAM,SAAC+C,GAAD,OAAQA,EAAG3B,aAAeA,OAzE7D,uCA6EmBA,GACf,OAAO5N,KAAK0O,cAAclC,MAAM,SAAC+C,GAAD,OAAQA,EAAG3B,aAAeA,OA9E9D,oCAiFgB4B,GACZ,OAAOxP,KAAKgM,WAAWQ,MAAM,SAACiD,GAAD,OAAQA,EAAGnR,MAAQkR,OAlFpD,oCAsFgBE,GAAe,uBACV1P,KAAK4O,YADK,IAC3B,2BAAkC,KAAvBe,EAAuB,QAChC,GAAIA,EAAGnO,MAAQkO,EACb,OAAOC,GAHgB,mCAtF/B,KAwGM,G,wDAAN,iD,0BAGE,EAAAV,aAAe,EACf,EAAAW,aAAqB,IAAItK,KAAK,GAC9B,EAAAuK,WAAY,EACZ,EAAAC,WAAgCzH,EAChC,EAAA0H,YAAa,EAPf,E,uDAWI3N,QAAQC,IAAI,U,+BAIZD,QAAQC,IAAI,W,6CAGS4M,GACrB7M,QAAQC,IAAI,oCAAqC4M,GAC7CjP,KAAK8P,MAAOb,aAAeA,GAE7BjP,KAAKgQ,qB,6MASYC,E,gCAEnB7N,QAAQC,IAAI,SAAU,qBAEjB,EAAMzB,a,yCACF,G,WAGLZ,KAAK6P,U,yCACA,G,YAGLvK,KAAKC,MAAQvF,KAAK4P,aAAalF,YAAcuF,E,yCAExC,G,cAST7N,QAAQC,IAAI,uBACZrC,KAAK6P,WAAY,E,UAETK,EAAQ,IAAIxI,IAClBwI,EAAMC,IAAI,WAAY,EAAavK,SAAUwK,iBAAiBtB,U,UAC5C,GAAOuB,OACrB,oBACAH,EACA,CAAEI,kBAAkB,I,QAHlBC,E,OAKFA,EAAIzG,QAEN9J,KAAK4P,aAAe,IAAItK,KAAMA,KAAKC,MAAQ,EAAKiL,SAAS,EAAG,MAE5DxQ,KAAKyQ,yBAAyBF,KAI9BnO,QAAQC,IAAR,yCAA8CkO,EAAIG,eAClD1Q,KAAK4P,aAAe,IAAItK,KAAKA,KAAKC,MAA4B,IAAnB2F,K,yBAG7ClL,KAAK6P,WAAY,E,8CAEZ,G,uKAGgBU,GACvBvQ,KAAK8P,MAAQ,IAAI,GAAWS,EAAIrU,MAChC8D,KAAK+P,YAAa,I,0CAKlB/P,KAAK4P,aAAe,IAAItK,KAAK,K,yCAO7B,IAAMqL,EAAMrL,KAAKC,MAA2B,IAAlB0F,GACtB0F,EAAM3Q,KAAK4P,aAAalF,YAC1B1K,KAAK4P,aAAe,IAAItK,KAAKqL,M,gCAK/B,OAAO3Q,KAAK8P,Q,gCAIZ,YAAqBzH,GAAdrI,KAAK8P,Q,uCAMGc,GAAqB,MACpC,IAAK5Q,KAAK6Q,UAGR,OADA7Q,KAAKgQ,mBACEY,EAGT,IAAMhS,EAAC,UAAGoB,KAAK8Q,iBAAR,aAAG,EAAgBrC,WAAWjC,MAAM,SAACzE,GAAD,OAAOA,EAAEzJ,MAAQsS,KAC5D,OAAIhS,EACKA,EAAE4P,KAEF,IAAMoC,I,sCAQDA,GAAqB,MACnC,GAAK5Q,KAAK6Q,UAKV,iBAAO7Q,KAAK8Q,iBAAZ,aAAO,EAAgBrC,WAAWjC,MAAK,SAACzE,GAAD,OAAOA,EAAEzJ,MAAQsS,KAHtD5Q,KAAKgQ,qB,mCAMIe,GACX,OAAK/Q,KAAK6Q,UAOHE,EAAUC,eALfhR,KAAKgQ,mBACEe,K,gCAQT,OAAO/Q,KAAK6Q,Y,mCAIZ,OAAK7Q,KAAK6Q,YACR,EAAKI,YACH,CAAEpO,MAAO,wBACPC,QAAS,2FACN,K,sCAMT,YAAsBuF,GAAlBrI,KAAK8Q,WAEP9Q,KAAKgQ,mBACE,IAEFhQ,KAAK8Q,UAAWrC,a,kCAIvB,IADO,EACDyC,EAAalR,KAAKmR,cAAc,UAChCvS,EAAI,IAAI8I,IAFP,iBAGSwJ,EAAYhV,MAHrB,IAGP,2BAAmC,KAAxBqQ,EAAwB,QACjC3N,EAAEuR,IAAI5D,EAAEb,UAAWa,EAAEb,YAJhB,8BAOP,IAAM0F,EAAe,GAErB,IAAK,IAAMC,KAAKzS,EACdwS,EAAGpU,KAAKqU,GAGV,OAAOD,I,wCAMSE,GAEhB,IAFiC,EAE3BJ,EAAalR,KAAKmR,cAAc,UAElC/F,EAAsB,KACtB2B,EAAuB,KALM,iBAOjBmE,EAAYhV,MAPK,IAOjC,2BAAkC,KAAvBqQ,EAAuB,QAC5BA,EAAEb,WAAa4F,IAIR,MAAPlG,IACFA,EAAMmB,GAEI,MAARQ,IACFA,EAAOR,GAGLnB,EAAIO,SAAWY,EAAEZ,WACnBP,EAAMmB,GAEJQ,EAAKpB,SAAWY,EAAEZ,WACpBoB,EAAOR,KAvBsB,8BA4BjC,gBAAUnB,EAAKK,kBAAf,cAAsCsB,EAAMtB,qB,8CAGa,UAApC6F,iBAAoC,MAAxB,GAAwB,MAApBC,mBAAoB,SAEnDL,EAAalR,KAAKmR,cAAc,UAElC/F,EAAsB,KAJ+B,iBAMzC8F,EAAWhV,MAN8B,IAMzD,2BAAiC,KAAtBqQ,EAAsB,QAC3BA,EAAEb,WAAa4F,IAIfC,GACe,GAAbhF,EAAEV,UAKG,MAAPT,IACFA,EAAMmB,GAIJnB,EAAIO,SAAWY,EAAEZ,WACnBP,EAAMmB,MAvB+C,8BA2BzD,OAAOnB,I,mCAKIoG,GAEX,IAAKxR,KAAK6Q,UAGR,OADA7Q,KAAKgQ,mBACEwB,EAGT,IAAMN,EAAalR,KAAKmR,cAAc,UAGtC,GAA8B,GAA1BD,EAAWhV,KAAKQ,OAClB,OAAO8U,EAET,IAAMC,EAAIP,EAAWvE,UAAU6E,GAC/B,OAAS,MAALC,EACKD,EAEFC,EAAE/F,Y,4CAGW8F,GAEpB,IAAKxR,KAAK6Q,UAGR,OADA7Q,KAAKgQ,mBACEwB,EAGT,IAAMN,EAAalR,KAAKmR,cAAc,UAGtC,GAA8B,GAA1BD,EAAWhV,KAAKQ,OAClB,OAAO8U,EAET,IAAMC,EAAIP,EAAWvE,UAAU6E,GAC/B,OAAS,MAALC,EACKD,EAEFxR,KAAK0R,aAAaD,EAAE/F,a,iCAGlB7F,EAAmB0F,GAC5B,IAAMoG,EAAW3R,KAAKmR,cAActL,GAC9BuL,EAAKO,EACNzV,KACAsQ,MAAK,SAACD,GAET,OAAQhB,GAAWgB,EAAEhB,WAEvB,YAAUlD,GAAN+I,EACK,KAEFA,I,8CAGeE,GAEtB,IAFuC,EAEjCJ,EAAalR,KAAKmR,cAAc,UAElC/F,EAAsB,KACtB2B,EAAuB,KALY,iBAOvBmE,EAAWhV,MAPY,IAOvC,2BAAiC,KAAtBqQ,EAAsB,QACd,MAAb+E,GAAqB/E,EAAEb,WAAa4F,IAI7B,MAAPlG,IACFA,EAAMmB,GAEI,MAARQ,IACFA,EAAOR,GAGLnB,EAAIO,SAAWY,EAAEZ,WACnBP,EAAMmB,GAEJQ,EAAKpB,SAAWY,EAAEZ,WACpBoB,EAAOR,KAvB4B,8BA2BvC,OAAW,MAAPnB,GAAuB,MAAR2B,EACV,IAAI,GAAY,EAAG,KAGrB,IAAI,GAAY3B,EAAIO,SAAUoB,EAAKpB,Y,2CAIO,UAA/B2F,iBAA+B,MAAnB,GAAmB,MAAfM,kBAAe,MAAF,EAAE,EAE3CV,EAAalR,KAAKmR,cAAc,UAElC5T,EAAyB,KAJoB,iBAMjC2T,EAAWhV,MANsB,IAMjD,2BAAiC,KAAtBqQ,EAAsB,QACd,MAAb+E,GAAqB/E,EAAEb,WAAa4F,IAGpC/E,EAAEZ,UAAYiG,IAIJ,MAAVrU,GAGEgP,EAAEZ,SAAWpO,EAAOoO,YAFxBpO,EAASgP,KAfoC,8BAuBjD,OAAOhP,I,sDAGsC,QAAjB0R,mBAAiB,OAAF,EAAE,EAC7CjP,KAAK8P,MAAOb,YAAcA,I,+CAI1B,OAAmB,MAAdjP,KAAK8P,MACD,EAEF9P,KAAK8P,MAAMb,c,oCAGN4C,GACZ7R,KAAK+P,WAAa8B,I,oCAGNjE,GACZ,IAAMkE,EAAa9R,KAAK8Q,UAAWiB,gBAAgBnE,GACnD,OAAO5N,KAAK8Q,UAAWK,cAAcW,EAAY7D,uB,4CAIjD,IAAM6D,EAAa9R,KAAK8Q,UAAWiB,gBAAgB,UACnD,OAAO/R,KAAK8Q,UAAWK,cAAcW,EAAY7D,yB,GA3YzB,IAiZtB+D,GAAgB,IAAI,GACX,MCr0BTC,IAAY,EACZC,GAAU,OAKV,G,WAYF,oCACI9P,QAAQC,IAAI,yB,yDAVd,GAAI4P,GACF,OAAOC,GAEP,IAAMC,EAAO,EAAavM,SAAUwK,iBAAiBgC,aAErD,OADAhQ,QAAQC,IAAR,gBAAqB8P,IACdA,M,mDAQAE,EAAahT,EAAagN,GACjC,IAAIiG,EAAS,IAIb,OAHID,EAAI5J,QAAQ,KAAO,IACnB6J,EAAS,KAEND,EAAMC,EAASjT,EAAM,IAAMkT,mBAAmBlG,K,kCAI7CgG,GACRA,EAAMrS,KAAKwS,WAAWH,EAAK,WAAY,EAAazM,SAAUwK,iBAAiBtB,UAC/E,IAAMnJ,EAAM,EAAM8M,aAKlB,OAJI9M,IACF0M,EAAMrS,KAAKwS,WAAWH,EAAK,MAAO1M,IAG7B0M,I,yFAQEA,EAAaK,G,iGACX1S,KAAK2S,QAAQN,EAAKK,EAAS,CAACpC,kBAAkB,I,8OAQ/C+B,EAAaK,E,6GAA+BpC,wB,SAChDsC,EAAKxJ,KAAKC,UAAU1M,OAAOkW,YAAYH,IAC7CL,EAAMrS,KAAK8S,YAAYT,G,SAEP,GAAAU,EAAMC,KAAN,UAAchT,KAAKiT,WAAnB,OAA+BZ,GAAOO,G,UAAhDhU,E,OACAyL,EAAK,IAAI,GAAU,CAACvB,OAAOlK,EAAEkK,OAAQ5M,KAAK0C,EAAE1C,QAE9CmO,EAAGP,SAAUwG,E,kCACT,GAAc4C,iB,eAKlB7I,EAAGP,QACL,GAAmBqJ,iBAAiB9I,EAAGnB,Y,kBAElCmB,G,uMAGCgI,EAAaK,G,iGACV1S,KAAKqQ,OAAOgC,EAAKK,EAAS,CAACpC,kBAAkB,I,6OAG/C+B,EAAaK,E,kHAA8BpC,wB,SACtDoC,EAAQU,SAAS,SAACrL,EAAGsJ,GACjBgB,EAAM,EAAKG,WAAWH,EAAKhB,EAAGtJ,MAElCsK,EAAMrS,KAAK8S,YAAYT,G,SACP,GAAAU,EAAMpU,IAAN,UAAaqB,KAAKiT,WAAlB,OAA8BZ,I,UAAxCzT,E,OACAyL,EAAK,IAAI,GAAU,CAACvB,OAAOlK,EAAEkK,OAAQ5M,KAAK0C,EAAE1C,QAE9CmO,EAAGP,SAAUwG,E,kCACT,GAAc4C,iB,eAMlB7I,EAAGP,QACL,GAAmBqJ,iBAAiB9I,EAAGnB,Y,kBAGlCmB,G,sHAOPgJ,GAAS,IAAI,GAEJ,MChHT,G,wDAEF,WAAYzQ,GAAQ,0CACVA,G,qNAIAlD,EAAI,IAAIgI,IACdhI,EAAEyQ,IAAI,aAAc,M,SACJ,GAAOmD,OAAO,oBAAqB5T,G,cAA7Cd,E,yBAECA,G,yGAXiB,IAgBjB,MChBT,GAGJ,WAAY2U,GAAoB,uBAC9BvT,KAAKuT,QAAUA,GAIJ,MCGT,G,WAAN,oCACE,KAAA1P,SAA0B,GAG1B,KAAA2P,cAAe,E,0DAEJC,GACTzT,KAAK6D,SAAS7G,KAAKyW,K,wCAGHA,GAChBzT,KAAK6D,SAAS7G,KAAKK,MAAM2C,KAAK6D,SAAU,CAAC4P,M,8BAOzC,IADG,EACCrV,EAAI,EADL,iBAEc4B,KAAK6D,UAFnB,IAEH,2BAAgC,KAArB6P,EAAqB,QAC1BA,EAAGC,QAAU,GAAK3T,KAAKwT,cACzBpV,IAGFA,GAAKsV,EAAGC,SAPP,8BASH,OAAOvV,I,6BAWFwV,GACL,IADkB,EACdC,EAASD,EADK,iBAGD5T,KAAK6D,UAHJ,IAGlB,2BAAgC,KAArB6P,EAAqB,QAC9B,GAAkB,GAAdA,EAAGC,QAAP,CAKA,GAAI3T,KAAKwT,eACPK,IAEIA,EAAS,GAEX,OAAO,IAAI,GAAkBH,GAIjC,GAAIA,EAAGC,QAAUE,EAEf,OAAOH,EAAGI,UAAUD,GAEtBA,GAAUH,EAAGC,UAtBG,8BA0BlB,MADAvR,QAAQ2R,MAAM,2BAA6BH,GACrC,IAAIlR,MAAM,2BAA6BkR,O,KAyBlC,M,uCCpGA,G,WAAf,oCAEE,KAAAvI,GAAK,G,uDAGH,OAAOrL,KAAKqL,K,4BAGRA,GACJrL,KAAKqL,GAAKA,M,KAKC,MCbT,G,wDAKJ,WAAY6C,GAAwB,sCAClC,eACA,EAAK8F,OAAS,GAAW/L,UAAUiG,EAAK,UACxC,EAAK+F,IAAM,GAAWjM,UAAUkG,EAAK,OACrC,sFAAY,EAAK8F,QAJiB,E,0DAQvBE,GACX,IAD6B,EACvBtV,EAAuB,GADA,iBAEVsV,GAFU,IAE7B,2BAA6B,KAAlBC,EAAkB,QACrBjG,EAAMiG,EACNC,EAAI,IAAIC,EAAgBnG,GAC9BtP,EAAE5B,KAAKoX,IALoB,8BAO7B,OAAOxV,M,GApBmB,IA0Bf,MCnBF,GAAb,WAME,WAAYsP,GAAwB,uBAOlClO,KAAKsU,IAAM,GAAWtM,UAAUkG,EAAK,OACrClO,KAAKuU,IAAM,GAAW9M,YAAYyG,EAAK,OACvClO,KAAKwU,IAAM,GAAW/M,YAAYyG,EAAK,OAf3C,0DA6BI,OAASlO,KAAKsU,IAAM,EAAK9D,SAAS,EAAG,KAASlL,KAAKC,QA7BvD,kCAiCI,QAAIvF,KAAKyU,YACCzU,KAAKsU,IAAMhP,KAAKC,SAlC9B,6BAkBemP,GACX,IAD6B,EACvB9V,EAA8B,GADP,iBAEV8V,GAFU,IAE7B,2BAA6B,KAAlBP,EAAkB,QACrBjG,EAAMiG,EACNC,EAAI,IAAIO,EAAuBzG,GACrCtP,EAAE5B,KAAKoX,IALoB,8BAO7B,OAAOxV,MAzBX,KCNM,G,wDAOJ,WAAYsP,GAAwB,oCAClC,eACA,EAAK0G,WAAa,GAAW3M,UAAUiG,EAAK,MAC5C,EAAK2G,OAAS,GAAW5M,UAAUiG,EAAK,MACxC,EAAKmB,OAAS,GAAWrH,UAAUkG,EAAK,QAJN,E,0DAOvBW,GACX,IAD4B,EACtBjQ,EAAqB,GADC,iBAGTiQ,GAHS,IAG5B,2BAA4B,KAAjBsF,EAAiB,QACpBjG,EAAMiG,EACNC,EAAI,IAAIU,EAAc5G,GAC5BtP,EAAE5B,KAAKoX,IANmB,8BAQ5B,OAAOxV,M,GAtBiB,IA2Bb,M,aC9BT,G,oHACoBN,GAEtB,OAAOA,I,wCAGgByW,GAEvB,OAAOA,M,KAII,MCJF,GAOX,WACEC,EACA3F,EACA4F,EACAC,EACAC,GAAY,uBAXd,KAAAH,MAAQ,GACR,KAAA3F,OAAQ,EACR,KAAA4F,IAAK,EACL,KAAAC,KAAM,EACN,KAAAC,KAAM,EASJnV,KAAKkV,KAAOA,EACZlV,KAAKmV,KAAOA,EACZnV,KAAKgV,MAAQA,EACbhV,KAAKqP,OAASA,EACdrP,KAAKiV,IAAMA,GAIT,G,wDAuCJ,WAAYzW,GAAsB,6BAChC,eAvCF,EAAA4W,OAAS,GAET,EAAAC,aAAqC,GAErC,EAAAC,iBAAmB,GAMnB,EAAAxG,SAAU,GAEV,EAAAyG,SAAW,GACX,EAAAC,gBAAkB,GAClB,EAAAC,mBAAqB,GAGrB,EAAAC,WAAa,EACb,EAAAC,eAAiB,GAEjB,EAAAC,UAAY,IAAItQ,KAChB,EAAAuQ,WAAa,IAAIvQ,KAEjB,EAAAwQ,WAAa,EAEb,EAAAC,OAAS,GAET,EAAAC,UAAY,GAEZ,EAAAC,WAAa,GACb,EAAAC,iBAAmB,GACnB,EAAAC,gBAAkB,GAClB,EAAAC,aAAe,GACf,EAAAC,cAAgB,GAEhB,EAAAC,aAAe,EACf,EAAAC,cAAgB,EAId,EAAKX,UAAY,GAAWY,kBAAkBhY,EAAG,cACjD,EAAKwX,UAAY,GAAW/N,UAAUzJ,EAAG,aACzC,EAAKuX,OAAS,GAAW9N,UAAUzJ,EAAG,MAEtC,EAAK4X,aAAe,GAAWnO,UAAUzJ,EAAG,4BAC5C,EAAK6X,cAAgB,GAAWpO,UAAUzJ,EAAG,6BAC7C,EAAKyX,WAAa,GAAWhO,UAAUzJ,EAAG,2BAE1C,EAAK8X,aAAe,GAAWG,OAAOjY,EAAG,gCAAiC,GAC1E,EAAK+X,cAAgB,GAAWE,OAAOjY,EAAG,iCAAkC,QAE5E,EAAK2X,gBAAkB,GAAWlO,UAAUzJ,EAAG,gCAE/C,EAAK4W,OAAS,GAAWnN,UAAUzJ,EAAG,gBACtC,EAAK+W,SAAW,GAAWtN,UAAUzJ,EAAG,iBACxC,EAAKgX,gBAAkB,GAAWvN,UAAUzJ,EAAG,eAC/C,EAAKiX,mBAAqB,GAAWxN,UAAUzJ,EAAG,sBAElD,IApBgC,EAoB1BkY,EAAuC,GAAWC,eAAenY,EAAG,gBApB1C,iBAsBXkY,EAAgB/O,WAtBL,IAsBhC,2BAAgD,kCAApC0J,EAAoC,KAAjCtJ,EAAiC,KAC9C,EAAKsN,aAAarY,KAAK,IAAI,GACzBqU,EACA,GAAWoF,OAAO1O,EAAG,UACrB,GAAW0O,OAAO1O,EAAG,KACrB,GAAW0O,OAAO1O,EAAG,KACrB,GAAW0O,OAAO1O,EAAG,QA5BO,uC,+DA/BhC,OAAO/H,KAAK0V,a,gDAiEZ,OAAI1V,KAAKqW,eAAiBrW,KAAKoW,aACtBpW,KAAK4W,qBAEd,UAAU5W,KAAK6W,+BAA+B7W,KAAKoW,cAAnD,cAAsEpW,KAAK6W,+BAA+B7W,KAAKqW,kB,qDAGnF5J,GAC5B,IAAMgD,EAAK,GAAcqH,sBACzB,OAAOrH,EAAGsH,gBAAgBtK,K,8CAEJA,GACtB,IAAMgD,EAAK,GAAcqH,sBACzB,OAAOrH,EAAGuH,aAAavK,K,+CAKvB,OAAOzM,KAAKiX,wBAAwBjX,KAAKoW,gB,6CAIzC,OAAOpW,KAAKiX,wBAAwBjX,KAAKqW,iB,2CAIzC,OAAOrW,KAAKiX,wBAAwBjX,KAAKoW,gB,sCAG9B,QACX,iBAAO,GAActF,iBAArB,iBAAO,EACLoG,gBAAgB,qBADlB,aAAO,EAC0BC,eAAenX,KAAKmW,mB,wCAGrCR,GAChB3V,KAAK2V,eAAiBA,I,0CAItB,OAAO,GAAuByB,kBAAkBpX,KAAK2V,kB,oCAIzCG,GACZ9V,KAAK8V,WAAaA,I,sCAIlB,OAAO9V,KAAK8V,a,2CAIZ,OAAO9V,KAAKwV,kB,sCASZ,OAAOxV,KAAK0V,a,kCAIZ,OAAO1V,KAAKoV,S,gCAIZ,MAAO,KAAQpV,KAAKiW,a,6CAIpB,OAAO,EAAKoB,oBAAoBrX,KAAK2C,a,qCAMrC,OAAO3C,KAAKgW,a,6BAIDtB,GACX,IAD6B,EACvB9V,EAAuB,GADA,iBAGV8V,GAHU,IAG7B,2BAA6B,KAAlBP,EAAkB,QACrBjG,EAAMiG,EAENC,EAAI,IAAIkD,EAAgBpJ,GAC9BtP,EAAE5B,KAAKoX,IAPoB,8BAU7B,OAAOxV,M,GArKmB,IA2Kf,MClKT,G,wDAwDJ,WAAYsP,EAA0BtD,GAAe,6BACnD,eAvDF,EAAAwK,OAAS,GAGT,EAAAE,iBAAmB,GAWnB,EAAAxG,SAAW,GACX,EAAAyG,SAAW,GACX,EAAAG,WAAa,EACb,EAAAC,eAAiB,GACjB,EAAAH,gBAAkB,GAClB,EAAAI,UAAY,IAAItQ,KAChB,EAAAuQ,WAAa,IAAIvQ,KAEjB,EAAAiS,OAAS,GACT,EAAAC,SAAW,EACX,EAAAC,aAAe,GACf,EAAA3B,WAAa,EACb,EAAA4B,cAAgB,GAEhB,EAAAC,KAAO,EACP,EAAA1C,IAAM,EACN,EAAAC,KAAO,EACP,EAAAC,KAAO,EAEP,EAAAY,OAAS,GAET,EAAAC,UAAY,GAIZ,EAAAC,WAAa,GACb,EAAAC,iBAAmB,GACnB,EAAAC,gBAAkB,GAClB,EAAAC,aAAe,GACf,EAAAC,cAAgB,GAIhB,EAAAtB,WAAa,GAEb,EAAA6C,SAAU,EACV,EAAAC,SAAU,EAMR,EAAKA,QAAUjN,EAEf,IAAMpM,EAAI0P,EAJyC,OA2CnD,EAAK0H,UAAY,GAAWY,kBAAkBhY,EAAG,cACjD,EAAKwX,UAAY,GAAW/N,UAAUzJ,EAAG,aACzC,EAAKuX,OAAS,GAAW9N,UAAUzJ,EAAG,MAElC,EAAKqZ,SACP,EAAKzB,aAAe,GAAWnO,UAAUzJ,EAAG,4BAC5C,EAAK6X,cAAgB,GAAWpO,UAAUzJ,EAAG,6BAC7C,EAAKyX,WAAa,GAAWhO,UAAUzJ,EAAG,2BAC1C,EAAK2X,gBAAkB,GAAWlO,UAAUzJ,EAAG,kCAG/C,EAAK4X,aAAe,GAAWnO,UAAUzJ,EAAG,wBAC5C,EAAK6X,cAAgB,GAAWpO,UAAUzJ,EAAG,wBAC7C,EAAKyX,WAAa,GAAWhO,UAAUzJ,EAAG,uBAC1C,EAAK2X,gBAAkB,GAAWlO,UAAUzJ,EAAG,4BAC/C,EAAK+Y,OAAS,GAAWtP,UAAUzJ,EAAG,iBACtC,EAAK4W,OAAS,GAAWnN,UAAUzJ,EAAG,kBACtC,EAAK+W,SAAW,GAAWtN,UAAUzJ,EAAG,mBACxC,EAAKkX,WAAa,GAAWe,OAAOjY,EAAG,qBACvC,EAAK8W,iBAAmB,GAAWrN,UAAUzJ,EAAG,uBA9DC,E,+DA/CnD,OAAOwB,KAAK0V,a,qCAIZ,OAAO1V,KAAK4V,Y,gDAmHZ,OAAI5V,KAAKqW,eAAiBrW,KAAKoW,aACtBpW,KAAK4W,qBAEd,UAAU5W,KAAK6W,+BAA+B7W,KAAKoW,cAAnD,cAAsEpW,KAAK6W,+BAA+B7W,KAAKqW,kB,qDAGlF5J,GAC7B,IAAMgD,EAAK,GAAcqH,sBACzB,OAAOrH,EAAGsH,gBAAgBtK,K,8CAEJA,GACtB,IAAMgD,EAAK,GAAcqH,sBACzB,OAAOrH,EAAGuH,aAAavK,K,+CAKvB,OAAOzM,KAAKiX,wBAAwBjX,KAAKoW,gB,6CAIzC,OAAOpW,KAAKiX,wBAAwBjX,KAAKqW,iB,2CAIzC,OAAOrW,KAAKiX,wBAAwBjX,KAAKoW,gB,sCAG9B,QACX,iBAAO,GAActF,iBAArB,iBAAO,EAAyBoG,gBAAgB,qBAAhD,aAAO,EAAwDC,eAAenX,KAAKmW,mB,qCAKnF,OAAInW,KAAK8X,WAAmB,YACrB9X,KAAKuX,S,8BAGNQ,GACN/X,KAAK4X,QAAUG,I,+BAIf,OAAO/X,KAAK4X,U,iCAIZ,OAA6B,GAAtB5X,KAAKuX,OAAO7a,S,yCAInB,OAAOsD,KAAK6X,U,wCAIIlC,GAChB3V,KAAK2V,eAAiBA,I,0CAItB,OAAO,GAAuByB,kBAAkBpX,KAAK2V,kB,sCAGvC8B,GACdzX,KAAKyX,aAAeA,I,wCAIpB,OAAO,GAAuBL,kBAAkBpX,KAAKyX,gB,sCAIrD,OAAO,GAAuBL,kBAAkBpX,KAAK+U,c,oCAGzCe,GACZ9V,KAAK8V,WAAaA,I,sCAIlB,OAAO9V,KAAK8V,a,2CAIZ,OAAO9V,KAAKwV,kB,yCAIZ,OAAOxV,KAAK0X,gB,gCAIZ,OAAO1X,KAAKmV,O,gCAIZ,OAAOnV,KAAKkV,O,gCAIZ,OAAOlV,KAAK2X,O,+BAIZ,OAAO3X,KAAKiV,M,sCAQZ,OAAOjV,KAAK0V,a,kCAIZ,OAAO1V,KAAKoV,S,gCAIZ,MAAO,KAAQpV,KAAKiW,a,6CAIpB,OAAO,EAAKoB,oBAAoBrX,KAAK2C,a,qCAIrC,OAAO3C,KAAKgW,a,6BAIDtB,E,GAEI,UADbqD,cACa,aAAfnN,cAAe,SAEThM,EAAmB,GAFV,iBAKI8V,GALJ,IAKf,2BAA6B,KAAlBP,EAAkB,QACrBjG,EAAMiG,EAGNC,EAAI,IAAI4D,EAAY9J,EAAKtD,GAC/BwJ,EAAE6D,QAAQF,GACVnZ,EAAE5B,KAAKoX,IAXM,8BAaf,OAAOxV,M,GAnRe,IAyRX,MCzST,G,wDAQJ,WAAYsP,GAAwB,oCAClC,eARF,EAAAqH,SAAW,GACX,EAAAC,gBAAkB,GAClB,EAAA0C,QAAU,GAEV,EAAA5C,iBAAmB,GAKf,EAAKC,SAAW,GAAWtN,UAAUiG,EAAK,mBAC1C,EAAKgK,QAAU,GAAWjQ,UAAUiG,EAAK,kBACzC,EAAKsH,gBAAkB,GAAWvN,UAAUiG,EAAK,iBACjD,EAAKoH,iBAAmB,GAAWrN,UAAUiG,EAAK,kBALlB,E,0DASvBwG,GACX,IAD6B,EACvB9V,EAAyB,GADF,iBAEV8V,GAFU,IAE7B,2BAA6B,KAAlBP,EAAkB,QACrBjG,EAAMiG,EACNC,EAAI,IAAI+D,EAAkBjK,GAChCtP,EAAE5B,KAAKoX,IALoB,8BAO7B,OAAOxV,M,GAxBqB,IA4BjB,MC1CT,G,WAWJ,cAKa,QALEiE,aAKF,MALU,GAKV,MAJXuV,kBAIW,aAHXC,eAGW,aAFXC,mBAEW,aADXC,eACW,MADD,GACC,MAAX/W,YAAW,MAAJ,GAAI,yBAbb,KAAA4W,YAAa,EACb,KAAAE,aAAc,EAEd,KAAA/W,MAAwB,KACxB,KAAArF,KAAmB,GAEnB,KAAAmc,SAAU,EAQNrY,KAAK6C,MAAQA,EACb7C,KAAKwB,KAAOA,EACZxB,KAAKqY,QAAUA,EACfrY,KAAKoY,WAAaA,EAClBpY,KAAKsY,YAAcA,EACnBtY,KAAKuY,QAAUA,E,uDAGXC,GACNxY,KAAK9D,KAAKc,KAAKwb,K,8BAIf,OAAOxY,KAAK9D,KAAKQ,S,gCAGTF,GACR,OAAOwD,KAAK9D,KAAKM,K,6BAGZic,GAAiB,uBACNA,GADM,IACtB,2BAAuB,KAAZjc,EAAY,QACrBwD,KAAK9D,KAAKc,KAAKR,IAFK,iC,mCAOtB,OAAIwD,KAAKoY,WACP,UAAUpY,KAAK6C,MAAf,cAA0B7C,KAAK2T,QAA/B,KAEA,UAAU3T,KAAK6C,S,iCAgBjB,OAAO7C,KAAKuB,U,KAID,MCzEF,GAAb,qCAMa,GAAb,qCCYa,GAAb,oCAEE,KAAAmX,UAAY,EACZ,KAAAC,gBAAkB,GAClB,KAAAC,kBAAoB,GACpB,KAAAC,aAAe,GAEf,KAAAC,YAAiC,GACjC,KAAAC,gBAAiB,EAEjB,KAAAC,cAAgB,EAEhB,KAAAC,cAAgB,EAGhB,KAAAC,KAAO,GACP,KAAAC,OAAS,GAET,KAAAC,SAAW,EAEX,KAAAC,kBAAoB,EAEpB,KAAAC,gBAA4C,GAG5C,KAAAzK,QAA2B,IAIvB,G,6GAKWzE,GACb,IAAM7M,EAAS,IAAI,GAKfgc,EAAc,GAAgBjQ,MAChCc,EAAKoP,YAAY,aACjBD,EAAcA,EAAYnN,QAAQ,SAACqN,GACjC,OAAQ,EAAMC,SAASD,EAAGrE,WAG9B,IAZ4B,EAYtBuE,EAAQ,EAAa/T,SAAUgU,UAAWxP,EAAKoP,YAAY,WAE3DK,EAAa,GAAYvQ,MAAOc,EAAKoP,YAAY,SAAU,IAE3DM,EAAY,GAAYxQ,MAAOc,EAAKoP,YAAY,WAAY,CAACzB,QAAQ,IAErEgC,EAAgB,GAAYzQ,MAAOc,EAAKoP,YAAY,WAAY,CAClEzB,QAAQ,EACRnN,QAAQ,IAGNoP,EAA0B,GAAuB1Q,MACrDc,EAAKoP,YAAY,MAGbS,EAAkB,GAAkB3Q,MAAOc,EAAKoP,YAAY,WAG9DU,EAAY,GAAc5Q,MAAOc,EAAKoP,YAAY,YAGlDV,EAAc,GAAgBxP,MAClCc,EAAKoP,YAAY,iBAGfW,EAAe,EArCW,iBAsCVR,GAtCU,IAsC9B,2BAA2B,KAAhBjN,EAAgB,QACpBA,EAAM0N,YACJ1N,EAAM2N,cACTF,KAzCwB,8BA8C9B,IAAMG,EAAUX,EAAMvN,QAAQ,SAACgI,GAAD,OAAQA,EAAEiG,cAAgBjG,EAAEmG,cAGpDC,EAAUb,EAAMvN,QAAQ,SAACgI,GAAD,OAAQA,EAAEiG,eAAiBjG,EAAEmG,cAQ3Dhd,EAAO0b,cACHqB,EAAQ5d,OACiB,GAApBmd,EAAWnd,OACQ,IAAnBod,EAAUpd,OACa,IAAvBqd,EAAcrd,OACG,IAAjB8d,EAAQ9d,OAQf,IAAMgY,EAAW,IAAI,GAGjBnB,EAAU,IAAI,GAAY,CAAE1Q,MAAO,oBAAqBuV,YAAY,IAuExE,OAtEI0B,EAAUpd,OAASqd,EAAcrd,OAAS,GAC1B,GAAhByd,IAEF5G,EAAU,IAAI,GAAY,CAAC1Q,MAAO,iBAAkBuV,YAAY,IAChE7E,EAAQkH,QAAQ,IAAI,IACpBlH,EAAQ8E,SAAU,GAEpB3D,EAASgG,WAAWnH,GAEpBA,EAAU,IAAI,GAAY,CAAC1Q,MAAO,qBAAsBuV,YAAY,EAChE5W,KAAM,EAAKW,aAAaJ,0BAA0BP,OACtD+R,EAAQoH,OAAOV,GACfvF,EAASgG,WAAWnH,GAEpBA,EAAU,IAAI,GAAY,CAAE1Q,MAAO,UAAWuV,YAAY,EACtD5W,KAAM,EAAKW,aAAaH,oBAAoBR,OAChD8Y,EAAQM,MAAK,SAACC,EAAIC,GAChB,OAAQD,EAAGE,oBAAsBD,EAAGC,uBAEtCxH,EAAQoH,OAAOL,GACf5F,EAASgG,WAAWnH,GAEpBA,EAAU,IAAI,GAAY,CAAE1Q,MAAO,aAAcuV,YAAY,EACzD5W,KAAM,EAAKW,aAAaD,uBAAuBV,OACnDgZ,EAAQI,MAAK,SAACC,EAAIC,GAChB,OAAQD,EAAGE,oBAAsBD,EAAGC,uBAEtCxH,EAAQoH,OAAOH,GACf9F,EAASgG,WAAWnH,GAIpBA,EAAU,IAAI,GAAY,CAAC1Q,MAAO,iBAAkBuV,YAAY,IAChE7E,EAAQoH,OAAOb,GACfvG,EAAQoH,OAAOZ,GACfrF,EAASgG,WAAWnH,GAEpBA,EACI,IAAI,GAAY,CAAC1Q,MAAO,oBAAqBuV,YAAY,IAC7D7E,EAAQoH,OAAOd,GACfnF,EAASgG,WAAWnH,GAEQ,GAAxBwG,EAAcrd,QAA+B,GAAhByd,IAC/B5G,EAAU,IAAI,GAAY,CAAC1Q,MAAO,gBAAiBuV,YAAY,EAAOE,aAAa,IAEnF/E,EAAQ/R,KAAO,EAAKW,aAAaF,yBAAyBT,KAC1D+R,EAAQoH,OAAOpB,GACW,GAAtBA,EAAY7c,QACd6W,EAAQkH,QAAQ,IAAI,IAEtB/F,EAASgG,WAAWnH,IAItBhW,EAAOyd,SAAWtG,EAClBnX,EAAO6b,SAAW,GAAW3C,OAAOrM,EAAK0G,UAAW,QACpDvT,EAAOmb,UAAY,GAAWjC,OAAOrM,EAAK0G,UAAW,aACrDvT,EAAOob,gBAAkB,GAAW1Q,UAAUmC,EAAK0G,UAAW,mBAC9DvT,EAAOsb,aAAe,GAAW5Q,UAAUmC,EAAK0G,UAAW,gBAC3DvT,EAAOqb,kBAAoB,GAAW3Q,UAAUmC,EAAK0G,UAAW,SAChEvT,EAAOub,YAAcA,EACrBvb,EAAOwb,eAAiBgB,EAAcrd,OAAS,EAC/Ca,EAAO2b,KAAO,GAAWjR,UAAUmC,EAAK0G,UAAW,SACnDvT,EAAO4b,OAAS,GAAWlR,UAAUmC,EAAK0G,UAAW,WACrDvT,EAAOyb,cAAgB,GAAWvC,OAAOrM,EAAK0G,UAAW,iBACzDvT,EAAO8b,kBAAoB,GAAW5C,OAAOrM,EAAK0G,UAAW,qBAC7DvT,EAAOsR,QAAUqL,EACjB3c,EAAO+b,gBAAkBU,EAEzB5X,QAAQC,IAAI,GAAWoF,YAAY2C,EAAKlO,KAAM,OACvCqB,M,KAGI,MCpLE,UAAI0d,OAAQ,CACzB3c,KAAM,iBACNpC,KAAM,iBAAO,CACXqL,YAAa,eAEf2T,QAAS,WAAF,+CAAE,iHACDpe,EAAO,IAAI,GAAkBkD,MAD5B,SAESlD,EAAKqe,aAFd,OAEDvc,EAFC,OAGPoB,KAAKob,MAAM7T,YAAc3I,EAAEmK,QAEvBnK,EAAEkL,SACE1L,EAAI,IAAI,GACRid,EAAKjd,EAAEkd,eAAe1c,GAC5BwD,QAAQC,IAAI,mBAAoBgZ,GAChC,GAAcE,uBAAuBF,EAAGhC,oBATnC,gDAAF,qDAAE,GAaTmC,QAAS,CACPC,GADO,WAELzb,KAAKuH,YAAc,OC3CoY,M,oDCO3Z,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAUhC,IAAkB,GAAW,CAACmU,SAAA,KAAMC,aAAA,QAAaC,UAAA,QAAUC,WAAA,QAAWC,YAAA,KAASC,SAAA,OC5B/E,IAAI,GAAS,WAAa,IAAIhc,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACyG,YAAY,eAAetG,MAAM,CAAC,MAAQ,QAAQ,CAACH,EAAG,eAAe,CAACA,EAAG,KAAK,CAACyG,YAAY,aAAa,CAAC7G,EAAIQ,GAAG,aAAaJ,EAAG,cAAc,CAACA,EAAG,SAAS,CAACA,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,WAAW,eAAe,sBAAsB0b,MAAM,CAACjd,MAAOgB,EAAY,SAAEmE,SAAS,SAAU+X,GAAMlc,EAAImc,SAASD,GAAKE,WAAW,cAAchc,EAAG,eAAe,CAACG,MAAM,CAAC,MAAQ,WAAW,KAAOP,EAAIqc,aAAe,OAAS,WAAW,eAAe,WAAW,cAAcrc,EAAIqc,aAAc,UAAY,eAAe3b,GAAG,CAAC,eAAe,SAASiG,GAAQ3G,EAAIqc,cAAgBrc,EAAIqc,eAAeJ,MAAM,CAACjd,MAAOgB,EAAY,SAAEmE,SAAS,SAAU+X,GAAMlc,EAAIsc,SAASJ,GAAKE,WAAW,eAAe,IAAI,GAAGhc,EAAG,aAAaA,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,YAAY,CAACP,EAAIQ,GAAG,cAAcJ,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,QAAQG,GAAG,CAAC,MAAQ,SAASiG,GAAQ,OAAO3G,EAAIuc,kBAAkB,CAACvc,EAAIQ,GAAG,YAAY,IAAI,IAChgC,GAAkB,GCGhB,G,wDAEF,WAAYqC,GAAQ,0CACVA,G,qNAIAlD,EAAI,IAAIgI,I,SACE,GAAO6U,MAAM,iBAAkB7c,G,cAAzCd,E,yBACCA,G,yGATa,IAeb,MCVT,G,kLAIFwD,QAAQC,IAAI,U,+BAIZD,QAAQC,IAAI,a,GARY,IActBma,GAAK,IAAI,GACA,MCfT,G,kLAIFpa,QAAQC,IAAI,U,+BAIZD,QAAQC,IAAI,a,GARc,IAcxB,GAAK,IAAI,GACA,MCjBT,G,kLAIFD,QAAQC,IAAI,U,+BAIZD,QAAQC,IAAI,a,GARU,IAcpB,GAAK,IAAI,GACA,MCUT,G,wDAKF,WAAYO,EAAUtE,EAAcme,GAAW,oCAC3C,cAAM7Z,GACN,EAAKtE,KAAOA,EACZ,EAAKme,IAAMA,EAHgC,E,6NAOrC/c,EAAI,IAAIgI,IACdhI,EAAEyQ,IAAI,OAAQnQ,KAAK1B,MACnBoB,EAAEyQ,IAAI,MAAOnQ,KAAKyc,K,SAEF,GAAOnJ,OAAO,gBAAiB5T,G,UAAzCd,E,QACFA,EAAEkL,O,wBACE5N,EAAO0C,EAAE1C,KACf,EAAM+N,WAAW,GAAWhC,UAAU/L,EAAM,QAC5C,EAAMwgB,WAAY,GAAWzU,UAAU/L,EAAM,oBAC7C,EAAMygB,YAAa,GAAW1U,UAAU/L,EAAM,aAC9C,EAAM0gB,QAAS,GAAW3U,UAAU/L,EAAM,SAEpC2gB,EAAK,IAAI,GAAc7c,KAAK4C,K,UAChBia,EAAG1B,a,QAAf2B,E,OAEAC,EAAUD,EAAI5gB,KACpB,EAAM8gB,aAAc,GAAWhV,UAAU+U,EAAS,cAClD,EAAME,MAAO,GAAWhV,UAAU/L,EAAM,cAAe,OACvD,EAAMghB,MAAO,GAAWjV,UAAU/L,EAAM,mBAGxC,GAAcihB,OACd,GAAgBA,OAChB,GAAYA,O,iCAGPve,G,+GAtCS,IA2CT,MCvCA,UAAIqc,OAAQ,CACzB3c,KAAM,QACNpC,KAAM,iBAAO,CACXkgB,cAAc,EACdF,SAAU,GACVG,SAAU,KAEZb,QAAS,CACPc,aAAc,WAAF,+CAAE,6GAENc,EAAY,IAAI,GAAUpd,KAAwBA,KAAKkc,SAAUlc,KAAKqc,UAFhE,SAGKe,EAAUjC,aAHf,OAGN9Q,EAHM,OAKRA,EAAGP,QACL,EAAK5G,KAAKlD,KAAwB,aANxB,gDAAF,qDAAE,MC5CoY,M,aCOlZ,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAahC,IAAkB,GAAW,CAACgG,OAAA,KAAK0V,SAAA,KAAMC,aAAA,QAAaC,UAAA,QAAUC,WAAA,QAAWC,YAAA,KAASC,SAAA,KAAMzV,UAAA,KAAQ+W,cAAA,OC/BlG,IAAI,GAAS,WAAa,IAAItd,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,SAAS,CAACyG,YAAY,eAAetG,MAAM,CAAC,MAAQ,QAAQ,CAACH,EAAG,eAAe,CAACA,EAAG,KAAK,CAACyG,YAAY,aAAa,CAAC7G,EAAIQ,GAAG,aAAaJ,EAAG,cAAc,CAACA,EAAG,WAAW,GAAGA,EAAG,aAAaA,EAAG,mBAAmB,IAC/S,GAAkB,GCkBP,UAAI8a,OAAQ,CACzB3c,KAAM,QACNpC,KAAM,iBAAO,CACXkgB,cAAc,MCtBoY,MCOlZ,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,MAIa,MAAiB,QAUhC,IAAkB,GAAW,CAACV,SAAA,KAAMC,aAAA,QAAaC,UAAA,QAAUC,WAAA,QAAWC,YAAA,KAASC,SAAA,OC5B/E,IAAI,GAAS,WAAa,IAAIhc,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACyG,YAAY,kBAAkB,CAACzG,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACA,EAAG,aAAa,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIud,KAAKC,WAAWxd,EAAIyd,WAAWC,eAAe1d,EAAIQ,GAAG,KAAKR,EAAIS,GAAGT,EAAIud,KAAKI,aAAa3d,EAAIyd,WAAWC,YAAY,MAAMtd,EAAG,cAAc,CAACG,MAAM,CAAC,OAASP,EAAIud,KAAKK,mBAAmB5d,EAAIyd,WAAWC,cAActd,EAAGJ,EAAI6d,iBAAiB,CAACC,IAAI,YAAYvd,MAAM,CAAC,OAASP,EAAI+d,eAAe3d,EAAG,aAAa,CAACJ,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIud,KAAKC,WAAWxd,EAAIyd,WAAWO,kBAAkBhe,EAAIQ,GAAG,IAAIR,EAAIS,GAAGT,EAAIud,KAAKI,aAAa3d,EAAIyd,WAAWO,eAAe,KAAK5d,EAAG,cAAc,CAACG,MAAM,CAAC,OAASP,EAAIud,KAAKK,mBAAmB5d,EAAIyd,WAAWO,iBAAiB5d,EAAG,MAAMJ,EAAIQ,GAAG,eAAeR,EAAIS,GAAGT,EAAIud,KAAKU,4BAA4B,KAAK7d,EAAG,MAAMA,EAAG,QAAQ,CAACG,MAAM,CAAC,aAAa,KAAK,CAACH,EAAG,QAAQ,CAACG,MAAM,CAAC,MAAQ,aAAaG,GAAG,CAAC,MAAQV,EAAIke,SAAS,CAACle,EAAIQ,GAAG,UAAUJ,EAAG,YAAYA,EAAG,QAAQ,CAACG,MAAM,CAAC,UAAYP,EAAIme,YAAY,MAAQ,aAAazd,GAAG,CAAC,MAAQ,SAASiG,GAAQ,OAAO3G,EAAIoe,YAAY,CAACpe,EAAIQ,GAAG,WAAWJ,EAAG,QAAQ,CAACyG,YAAY,cAActG,MAAM,CAAC,UAAYP,EAAIqe,eAAe,MAAQ,aAAa3d,GAAG,CAAC,MAAQ,SAASiG,GAAQ,OAAO3G,EAAIse,eAAe,CAACte,EAAIQ,GAAG,WAAW,IAAI,IAAI,IAAI,IACvwC,GAAkB,G,0BCOD,GAArB,yG,0BAEE,EAAA+d,UAAW,EACX,EAAAC,WAAY,EACZ,EAAAta,WAAa,GAJf,2DAOQjE,KAAKue,YAITve,KAAKiE,WAAajE,KAAKwe,gBAEnBxe,KAAKiE,WAAWvH,OAAS,GAC3B,EAAG+hB,OAAOze,KAAKiE,WAAYjE,KAAK0e,SAElC1e,KAAKue,WAAY,KAhBrB,kCAoBQve,KAAKiE,WAAWvH,OAAS,GAC3B,EAAGiiB,SAAS3e,KAAKiE,WAAYjE,KAAK0e,WArBxC,sCA6BI,MAAO,KA7BX,8BAgCU9a,GAEN5D,KAAKwe,oBAlCT,GAA+C,QAA1B,GAAiB,iBADrC,SACoB,cCHf,I,qBAAN,oCACI,KAAAtQ,IAAmC,IAAIxG,I,wDAE9BkX,GACL5e,KAAKkO,IAAIiC,IAAIyO,EAAGC,OAAQD,K,iCAGjBA,GACP5e,KAAKkO,IAAI4Q,OAAOF,EAAGC,U,oCAGTA,GACV,GAAI7e,KAAKkO,IAAI6Q,IAAIF,GACb,OAAO7e,KAAKkO,IAAIvP,IAAIkgB,GAExB,MAAMnc,MAAM,sC,MAKdsc,GAAW,IAAI,GACN,MCaE,MAAkB/D,OAAO,CACtC3c,KAAM,eACNpC,KAFsC,WAGpC,MAAO,CACLmP,GAAI,GACJiS,KAAM,KACN2B,MAAO,GACPC,MAAO,GACP1B,WAAY,GACZ2B,cAAe,OAInBC,QAbsC,WAcpCpf,KAAKsd,KAAO,EAAa1X,SAAUyZ,WACnCrf,KAAKqL,GAAKrL,KAAKsf,OAAOC,OAAOlU,GAC7BrL,KAAKwd,WAAa,EAAa5X,SAAU4Z,kBAAkBxf,KAAKqL,IAChE,GAAuBoU,SAASzf,KAAKwd,aAGvCkC,cApBsC,WAqBpC,GAAuBC,WAAW3f,KAAKwd,YACvC5d,OAAOggB,oBAAoB,UAAW5f,KAAKmf,gBAG7CjE,QAzBsC,WA0BpC9Y,QAAQC,IAAI,kCACZrC,KAAKwd,WAAWqC,YAAa,EAC7B7f,KAAKwd,WAAWsC,iBAChB9f,KAAKmf,cAAgBnf,KAAK+f,UAAUzgB,KAAKU,MACzCJ,OAAOogB,iBAAiB,UAAWhgB,KAAKmf,gBAG1Cc,SAAU,CACRrC,iBADQ,WAEN,MAAO,eAIXpC,QAAS,CACPuE,UADO,SACGtO,GAER,OAAQA,EAAEyO,SACR,KAAK,GAEHlgB,KAAKme,SACL,MACF,KAAK,GAEHne,KAAKqe,YACL,QAINF,OAfO,WAgBDne,KAAKke,aACPle,KAAKwd,WAAW2C,kBAGpB9B,UApBO,WAqBDre,KAAKoe,gBACPpe,KAAKwd,WAAW4C,qBAGpBlC,UAzBO,WA0BL,OAAOle,KAAKwd,WAAW6C,qBAEzBjC,aA5BO,WA6BL,OAAOpe,KAAKwd,WAAW8C,wBAEzBrC,OA/BO,WAgCLje,KAAKwd,WAAW+C,aAGlBzC,UAnCO,WAoCL,OAAO9d,KAAKsf,OAAOC,OAAOlU,IAE5BmT,cAtCO,WAuCL,MAAO,aAAcxe,KAAKsf,OAAOC,OAAOlU,IAE1CqT,QAzCO,SAyCCjN,GACNrP,QAAQC,IAAI,cAAeoP,EAAEnT,KAAMmT,EAAEvV,MACrC8D,KAAKob,MAAM7T,YAAc,GACzBvH,KAAKob,MAAMkC,KAAO7L,EAAEvV,KACpB8D,KAAKif,MAAQjf,KAAKob,MAAMkC,KAAKkD,eAC7BxgB,KAAKkf,MAAQlf,KAAKob,MAAMkC,KAAKmD,mBC5H0X,M,sCCQ3Z,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAShC,IAAkB,GAAW,CAACza,OAAA,KAAK0a,QAAA,KAAKC,cAAA,KAAW3Z,QAAA,KAAKV,UAAA,OC5BxD,IAAI,GAAS,WAAa,IAAIvG,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAACyG,YAAY,UAAU,CAAC7G,EAAI6gB,GAAG,YAAY,IACjJ,GAAkB,GCOL,UAAI3F,OAAO,CACxB3c,KAAM,eCT4Y,MCQlZ,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCnBX,GAAS,WAAa,IAAIyB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,OAAO,CAAC0gB,MAAM9gB,EAAI+gB,SAAS,CAAC/gB,EAAIQ,GAAGR,EAAIS,GAAGT,EAAIghB,YAC7I,GAAkB,GCOL,UAAI9F,OAAO,CACxB3c,KAAM,aACNkd,QAAS,CACPsF,MADO,WAEL,OAAI9gB,KAAK+gB,OAAS,EACT,aAEF,cAGXC,MAAO,CACLD,OAAQvb,UCnB2Y,MCQrZ,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCfT,G,qHAEF,OAAIK,UAAU,aAAcob,IAC5B,OAAIpb,UAAU,cAAeqb,Q,KAKlB,MCMT,G,mGAECC,GAEL,OAAIC,OAAOC,eAAgB,EAE3B,OAAI/Z,IAAI,SAER,GAAgBga,kBAMlB,EAAa1b,SAAYub,EAErB,IAAMI,EAAe,GAGrB,OAAIja,IAAI,QAAOia,GAEf,IAAMC,EAAS,CACb,CAAExe,KAAM,YACN1E,KAAM,WACNuH,UAAW4b,IAEb,CAAEze,KAAM,YAAa6C,UAAW6b,IAChC,CAAE1e,KAAM,SAAU6C,UAAW8b,IAC7B,CAAE3e,KAAM,SAAU6C,UAAW+b,IAC7B,CAAE5e,KAAM,IAAK6C,UAAW6b,KAGpBG,EAAS,IAAI,QAAU,CAC3BL,WAEFK,EAAOC,YAAW,SAACC,EAAIC,EAAMC,GAE3BA,OAIF,IAAMrf,EAAM,IAAI,OAAI,CAClBif,SACAK,WACAC,OAAQ,SAAAC,GAAC,OAAIA,EAAEC,OACdC,OAAO,QAEV,EAAKC,OAAO3f,O,KAOD,MC5DA,G,2HAqEX,MAAO,O,KAwDI,MC3HT,G,wDAAN,iD,0BAGE,EAAA4f,UAAY,4BAEZ,EAAAlkB,KAAO,kBAMP,EAAAmkB,kBAAoB,cAKpB,EAAArQ,aAAe,+BAKf,EAAAsQ,YAAc,uBAMd,EAAA5T,SAAW,KAKX,EAAA6T,OAAS,mBAGT,EAAAC,cAAgB,QAehB,EAAAC,aAAc,EAKd,EAAAC,WAAY,EAKZ,EAAAC,cAAgB,KAKhB,EAAAC,iBAAmB,GAjErB,E,4EAqEI,MAAO,O,GArE4B,IA6HjCrR,GAAW,IAAI,GACN,M,aC1IT,G,8GAKctC,GAChB,IAAM4T,EAAK,GAAcnS,UACzB,OAAU,MAANmS,EACK,YAEFA,EAAGC,aAAa7T,GAASxM,U,KAKrB,MCTA,G,wDAmGb,iDACE,eAlGF,EAAAsgB,IAA2B,IAAIzb,IAI/B,EAAA2X,UAAW,EAEX,EAAA+D,eAAiB,GAEhB,EAAAC,WAAa,GAEb,EAAAlgB,OAAS,GAET,EAAAmgB,cAAe,EACf,EAAAC,cAAe,EAEf,EAAAC,gBAAiB,EACjB,EAAAC,gBAAiB,EAGjB,EAAAC,cAAgB,GAEjB,EAAA7N,WAAa,IAAIvQ,KAEjB,EAAAqe,SAAW,IAAIre,KAGf,EAAAse,SAAU,EACV,EAAAC,SAAU,EACV,EAAAC,YAAa,EAEb,EAAAhO,WAAa,EAGb,EAAAiO,kBAAoB,EACnB,EAAAC,kBAAoB,EACpB,EAAAC,wBAA0B,EAC1B,EAAAC,wBAA0B,EAE1B,EAAAC,eAAiB,GAEjB,EAAAC,aAAc,EAGd,EAAAC,YAAa,EACb,EAAAC,qBAAuB,GACvB,EAAAC,4BAA8B,GAC9B,EAAAtV,YAAc,GACd,EAAAuV,WAAY,EACZ,EAAAC,UAAW,EAEX,EAAAC,UAAW,EACX,EAAAC,gBAAkB,GAKlB,EAAAC,YAAc,EACd,EAAAC,UAAY,EACZ,EAAAC,KAAO,EACP,EAAAC,eAAiB,EAEjB,EAAAC,QAAU,GACV,EAAAC,UAAY,GACZ,EAAAC,YAAc,EACd,EAAAC,gBAAkB,GAClB,EAAAC,iBAAmB,GAEnB,EAAAC,QAAU,GACV,EAAAC,UAAY,GACZ,EAAAC,YAAc,EACd,EAAAC,gBAAkB,GAClB,EAAAC,iBAAmB,GAKnB,EAAA3W,SAAW,GACX,EAAAiH,OAAS,GACT,EAAA2P,SAAW,GACX,EAAAC,OAAS,EACT,EAAAC,OAAQ,EACR,EAAAC,SAAW,GACX,EAAAC,SAAW,GACX,EAAAC,YAAc,GACd,EAAAC,YAAc,GACd,EAAAC,aAAyB,GACzB,EAAAvW,QAAU,GACV,EAAAwW,YAAc,GACd,EAAAC,cAAgB,GAChB,EAAAC,oBAAsB,GACtB,EAAAC,oBAAsB,GAOvB,E,oDAkBK7nB,GACHwB,KAAKmjB,IAAM3kB,EAEXwB,KAAKqL,GAAK,GAAW5D,YAAYjJ,EAAG,OACrB,MAAXwB,KAAKqL,KACPrL,KAAKqL,GAAK,GAAW5D,YAAYjJ,EAAG,OAGtCwB,KAAKgmB,YAAc,GAAW/d,UAAUzJ,EAAG,KAAM,IACjDwB,KAAK+V,OAAS,GAAW9N,UAAUzJ,EAAG,MACtCwB,KAAK8O,SAAW,GAAW7G,UAAUzJ,EAAG,YACxCwB,KAAK4kB,YAAc,GAAW5c,UAAUxJ,EAAG,cAC3CwB,KAAK0lB,SAAW,GAAWzd,UAAUzJ,EAAG,aAExCwB,KAAK0P,QAAU,GAAWzH,UAAUzJ,EAAG,YACvCwB,KAAKkmB,YAAc,GAAWje,UAAUzJ,EAAG,kBAC3CwB,KAAKmmB,cAAgB,GAAWle,UAAUzJ,EAAG,mBAE7CwB,KAAK2lB,MAAQ,GAAW3d,UAAUxJ,EAAG,UACrCwB,KAAK6kB,UAAa,GAAW7c,UAAUxJ,EAAG,eAC1CwB,KAAKimB,aAAe,GAAW/W,gBAAgB1Q,EAAG,mBAGlDwB,KAAK2jB,SAAW,IAAIre,KAAK,GAAW0C,UAAUxJ,EAAG,iBAEjDwB,KAAK8jB,WAAa,GAAWxW,QAAQ9O,EAAG,MAExCwB,KAAK8kB,KAAO,GAAW9c,UAAUxJ,EAAG,eAEpCwB,KAAK4lB,MAAQ,GAAWtY,QAAQ9O,EAAG,oBACnCwB,KAAK8lB,SAAW,GAAW7d,UAAUzJ,EAAG,qBAExCwB,KAAKsmB,kBAAkB,GAAWte,UAAUxJ,EAAG,iBAAkB,IAEjEwB,KAAKilB,UAAY,GAAWhd,UAAUzJ,EAAG,oBACzCwB,KAAKglB,QAAU,GAAW/c,UAAUzJ,EAAG,mBACvCwB,KAAKklB,YAAc,GAAWld,UAAUxJ,EAAG,sBAC3CwB,KAAKmlB,gBAAkB,GAAYoB,WAAWvmB,KAAKklB,aACnDllB,KAAKolB,iBAAmB,GAAWnd,UAAUzJ,EAAG,kBAEhDwB,KAAKslB,UAAY,GAAWrd,UAAUzJ,EAAG,oBACzCwB,KAAKqlB,QAAU,GAAWpd,UAAUzJ,EAAG,mBACvCwB,KAAKulB,YAAc,GAAWvd,UAAUxJ,EAAG,sBAC3CwB,KAAKwlB,gBAAkB,GAAYe,WAAWvmB,KAAKulB,aACnDvlB,KAAKylB,iBAAmB,GAAWxd,UAAUzJ,EAAG,kBAEhDwB,KAAKikB,wBAA0B,GAAWjc,UAAUxJ,EAAG,oBAAqB,GAC5EwB,KAAKkkB,wBAA0B,GAAWlc,UAAUxJ,EAAG,oBAAqB,GAE5EwB,KAAK+jB,kBAAoB/jB,KAAKulB,YAAcvlB,KAAKikB,wBACjDjkB,KAAKgkB,kBAAoBhkB,KAAKklB,YAAcllB,KAAKkkB,wBAIjDlkB,KAAK+lB,YAAc,GAAW9d,UAAUzJ,EAAG,gBAC3CwB,KAAKqjB,WAAa,GAAWpb,UAAUzJ,EAAG,iBAC1CwB,KAAK0jB,cAAgB,GAAWzb,UAAUzJ,EAAG,iBAC7CwB,KAAK6lB,SAAW,GAAW5d,UAAUzJ,EAAG,aAExC,IAAMgoB,EAAM,GAAW/e,YAAYjJ,EAAG,MACtC,GAAS,MAALgoB,EACF,IAAK,IAAMC,KAAMD,EAAK,CACpB,IAAMnb,EAAK,GAAW5D,YAAYgf,EAAI,OAChCC,EAAa,GAAWjf,YAAYgf,EAAI,cAC1CzmB,KAAKglB,SAAW3Z,EAClBrL,KAAKqmB,oBAAsBK,EAE3B1mB,KAAKomB,oBAAsBM,EASjC1mB,KAAK2mB,oBAAoBnoB,GACzBwB,KAAKqkB,YAAa,EAClB,IAAMuC,EAAW,GAAW3e,UAAUzJ,EAAG,iBACrCooB,EAASlqB,OAAS,IACpBsD,KAAKqkB,YAAa,EAClBrkB,KAAK6mB,gBAAgBD,M,iCAQvB,MAAwB,UAAjB5mB,KAAK0lB,W,kCAMZ,MAAwB,WAAjB1lB,KAAK0lB,W,mCAMZ,MAAwB,YAAjB1lB,KAAK0lB,W,mCAGDb,GACX7kB,KAAK6kB,UAAYA,I,wCAGDE,GAChB/kB,KAAK+kB,eAAiBA,I,yCAGLI,GACjBnlB,KAAKmlB,gBAAkBA,I,yCAOLK,GAClBxlB,KAAKwlB,gBAAkBA,I,iCAcvB,OAAiB,GAAbxlB,KAAK8kB,KAEA,EAAMpL,SAAS1Z,KAAKglB,SAGpB,EAAMtL,SAAS1Z,KAAKqlB,W,mCAK7B,OAAO,EAAM3L,SAAS1Z,KAAKqlB,UAAY,EAAM3L,SAAS1Z,KAAKglB,W,kCAQ3D,OAAO,EAAMtL,SAAS1Z,KAAKglB,SAAW,EAAI,I,gCAGlC8B,GACR,OAAO9mB,KAAK8kB,MAAQ9kB,KAAK+mB,gBAAgBD,K,sCAG3BA,GACd,OAAI9mB,KAAKglB,SAAW8B,EACX,EAEF,I,wCAIP,OAAI,EAAMpN,SAAS1Z,KAAKglB,SACfhlB,KAAKslB,UAELtlB,KAAKilB,Y,kCAKd,OAAI,EAAMvL,SAAS1Z,KAAKglB,SACfhlB,KAAKilB,UAELjlB,KAAKslB,Y,kDAKd,OAAI,EAAM5L,SAAS1Z,KAAKglB,SACfhlB,KAAKomB,oBAELpmB,KAAKqmB,sB,+CAMd,OAAOrmB,KAAKqmB,sB,+CAKZ,OAAOrmB,KAAKomB,sB,2CAGOU,GACnB,OAAI9mB,KAAKglB,SAAW8B,EACX9mB,KAAKqmB,oBAEVrmB,KAAKqlB,SAAWyB,EACX9mB,KAAKomB,oBAEP,K,wCAISU,GAChB,OAAI9mB,KAAKglB,SAAW8B,EACX9mB,KAAKolB,iBAEVplB,KAAKqlB,SAAWyB,EACX9mB,KAAKylB,iBAEP,K,gDAMP,OAAI,EAAM/L,SAAS1Z,KAAKglB,SACfhlB,KAAKqmB,oBAELrmB,KAAKomB,sB,gCAMd,OAAO,EAAM9hB,MAAMI,W,sCAKnB,OAAI,EAAMgV,SAAS1Z,KAAKglB,SACfhlB,KAAKqlB,QAELrlB,KAAKglB,U,0CAKd,IAAI3V,EAAS,EACb,OAAIrP,KAAKqa,cAAgBra,KAAK2C,YAE1B0M,EADE,EAAMqK,SAAS1Z,KAAKglB,SACbhlB,KAAK+jB,kBAEL/jB,KAAKgkB,kBAEZ3U,EAAS,GACJA,EAIP,EAAMqK,SAAS1Z,KAAKglB,SACfhlB,KAAKulB,YAELvlB,KAAKklB,c,8CAKd,IAAM8B,EAAQ,GAAYT,WAAWvmB,KAAKinB,qBAC1C,OAAOD,I,2CAIP,IAAMA,EAAQ,GAAYT,WAAWvmB,KAAKknB,wBAC1C,OAAOF,I,2CAIP,IAAMA,EAAQ,GAAYT,WAAWvmB,KAAKmnB,wBAC1C,OAAOH,I,yCAIP,IAAI3X,EAAS,EACb,OAAIrP,KAAKqa,cAAgBra,KAAK2C,YAE1B0M,EADE,EAAMqK,SAAS1Z,KAAKglB,SACbhlB,KAAKgkB,kBAELhkB,KAAK+jB,kBAEZ1U,EAAS,GACJA,EAGP,EAAMqK,SAAS1Z,KAAKglB,SACfhlB,KAAKklB,YAELllB,KAAKulB,c,6CAKd,IAAM6B,EAAe,GAAYb,WAAWvmB,KAAKqnB,oBACjD,OAAOD,I,sCAKP,OAAIpnB,KAAKua,WACA,UAEA,e,kCAKT,OAAOva,KAAK4jB,U,kCAIZ,OAAO5jB,KAAK6jB,U,uCAMZ,OAAO7jB,KAAK4kB,c,2CAIZ,OAAO5kB,KAAK2kB,kB,qCAIZ,OAAO3kB,KAAK6kB,Y,gCAMZ,OAAO7kB,KAAK4lB,Q,wCAKZ,OAAO,I,sCAGOtC,GACdtjB,KAAKsjB,aAAeA,I,uCAIpB,OAAOtjB,KAAKsjB,e,sCAGEC,GACdvjB,KAAKujB,aAAeA,I,uCAIpB,OAAOvjB,KAAKujB,e,gCAIZ,OAAO,I,oCAIP,OAAI,EAAM7J,SAAS1Z,KAAKglB,SACfhlB,KAAKujB,aAEPvjB,KAAKsjB,e,sCAIZ,OAAI,EAAM5J,SAAS1Z,KAAKglB,SACfhlB,KAAKyjB,eAEPzjB,KAAKwjB,iB,sCAOZ,OAAOxjB,KAAK8V,a,oCAGAA,GACZ9V,KAAK8V,WAAaA,I,iDAMlB,OAAO,IAAIxQ,KAAKtF,KAAK+kB,kB,0CAIrB,OAAO/kB,KAAK+kB,iB,2CAGOhB,GACnB/jB,KAAK+jB,kBAAoBA,I,6CAIzB,OAAO/jB,KAAK+jB,oB,2CAGOC,GACnBhkB,KAAKgkB,kBAAoBA,I,6CAIzB,OAAOhkB,KAAKgkB,oB,iDAGaC,GACzBjkB,KAAKikB,wBAA0BA,I,mDAI/B,OAAOjkB,KAAKikB,0B,iDAGaC,GACzBlkB,KAAKkkB,wBAA0BA,I,mDAI/B,OAAOlkB,KAAKkkB,0B,qCAIZ,OAAOlkB,KAAKilB,Y,qCAIZ,OAAOjlB,KAAKslB,Y,uCAGG5B,GACf1jB,KAAK0jB,cAAgBA,I,yCAIrB,OAAO1jB,KAAK0jB,gB,+CAIZ,OAAI,EAAMhK,SAAS1Z,KAAKglB,SACfhlB,KAAKylB,iBAELzlB,KAAKolB,mB,4CAKd,OAAOplB,KAAKolB,mB,4CAIZ,OAAOplB,KAAKylB,mB,iDAIZ,OAAI,EAAM/L,SAAS1Z,KAAKqlB,SACfrlB,KAAKylB,iBAELzlB,KAAKolB,mB,sCAKd,OAAOplB,KAAK6V,a,sCAIZ,OAAO7V,KAAKokB,c,+CAIZ,OAAiC,MAA7BpkB,KAAKskB,sBAGFtkB,KAAKskB,qBAAqB5nB,OAAS,I,6CAI1C,IAAM4qB,EAAQtnB,KAAKskB,qBAAqB9gB,MAAM,KAC9C,OAAO8jB,EAAM,K,gDAIb,IAAMA,EAAQtnB,KAAKskB,qBAAqB9gB,MAAM,KAE9C,GAAI8jB,EAAM5qB,OAAS,EACjB,MAAMgG,MAAM,wEAAD,OACqE4kB,EAAM5qB,SAGxF,OAAO4qB,EAAM,K,4CAIb,OAAwC,MAApCtnB,KAAKukB,4BACA,GAEFvkB,KAAKukB,4BAA4B/gB,MAAM,O,sCAI9C,OAA6B,MAAzBxD,KAAKylB,kBAAqD,MAAzBzlB,KAAKolB,kBAGnCplB,KAAKylB,iBAAiB8B,eAAkBvnB,KAAKolB,iBAAiBmC,gB,mCAIrE,OAAOvnB,KAAK0kB,W,kCAOFA,GACV1kB,KAAK0kB,SAAWA,I,oCAIhB,OAAO1kB,KAAKwkB,Y,+BAIZ,MAA0B,QAAnBxkB,KAAKqjB,a,oCAIZ,MAA0B,aAAnBrjB,KAAKqjB,a,gCAIZ,OAAKrjB,KAAKwnB,iBAINxnB,KAAKynB,WAIDznB,KAAK0nB,Y,qCAKb,OAAK1nB,KAAKwnB,iBAINxnB,KAAKynB,UAKFznB,KAAK0nB,Y,oCAIZ,OAAK1nB,KAAKwnB,iBAINxnB,KAAKynB,WAGDznB,KAAK0nB,Y,gCAIb,OAAO1nB,KAAK0nB,W,iCAKZ,OAAO1nB,KAAK6lB,W,+BAKZ,OAA2B,MAAvB7lB,KAAKojB,eACqB,SAAxBpjB,KAAKojB,eAEC,EAAM1J,SAAS1Z,KAAKglB,SAGtB,EAAMtL,SAAS1Z,KAAKqlB,UAI1BrlB,KAAKwnB,eAKD,EAAM9N,SAAS1Z,KAAK6lB,Y,+CAK5B,OAAM7lB,KAAKqa,aAGPra,KAAKynB,SACA,OAGJznB,KAAKwnB,cACmB,MAAvBxnB,KAAKojB,eACHpjB,KAAK0nB,SACA,mBAEA,oBAGJ,YAGJ1nB,KAAK0nB,SACD,MAEA,OApBA,O,iDA+BP,MAAuB,QAAnB1nB,KAAKqjB,WACmB,UAAtBrjB,KAAK0jB,cACA,cAEiB,aAAtB1jB,KAAK0jB,cACA,uBAEiB,aAAtB1jB,KAAK0jB,cACA,eAEiB,YAAtB1jB,KAAK0jB,cACA,wBAEF,sBAGc,aAAnB1jB,KAAKqjB,WACA,YAGe,QAApBrjB,KAAK+lB,YACA,aAGe,UAApB/lB,KAAK+lB,YAEA,kBAGe,WAApB/lB,KAAK+lB,YACA,UAGe,UAApB/lB,KAAK+lB,YACA,kBAGF,8B,0CA2BP,MAAuB,QAAnB/lB,KAAKqjB,WACmB,aAAtBrjB,KAAK0jB,cACA,YAEiB,UAAtB1jB,KAAK0jB,cACA,cAEiB,aAAtB1jB,KAAK0jB,cACA,uBAEiB,aAAtB1jB,KAAK0jB,cACA,eAEiB,YAAtB1jB,KAAK0jB,cACA,wBAEF,sBAGc,aAAnB1jB,KAAKqjB,WACA,YAGe,QAApBrjB,KAAK+lB,YACH/lB,KAAK0nB,SACA,sBAEA,sBAea,WAApB1nB,KAAK+lB,YACH/lB,KAAK0nB,SACA,oBAEA,qBAKa,UAApB1nB,KAAK+lB,YACH/lB,KAAK0nB,SACA,qBAEA,sBASJ,8B,wCAQT,OAAO1nB,KAAK2jB,W,wCAKZ,OAAI3jB,KAAKoa,WACA,sBAEF,K,kCAIP,OAAOpa,KAAK+V,S,yCAIZ,OAAO,GAAc4R,iBAAiB3nB,KAAKgmB,e,qCAGjC,QACJpnB,EAAC,oBAAI,GAAcgpB,WAAW,SAAU5nB,KAAK8lB,iBAA5C,aAAI,EAAmDpa,iBAAvD,QAAoE,UAE3E,OAAO9M,I,yCAIP,OAAO,GAAcipB,sBAAsB7nB,KAAK8lB,Y,uCASjCgB,GACf,OAAO9mB,KAAKimB,aAAajmB,KAAK+mB,gBAAgBD,M,mCAI9C,OAAiB,GAAb9mB,KAAK8kB,KACA9kB,KAAKglB,QAEPhlB,KAAKqlB,U,kCAIZ,OAAuB,MAAhBrlB,KAAK0P,U,yCAIZ,OAAO1P,KAAK8nB,aAAqC,WAAtB9nB,KAAKmmB,gB,oCAIhC,OAAOnmB,KAAK8nB,aACV,EAAMpO,SAAS1Z,KAAKkmB,e,0CAItB,OAAOlmB,KAAK8nB,aAAqC,WAAtB9nB,KAAKmmB,gB,yCAGfW,GACjB,OAAK9mB,KAAKglB,SAAW8B,EACZ9mB,KAAKkkB,wBAELlkB,KAAKikB,0B,4CAIM6C,GACpB,IAAMloB,EAAIoB,KAAK+nB,mBAAmBjB,GAClC,OAAS,GAALloB,EACK,IAELA,EAAI,EACC,MAEA,O,sCAOT,MAAO,Y,qCAIP,OAAO,GAAcopB,gBAAgBhoB,KAAKgmB,e,0CAI1C,OAAOhmB,KAAK+nB,mBAAmB,EAAMzjB,MAAMI,Y,2CAI3C,OAAQ,GAAcoM,UAAWK,cAAc,eAAgBxE,UAAU3M,KAAK8lB,UAAWra,oB,oCAIzF,IAAMwX,EAAK,GAAcnS,UACzB,OAAOmS,EACF9R,cAAc,eACdxE,UAAU3M,KAAK8lB,Y,uCAWpB,OAAO,EAAKzO,oBAAoBrX,KAAK4lB,S,oCAKrC,OAAO5lB,KAAKglB,U,oCAIZ,OAAOhlB,KAAKqlB,U,iCAGH4C,GACT,OAAIjoB,KAAKglB,SAAWiD,EACXjoB,KAAKilB,UAEVjlB,KAAKqlB,SAAW4C,EACXjoB,KAAKslB,UAEP,M,mCAGI2C,GACX,OAAIjoB,KAAKglB,SAAWiD,EACXjoB,KAAKklB,YAEVllB,KAAKqlB,SAAW4C,EACXjoB,KAAKulB,YAEP,O,kCAIP,OAAOvlB,KAAK8jB,YAAc9jB,KAAK6kB,UAAY,I,mCAGhCjmB,GACXA,EAAEwkB,eAAiBpjB,KAAKojB,eAExBxkB,EAAEykB,WAAarjB,KAAKqjB,WAEpBzkB,EAAEuE,OAASnD,KAAKmD,OAChBvE,EAAE8kB,cAAgB1jB,KAAK0jB,cAEvB9kB,EAAEiX,WAAa7V,KAAK6V,WAEpBjX,EAAE+kB,SAAW3jB,KAAK2jB,SAElB/kB,EAAEglB,QAAU5jB,KAAK4jB,QACjBhlB,EAAEilB,QAAU7jB,KAAK6jB,QACjBjlB,EAAEklB,WAAa9jB,KAAK8jB,WAEpBllB,EAAEkX,WAAa9V,KAAK8V,WAEpBlX,EAAEmlB,kBAAoB/jB,KAAK+jB,kBAC3BnlB,EAAEolB,kBAAoBhkB,KAAKgkB,kBAC3BplB,EAAEqlB,wBAA0BjkB,KAAKikB,wBACjCrlB,EAAEslB,wBAA0BlkB,KAAKkkB,wBAEjCtlB,EAAEulB,eAAiBnkB,KAAKmkB,eAExBvlB,EAAEwlB,YAAcpkB,KAAKokB,YAGrBxlB,EAAEylB,WAAarkB,KAAKqkB,WACpBzlB,EAAE0lB,qBAAuBtkB,KAAKskB,qBAC9B1lB,EAAE2lB,4BAA8BvkB,KAAKukB,4BACrC3lB,EAAEqQ,YAAcjP,KAAKiP,YACrBrQ,EAAE4lB,UAAYxkB,KAAKwkB,UACnB5lB,EAAE6lB,SAAWzkB,KAAKykB,SAElB7lB,EAAE8lB,SAAW1kB,KAAK0kB,SAClB9lB,EAAE+lB,gBAAkB3kB,KAAK2kB,gBAKzB/lB,EAAEgmB,YAAc5kB,KAAK4kB,YACrBhmB,EAAEimB,UAAY7kB,KAAK6kB,UACnBjmB,EAAEkmB,KAAO9kB,KAAK8kB,KACdlmB,EAAEmmB,eAAiB/kB,KAAK+kB,eAExBnmB,EAAEomB,QAAUhlB,KAAKglB,QACjBpmB,EAAEqmB,UAAYjlB,KAAKilB,UACnBrmB,EAAEsmB,YAAcllB,KAAKklB,YACrBtmB,EAAEumB,gBAAkBnlB,KAAKmlB,gBACzBvmB,EAAEwmB,iBAAmBplB,KAAKolB,iBAE1BxmB,EAAEymB,QAASrlB,KAAKqlB,QAChBzmB,EAAE0mB,UAAWtlB,KAAKslB,UAClB1mB,EAAE2mB,YAAavlB,KAAKulB,YACpB3mB,EAAE4mB,gBAAkBxlB,KAAKwlB,gBACzB5mB,EAAE6mB,iBAAkBzlB,KAAKylB,iBAKzB7mB,EAAEkQ,SAAW9O,KAAK8O,SAClBlQ,EAAEmX,OAAS/V,KAAK+V,OAChBnX,EAAE8mB,SAAW1lB,KAAK0lB,SAClB9mB,EAAE+mB,MAAQ3lB,KAAK2lB,MACf/mB,EAAEgnB,MAAQ5lB,KAAK4lB,MACfhnB,EAAEinB,SAAW7lB,KAAK6lB,SAClBjnB,EAAEknB,SAAW9lB,KAAK8lB,SAClBlnB,EAAEmnB,YAAa/lB,KAAK+lB,YACpBnnB,EAAEonB,YAAahmB,KAAKgmB,YACpBpnB,EAAEqnB,aAAcjmB,KAAKimB,aACrBrnB,EAAE8Q,QAAS1P,KAAK0P,QAChB9Q,EAAEsnB,YAAYlmB,KAAKkmB,YACnBtnB,EAAEunB,cAAcnmB,KAAKmmB,cACrBvnB,EAAEwnB,oBAAoBpmB,KAAKomB,oBAC3BxnB,EAAEynB,oBAAoBrmB,KAAKqmB,sB,uCAM3B,OAAO,I,0CAIP,OAAO,O,uCAIP,MAAO,K,0CAIP,MAAO,K,sCAKI,QACX,OAAO,oBAACrmB,KAAKkoB,qBAAN,aAAC,EAAoBvc,gBAArB,QAAkC,GAAK,O,iCAI9C,OAAO,I,4EASP,OAAO,I,2CAOP,OAAO,O,iCAGEwc,GACT,OAAQA,GACN,KAAK,EACH,OAAOnoB,KAAKilB,UACd,QACE,OAAOjlB,KAAKslB,a,mCAML6C,GACX,OAAQA,GACN,KAAK,EACH,OAAOnoB,KAAKklB,YACd,QACE,OAAOllB,KAAKulB,e,yCAMC4C,GACjB,OAAQA,GACN,KAAK,EACH,OAAOnoB,KAAKkkB,wBACd,QACE,OAAOlkB,KAAKikB,2B,oCAKhBjkB,KAAKqf,UAAW,M,GAlrCY,IAwrCjB,MChsCT,I,0HAIiB+I,GACnBA,EAASA,EAAOpX,cAChB,IAAMqX,EAAMC,EAAkBC,QAAQ9f,QAAQ2f,GAC9C,OAAOC,I,iCAGUG,GACjB,OAAOF,EAAkBC,QAAQhgB,UAAUigB,EAAMA,EAAO,K,uCAIjCC,EAAcD,GAErC,OAAOxoB,KAAK0oB,WAAWF,IAAS,EAAIC,GAAME,a,6CAIdC,GAC5B,OAAO5oB,KAAK6oB,aAAaD,EAASrgB,UAAU,EAAG,M,6CAInBqgB,GAC5B,IAAMH,EAAOvgB,SAAS0gB,EAASrgB,UAAU,IACzC,OAAOkgB,EAAO,M,MA1BT,GAAAF,QAAU,WA8BJ,UC7BT,G,WAoCJ,WAAYE,EAAcD,GAAY,uBAqCtC,KAAAC,MAAQ,EACR,KAAAD,MAAQ,EACR,KAAAI,SAAW,GAtCT5oB,KAAKyoB,KAAOA,EACZzoB,KAAKwoB,KAAOA,EACZxoB,KAAK4oB,SAAW,GAAkBE,iBAAiBL,EAAMD,G,4DA+CzD,OAAOxoB,KAAK4oB,W,wCAIZ,OAAO,EAAI5oB,KAAKyoB,O,gCAahB,OAAOzoB,KAAKyoB,O,gCAIZ,OAAOzoB,KAAKwoB,O,4BAORO,GACJ,OAAOA,EAAGP,MAAQxoB,KAAKwoB,MAAQO,EAAGN,MAAQzoB,KAAKyoB,Q,8BA/D/C,KAAmB,MAAfO,EAAOC,MAAgBD,EAAOC,KAAKvsB,OAAS,GAAhD,CAGAssB,EAAOC,KAAO,GACdD,EAAOE,OAAS,GAChBF,EAAOG,UAAY,IAAIzhB,IAEvB,IAAK,IAAI9I,EAAI,EAAGA,GAAK,EAAGA,IAAK,CAC3BoqB,EAAOC,KAAKjsB,KAAK,IACjB,IAAK,IAAIuP,EAAI,EAAGA,GAAK,EAAGA,IAAK,CAC3B,IAAM6c,EAAK,IAAIJ,EAAOpqB,EAAG2N,GACzByc,EAAOC,KAAKrqB,GAAG5B,KAAKosB,GACpBJ,EAAOE,OAAOlsB,KAAKosB,GACnBJ,EAAOG,UAAUhZ,IAAIiZ,EAAGC,aAAarY,cAAeoY,GACpDJ,EAAOG,UAAUhZ,IAAIiZ,EAAGC,aAAa9B,cAAe6B,Q,yBAahDR,GAGR,OADAI,EAAOM,OACAtpB,KAAKmpB,UAAUxqB,IAAIiqB,K,wCAWHW,GAAe,uBACtBvpB,KAAKkpB,QADiB,IACtC,2BAA6B,KAAlBprB,EAAkB,QAC3B,GAAIA,EAAE8qB,UAAaW,EACjB,OAAOzrB,GAH2B,8BAMtC,MAAM4E,MAAM,kBAAoB6mB,K,+BAYhC,OAAOvpB,KAAKkpB,W,KA9GP,GAAAM,IAAM,GAAOC,GAAG,MAEf,GAAAC,IAAM,GAAOD,GAAG,MAEhB,GAAAE,IAAM,GAAOF,GAAG,MAChB,GAAAG,IAAM,GAAOH,GAAG,MAChB,GAAAI,IAAM,GAAOJ,GAAG,MAEhB,GAAAK,IAAM,GAAOL,GAAG,MAChB,GAAAM,IAAM,GAAON,GAAG,MAChB,GAAAO,IAAM,GAAOP,GAAG,MAEhB,GAAAQ,IAAM,GAAOR,GAAG,MAChB,GAAAS,IAAM,GAAOT,GAAG,MAChB,GAAAU,IAAM,GAAOV,GAAG,MAEhB,GAAAW,IAAM,GAAOX,GAAG,MAChB,GAAAY,IAAM,GAAOZ,GAAG,MAEhB,GAAAa,IAAM,GAAOb,GAAG,MAChB,GAAAc,IAAM,GAAOd,GAAG,MAChB,GAAAe,IAAM,GAAOf,GAAG,MAEhB,GAAAgB,IAAM,GAAOhB,GAAG,MAChB,GAAAiB,IAAM,GAAOjB,GAAG,MAChB,GAAAkB,IAAM,GAAOlB,GAAG,MAEhB,GAAAP,OAAmB,GAEnB,GAAAC,UAAiC,IAAIzhB,IAEtC,GAAAuhB,KAAmB,GAAG,GA0FhB,UC7HT,G,WAMJ,WAAY5c,GAAW,uBAFvB,KAAAA,IAAM,EAGJrM,KAAKqM,IAAMA,E,qDAIX,OAAIrM,MAAQ4qB,EAAWC,MACdD,EAAWE,MAEXF,EAAWC,Q,6BAKpB,OAAI7qB,MAAQ4qB,EAAWC,MACd,IAEA,Q,KArBJ,GAAAA,MAAQ,IAAI,GAAW,GACvB,GAAAC,MAAQ,IAAI,GAAW,GAyBjB,ICzBHC,GDyBG,OCzBf,SAAYA,GAAO,sBAAM,0BAAQ,0BAAQ,sBAAM,wBAAO,uBAAtD,CAAYA,QAAI,K,IAEV,G,WAuBJ,WAAYxpB,EAAmBypB,EAAYxpB,EAAcsK,EAAgBmf,GAAc,uBAtBvF,KAAAzpB,KAAO,GACP,KAAAD,MAAQ,GAAWspB,MACnB,KAAAG,KAAOD,GAAKG,OACZ,KAAApf,OAAS,EACT,KAAAmf,OAAS,EAmBPjrB,KAAKuB,MAAQA,EACbvB,KAAKgrB,KAAOA,EACZhrB,KAAKwB,KAAOA,EACZxB,KAAK8L,OAASA,EACd9L,KAAKirB,OAASA,E,8DA6Dd,OAAOjrB,KAAKgrB,O,+BAaZ,OAAOhrB,KAAKgrB,MAAQD,GAAKI,O,+BAIzB,OAAOnrB,KAAKgrB,MAAQD,GAAKK,O,wCAKzB,OAAQprB,KAAKgrB,MACX,KAAKD,GAAKI,KACR,MAAO,OACT,KAAKJ,GAAKM,OACR,MAAO,SACT,KAAKN,GAAKG,OACR,MAAO,SACT,KAAKH,GAAKO,KACR,MAAO,OACT,KAAKP,GAAKQ,MACR,MAAO,QACT,KAAKR,GAAKK,KACR,MAAO,OAGX,MAAM1oB,MAAM,iBAAD,OAAkB1C,KAAKgrB,S,yCAKlC,OAAIhrB,KAAKuB,OAAS,GAAWupB,MACpB,IAEA,M,kCAICU,GACV,gBAAUA,EAAV,YAAqBA,GAArB,OAA+BxrB,KAAKyrB,oBAApC,OAAyDzrB,KAAK0rB,kBAA9D,W,iCA5GehsB,GAGVM,KAAK2rB,OAAO5M,IAAIrf,EAAE8B,OACrBxB,KAAK2rB,OAAOxb,IAAIzQ,EAAE8B,KAAM9B,K,6BAM1BksB,EAAMC,UAAUD,EAAME,YACtBF,EAAMC,UAAUD,EAAMG,YACtBH,EAAMC,UAAUD,EAAMI,cACtBJ,EAAMC,UAAUD,EAAMK,cACtBL,EAAMC,UAAUD,EAAMM,cACtBN,EAAMC,UAAUD,EAAMO,cACtBP,EAAMC,UAAUD,EAAMQ,YACtBR,EAAMC,UAAUD,EAAMS,YACtBT,EAAMC,UAAUD,EAAMU,aACtBV,EAAMC,UAAUD,EAAMW,aACtBX,EAAMC,UAAUD,EAAMY,YACtBZ,EAAMC,UAAUD,EAAMa,c,mCAGJzB,GAClB,OAAQA,GACN,KAAKD,GAAKI,KACR,MAAO,IACT,KAAKJ,GAAKM,OACR,MAAO,IACT,KAAKN,GAAKG,OACR,MAAO,IACT,KAAKH,GAAKO,KACR,MAAO,IACT,KAAKP,GAAKQ,MACR,MAAO,IACT,KAAKR,GAAKK,KACR,MAAO,IAGX,MAAM1oB,MAAM,iBAAD,OAAmBsoB,M,uCAGRxpB,GACtB,GAAmB,GAAfA,EAAK9E,OACP,OAAO,KAKT,IAAMgD,EAAIM,KAAK2rB,OAAOhtB,IAAI6C,GAC1B,GAAS,MAAL9B,EACF,MAAMgD,MAAM,8BAAgClB,GAE9C,OAAO9B,I,+BAOQsrB,EAAYzpB,GAC3B,IAAMC,EAAO,GAAH,OAAMD,EAAMC,QAAZ,OAAqBxB,KAAK0sB,aAAa1B,IACjD,OAAOhrB,KAAK2sB,iBAAiBnrB,K,+BAGdorB,GACf,OAAgB,MAATA,EAAgB,KAAOA,EAAMrrB,U,KA1F9B,GAAAuqB,WAAa,IAAI,GAAM,GAAWhB,MAAOC,GAAKI,KAAM,KAAM,EAAG,GAC7D,GAAAY,WAAa,IAAI,GAAM,GAAWlB,MAAOE,GAAKI,KAAM,KAAM,EAAG,GAC7D,GAAAa,aAAe,IAAI,GAAM,GAAWnB,MAAOE,GAAKM,OAAQ,KAAM,GAAI,GAClE,GAAAY,aAAe,IAAI,GAAM,GAAWnB,MAAOC,GAAKM,OAAQ,KAAM,GAAI,GAClE,GAAAa,aAAe,IAAI,GAAM,GAAWrB,MAAOE,GAAKG,OAAQ,KAAM,GAAI,GAClE,GAAAiB,aAAe,IAAI,GAAM,GAAWrB,MAAOC,GAAKG,OAAQ,KAAM,GAAI,GAClE,GAAAkB,WAAa,IAAI,GAAM,GAAWvB,MAAOE,GAAKO,KAAM,KAAM,GAAI,GAC9D,GAAAe,WAAa,IAAI,GAAM,GAAWvB,MAAOC,GAAKO,KAAM,KAAM,GAAI,GAC9D,GAAAgB,YAAc,IAAI,GAAM,GAAWzB,MAAOE,GAAKQ,MAAO,KAAM,GAAI,IAChE,GAAAgB,YAAc,IAAI,GAAM,GAAWzB,MAAOC,GAAKQ,MAAO,KAAM,GAAI,IAChE,GAAAiB,WAAa,IAAI,GAAM,GAAW3B,MAAOE,GAAKK,KAAM,KAAM,GAAI,IAC9D,GAAAqB,WAAa,IAAI,GAAM,GAAW3B,MAAOC,GAAKK,KAAM,KAAM,GAAI,IAE9D,GAAAO,OAA6B,IAAIjkB,IA6H5B,UClJT,G,WAIJ,WAAYhI,EAAW5B,GAAS,uBAHhC,KAAA8uB,MAAe,GAAMV,aACrB,KAAAW,OAAiB,GAAOjD,IAGtB5pB,KAAK4sB,MAAQltB,EACbM,KAAK6sB,OAAS/uB,E,0DAId,OAAOkC,KAAK4sB,Q,kCAIZ,OAAO5sB,KAAK6sB,S,4BAGR9D,GACJ,OAAOA,EAAG6D,OAAS5sB,KAAK4sB,OAAS7D,EAAG8D,OAAOC,MAAM9sB,KAAK6sB,Y,KAK3C,MCxBT,G,WA4DJ,WAAYE,EAAaC,GAAU,uBA3DnC,KAAAC,WAAqB,GAAOrD,IAC5B,KAAAsD,SAAmB,GAAOtD,IAC1B,KAAAuD,aAA6B,KAC7B,KAAAC,QAAS,EACT,KAAAC,aAA6B,KAC7B,KAAAC,UAAW,EACX,KAAAC,SAAU,EACV,KAAAC,UAAY,GAAMtB,aAqDhBlsB,KAAKytB,cAAcV,GACnB/sB,KAAK0tB,YAAYV,G,iEAlDjB,OAAOhtB,KAAKmtB,e,sCAGGA,GACfntB,KAAKmtB,aAAeA,I,iCAIpB,OAAOntB,KAAKotB,S,gCAGHA,GACTptB,KAAKotB,OAASA,I,wCAId,OAAOptB,KAAKqtB,e,sCAGEA,GACdrtB,KAAKqtB,aAAeA,I,gCAIpB,OAAOrtB,KAAKstB,W,+BAGJK,GACR3tB,KAAKstB,SAAWK,I,+BAIhB,OAAO3tB,KAAKutB,U,8BAGLK,GACP5tB,KAAKutB,QAAUK,I,qCAIf,OAAO5tB,KAAKwtB,Y,mCAGAA,GACZxtB,KAAKwtB,UAAYA,I,oCASJP,GACbjtB,KAAKitB,WAAaA,I,sCAIlB,OAAOjtB,KAAKitB,a,kCAGDC,GACXltB,KAAKktB,SAAWA,I,oCAIhB,OAAOltB,KAAKktB,W,mCAKZ,IAAIW,EAAM,IAKV,GAJyB,MAArB7tB,KAAKqtB,eACPQ,EAAM,KAGc,MAAlB7tB,KAAKwtB,WACHxtB,KAAKwtB,UAAUxC,MAAQD,GAAKK,KAAM,CACpC,GAAIprB,KAAKitB,WAAWH,MAAM,GAAOhD,MAAQ9pB,KAAKktB,SAASJ,MAAO,GAAO/C,KACnE,MAAO,MAET,GAAI/pB,KAAKitB,WAAWH,MAAM,GAAOhD,MAAQ9pB,KAAKktB,SAASJ,MAAM,GAAO9C,KAClE,MAAO,QAET,GAAIhqB,KAAKitB,WAAWH,MAAM,GAAO7C,MAAQjqB,KAAKktB,SAAUJ,MAAM,GAAO5C,KACnE,MAAO,MAET,GAAIlqB,KAAKitB,WAAWH,MAAM,GAAO7C,MAAQjqB,KAAKktB,SAASJ,MAAM,GAAO3C,KAClE,MAAO,QAIb,IAAM2D,EAAQ9tB,KAAKitB,WAAW5D,aAAewE,EAAM7tB,KAAKktB,SAAS7D,aACjE,OAAOyE,EAAMvG,gB,sCAIb,OAA8B,MAA1BvnB,KAAK+tB,mBACA/tB,KAAKguB,eAAezsB,OAASvB,KAAK+tB,kBAAmBxsB,Q,6BAKxD0sB,GACN,OAAOjuB,KAAKitB,WAAWH,MAAMmB,EAAKhB,aAChCjtB,KAAKktB,SAASJ,MAAMmB,EAAKf,WACzBltB,KAAKmtB,cAAgBc,EAAKd,iB,KAIjB,MCjHT,G,wDAEJ,iDACE,eAqCF,EAAAe,YAA6B,GAC7B,EAAAC,SAAmB,GACnB,EAAAC,MAAgB,GAChB,EAAAC,QAAyB,KACzB,EAAAC,QAAU,GACV,EAAAC,SAAqB,GACrB,EAAAC,eAAgB,EA5ChB,E,6DAKE,OAAO,IAAIC,I,6BAKX,IAAM7vB,EAAIoB,KAAK0uB,cAQf,OANgB,MAAZ1uB,KAAKmjB,KAAgC,GAAjBnjB,KAAKmjB,IAAIwL,KAC/B3uB,KAAK4uB,aAAahwB,GAElBA,EAAEiwB,KAAK7uB,KAAKmjB,KAEdnjB,KAAK8uB,cAAclwB,GACZA,I,mCAGIA,GACXA,EAAEyM,GAAKrL,KAAKqL,GACZzM,EAAEqmB,UAAYjlB,KAAKilB,UACnBrmB,EAAEyvB,QAAUruB,KAAKquB,QACjBzvB,EAAE0vB,QAAUtuB,KAAKsuB,QACjB1vB,EAAEyvB,QAAUruB,KAAKquB,QACjBruB,KAAK+uB,aAAanwB,K,mCAIPA,GACX,4EAAmBA,GACnB,IAAMowB,EAAgBpwB,EACtBowB,EAAGZ,MAAQpuB,KAAKouB,MAChBY,EAAGC,2B,kCAYH,GAAyB,GAArBjvB,KAAKouB,MAAM1xB,OACb,OAAO,EAET,IAAMyB,EAAI6B,KAAKouB,MAAMpuB,KAAKouB,MAAM1xB,OAAO,GACvC,OAAOyB,EAAEwvB,Y,kCAIT,GAAyB,GAArB3tB,KAAKouB,MAAM1xB,OACb,OAAO,EAET,IAAMyB,EAAI6B,KAAKouB,MAAMpuB,KAAKouB,MAAM1xB,OAAO,GAEvC,OAAOyB,EAAE+wB,kB,sCAKKtI,GAEdxkB,QAAQC,IAAI,aAAcukB,GAFI,uBAIbA,EAASpjB,MAAM,OAJF,IAI9B,2BAAuC,KAA5B2rB,EAA4B,QAIrCnvB,KAAKovB,iBAAiBD,IARM,iC,uCAafA,GAEf,IAAM9G,EAAM8G,EAAG1mB,QAAQ,KACjBjH,EAAO2tB,EAAG5mB,UAAU,EAAG8f,GACvBnsB,EAAOizB,EAAG5mB,UAAU8f,EAAM,GAG5B,SAAY7mB,EAKZ,aAAgBA,EAKhB,WAAcA,EAMd,SAAYA,GAEdxB,KAAKqvB,YAAYnzB,GANjB8D,KAAKsvB,aAAapzB,GALlB8D,KAAKuvB,aAAarnB,SAAShM,IAL3B8D,KAAKwvB,YAAYtzB,K,kCAmCTA,GACV8D,KAAKouB,MAAQ,GADS,uBAKLlyB,EAAKsH,MAAM,MALN,IAKtB,2BAAkC,KAAvBisB,EAAuB,QAChC,GAAIA,EAAG/yB,OAAS,EAAG,CACjB,IAAMyB,EAAI6B,KAAK0vB,WAAWD,GAC1BzvB,KAAKouB,MAAMpxB,KAAKmB,KARE,8BAatB6B,KAAKivB,2B,mFAsGMQ,GACX,IAAME,EAAM,EAAKC,YAAYH,EAAI,KAC3B1C,EAAK,GAAO8C,kBAAkBF,EAAI,IAClC3C,EAAK,GAAO6C,kBAAkBF,EAAI,IAClCG,EAAW,GAAMnD,iBAAiBgD,EAAI,IACtCvC,EAAS,EAAK2C,aAAaJ,EAAI,IAC9BK,EAAO,GAAMrD,iBAAiBgD,EAAI,IACnCM,EAAS,EAAKF,aAAaJ,EAAI,IAC/BO,EAAQ,EAAKH,aAAaJ,EAAI,IAC9BQ,EAAQ,GAAMxD,iBAAiBgD,EAAI,IAEnCxxB,EAAI,IAAI,GAAK4uB,EAAIC,GAOvB,OANA7uB,EAAEiyB,gBAAgBN,GAClB3xB,EAAEkyB,UAAUjD,GACZjvB,EAAEmyB,gBAAgBN,GAClB7xB,EAAEoyB,SAASN,GACX9xB,EAAEqyB,QAAQN,GACV/xB,EAAEsyB,aAAaN,GACRhyB,I,mCAWIjC,GAGX,GAFA8D,KAAKmuB,SAAW,IAEZnuB,KAAKqa,aAAT,CAHuB,uBAKJne,EAAKsH,MAAM,MALP,IAKvB,2BAAoC,KAAzBktB,EAAyB,QAC5BrI,EAAMqI,EAAKjoB,QAAQ,KACnBkoB,EAAWD,EAAKnoB,UAAU,EAAG8f,GAC7BuI,EAAWF,EAAKnoB,UAAU8f,EAAM,GAEhC0E,EAAK,GAAO8C,kBAAkBc,GAC9B3D,EAAK,GAAO6C,kBAAkBe,GAE9BzyB,EAAI,IAAI,GAAK4uB,EAAIC,GACvBhtB,KAAKmuB,SAASnxB,KAAKmB,IAdE,kC,kCAsBbjC,GACV8D,KAAKkuB,YAAcO,EAAUoC,WAAW30B,K,mCA2BxC,OAAI,EAAMwd,SAAS1Z,KAAKglB,SACf,GAAW8F,MAEX,GAAWD,Q,qCAIPqD,GACbluB,KAAKkuB,YAAcA,I,uCAInB,OAAOluB,KAAKkuB,c,kCAGFC,GACVnuB,KAAKmuB,SAAWA,I,oCAIhB,OAAOnuB,KAAKmuB,W,+BAGLC,GACPpuB,KAAKouB,MAAQA,I,iCAIb,OAAOpuB,KAAKouB,Q,4CAGShF,GACrB,IAD+B,EACzB0H,EAAiB,GADQ,iBAEf9wB,KAAKmuB,UAFU,IAE/B,2BAA+B,KAApBhwB,EAAoB,QACzBA,EAAE4yB,iBAAoB3H,GACxB0H,EAAO9zB,KAAKmB,IAJe,8BAO/B,OAAO2yB,I,uCAGQ1H,GAAU,uBACRppB,KAAKkuB,aADG,IACzB,2BAAmC,KAAxB8C,EAAwB,QACjC,GAAIA,EAAGC,aAAgB7H,EACrB,OAAO4H,GAHc,8BAMzB,OAAO,O,oCAIP,OAAkB,MAAdhxB,KAAKouB,OAAsC,GAArBpuB,KAAKouB,MAAM1xB,OAAoB,KAClDsD,KAAKouB,MAAMpuB,KAAKouB,MAAM1xB,OAAS,K,gCAG9Bw0B,GACR,OAAkB,MAAdlxB,KAAKouB,OAAsC,GAArBpuB,KAAKouB,MAAM1xB,OAAoB,KAClDsD,KAAKouB,MAAM8C,EAAe,K,oCAIjC,OAAIlxB,KAAKmxB,cAAgB,GAAWtG,MAC3B7qB,KAAKulB,YAEPvlB,KAAKklB,c,sCAIZ,OAAOllB,KAAKsuB,U,uCAIZ,OAAoB,MAAhBtuB,KAAKquB,QACA,WAEF,K,mCAIP,OAAuB,MAAhBruB,KAAKquB,U,qCAIZ,MAA2B,YAApBruB,KAAKgmB,c,0CAGM9pB,GAGlB8D,KAAKquB,QAAU,GAAW+C,kBAAkBl1B,EAAM,kBAClD8D,KAAKsuB,QAAU,GAAWrmB,UAAU/L,EAAM,kBAC1C8D,KAAKwuB,cAAgB,KAAO,GAAWvmB,UAAU/L,EAAM,cAAe,KAAK8U,gB,8CA+B3E,MAAO,K,uCAwEP,OAAOhR,KAAKqa,cAAgC,MAAhBra,KAAKquB,SAAmBruB,KAAKquB,QAAQ3xB,OAAS,I,uCAc1E,OAAuB,MAAhBsD,KAAKquB,QAAkB,GAAKruB,KAAKquB,U,0CAIxC,uBAAWruB,KAAKuuB,Y,iCAKhB,OAAIvuB,KAAKwnB,gBAIe,OAApBxnB,KAAKgmB,aAIFhmB,KAAKqa,gB,kCAMZ,MAAM3X,MAAM,qB,oCAMA9D,GACZ,OAAO,O,kCAIGyyB,GAAY,uBACNrxB,KAAKmuB,UADC,IACtB,2BAA8B,KAAnBhwB,EAAmB,QAC5B,GAAIA,EAAEmzB,OAAOD,GACX,OAAO,GAHW,8BAMtB,OAAO,K,kCA1QUn1B,GACjB,IAD6B,EACvBgyB,EAA6B,GADN,iBAGVhyB,EAAKsH,MAAM,MAHD,IAG7B,2BAAoC,KAAzBktB,EAAyB,QAC5BrI,EAAMqI,EAAKjoB,QAAQ,KACnB8gB,EAAUmH,EAAKnoB,UAAU,EAAG8f,GAC5BkJ,EAASb,EAAKnoB,UAAU8f,EAAM,GAG9B3oB,EAAI,GAAMitB,iBAAiB4E,GAC3BzzB,EAAI,GAAO+xB,kBAAkBtG,GAC7BiI,EAAc,IAAI,GAAY9xB,EAAG5B,GACvCowB,EAAYlxB,KAAKw0B,IAZU,8BAc7B,OAAOtD,M,GA1Ta,IA2jBT,MCvkBX,GAAS,WAAa,IAAInuB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACyG,YAAY,SAAS6qB,MAAO1xB,EAAuB,qBAAG,CAACI,EAAG,MAAM,CAACyG,YAAY,2BAA2B6qB,MAAO1xB,EAAuB,oBAAEO,MAAM,CAAC,IAAMP,EAAI2xB,aAAa5sB,gBAAgB3E,EAAG,MAAM,CAACyG,YAAY,cAAc6qB,MAAO1xB,EAAuB,qBAAGA,EAAIuB,GAAIvB,EAAe,aAAE,SAAS4xB,GAAI,OAAOxxB,EAAG,MAAM,CAACd,IAAIsyB,EAAGtmB,GAAGwV,MAAM8Q,EAAGC,aAAaH,MAAOE,EAAGE,qBAAsBvxB,MAAM,CAAC,MAAQqxB,EAAGG,YAAY,OAASH,EAAGG,YAAY,IAAMH,EAAGI,cAAchyB,EAAI2xB,aAAaM,UAAU,WAAWL,EAAGtmB,SAAQ,GAAGlL,EAAG,OAAO,CAACyG,YAAY,WAAW6qB,MAAO1xB,EAAuB,oBAAEU,GAAG,CAAC,MAAQV,EAAIkyB,iBACrrB,GAAkB,GCIhB,G,WAWF,oCALA,KAAA3tB,MAAQ,CACNQ,aAAc,GACdktB,SAAU,IAIR5vB,QAAQC,IAAI,2BACZrC,KAAKkyB,e,8DAKPlyB,KAAKsE,MAAQ8E,KAAKE,MAAMvE,aAAaC,QAAQ,kBAAoB,MAEjEhF,KAAKsE,MAAMQ,aAAe9E,KAAKsE,MAAMQ,cAAgB,2BACrD9E,KAAKsE,MAAM0tB,SAAWhyB,KAAKsE,MAAM0tB,UAAY,M,qCAI/CjtB,aAAaW,QAAQ,gBAAiB0D,KAAKC,UAAUrJ,KAAKsE,U,kCAGhD0tB,GACVhyB,KAAKsE,MAAM0tB,SAAWA,EACtBhyB,KAAKmyB,iB,sCAISrtB,GACd9E,KAAKsE,MAAMQ,aAAeA,EAC1B9E,KAAKmyB,mB,KAKHT,GAAe,IAAI,GAEV,MC5CT,G,wDAIF,WAAY9uB,EAAUic,GAAc,oCAChC,cAAMjc,GAHV,EAAAyI,GAAK,GAID,EAAKA,GAAKwT,EAFsB,E,qNAM1Bnf,EAAI,IAAIgI,IACdhI,EAAEyQ,IAAI,KAAMnQ,KAAKqL,I,SACD,GAAOkR,MAAM,UAAW7c,G,cAAlCd,E,yBAECA,G,8GAdmB,IAmBnB,MCfT,G,WAgBJ,WAAYigB,GAAc,uBAX1B,KAAApB,UAAY,EACZ,KAAAM,aAAe,EAEf,KAAA8B,YAAa,EAGb,KAAAuS,gBAAkB,EAClB,KAAAC,mBAAqB,EAErB,KAAAC,SAAU,EAGRtyB,KAAK6e,OAASA,E,mEAId7e,KAAKoyB,iBACL,EAAG/sB,UAAUktB,EAAeC,6BAA6BxyB,KAAK6e,QAAS,6B,uCAGvE7e,KAAKoyB,iBACL,EAAG/sB,UAAUktB,EAAeC,6BAA6BxyB,KAAK6e,QAAS,6B,0CAIvE,OAAO7e,KAAKoyB,eAAiB,I,6CAG7B,OAAOpyB,KAAKoyB,eAAiBpyB,KAAKqyB,oB,kCAKlCryB,KAAKsyB,SAAWtyB,KAAKsyB,QACrBtyB,KAAKyd,UAAY,EAAIzd,KAAKyd,UAC1Bzd,KAAK+d,aAAe,EAAI/d,KAAK+d,e,qMAgBvBjhB,EAAO,IAAI,GAAoB,EAAK8F,IAAM5C,KAAK6e,Q,SACnC/hB,EAAKqe,a,OAAfvc,E,OACFA,EAAEkL,SACE2oB,EAAU,EAAa7sB,SAAU8sB,UAAU9zB,EAAE1C,MACnD,EAAGmJ,UAAWktB,EAAeI,qBAAqB3yB,KAAK6e,QAAS4T,GAG7DA,EAAQG,aACgB,GAAvBH,EAAQI,cACV7yB,KAAKyd,UAAY,EACjBzd,KAAK+d,aAAe,IAGtB/d,KAAKyd,UAAY,EACjBzd,KAAK+d,aAAe,GAErB/d,KAAKqyB,kBAAoBI,EAAQK,eAAe,G,8JA5BjBjU,GAClC,MAAO,qBAAsBA,I,2CAGHA,GACxB,MAAO,aAAcA,M,KAgCZ,M,sCC9ET,G,uHAMqBkU,GAKvB,IAJA,IAAMC,EAAoB,GAEpBC,EAAKF,EAAUG,QAEZt0B,EAAE,EAAGA,EAAE,EAAGA,IACjB,IAAK,IAAI2N,EAAE,EAAGA,EAAE,EAAGA,IAAK,CACtB,IAAM4mB,EAAK,GAAkBrK,iBAAiBlqB,EAAG2N,GAAGgb,cAE9C1K,EAAKoW,EAAGr0B,GAAG2N,GACP,MAANsQ,GAEFmW,EAAGh2B,KAAM,IAAI,GAAagD,KAAKozB,gBAAgBvW,GAAK,GAAO4M,GAAG0J,KAOpE,OAAOH,I,sCAGOpG,GACd,IAAMyG,GAASzG,EAAMrrB,MAAQqrB,EAAM5B,MAAMha,cACzC,OAAO,GAAM2b,iBAAkB0G,K,uCAGhB/V,GAAsC,IAArBgW,EAAqB,wDAAD,EAChDA,EAAW,IACbA,EAAWhW,EAAKwV,eAAe,GAIjC,IADA,IAAMS,EAAQ,IAAI,YACT9D,EAAK,EAAGA,GAAM6D,EAAU7D,IAAM,CACrC,IAAM+D,EAASlW,EAAK8Q,MAAMqB,GACpBgE,EAAQzzB,KAAK0zB,cAAcF,EAAQD,GACzCA,EAAMtF,KAAKwF,GAEb,OAAOF,I,oCAGKC,EAAgBD,GAAY,uBACtBA,EAAMnF,MAAM,CAACvB,OAAO2G,EAAOvG,WAAW5D,aAAcsK,SAAS,KADvC,IACxC,2BAAwF,KAA7EC,EAA6E,QACtF,GAAI5zB,KAAK6zB,WAAWL,EAAQI,GAE1B,OAAOA,GAJ6B,8BAOxC,MAAMlxB,MAAM,wBAA0B8wB,EAAOM,aAAe,OAASP,EAAMnF,W,iCAIlEoF,EAAgBI,GAEzB,GAAIA,EAAI5R,MAAQwR,EAAOvG,WAAW5D,aAAa9B,eACzCqM,EAAI7R,IAAMyR,EAAOtG,SAAS7D,aAAa9B,cAAe,CACxD,IAAIiM,EAAOO,kBAST,OAAO,EATqB,MAG5B,GADA3xB,QAAQC,IAAI,oBAAqBmxB,EAAOM,aAAcF,IAClD,UAAAJ,EAAOrG,oBAAP,eAAqB3rB,KAAK1B,MAAM,EAAE,GAAGynB,gBAAiBqM,EAAII,UAC5D,OAAO,EAUf,OAAO,M,KAMLC,GAAM,IAAI,GACD,MCjFF,GAAb,WAME,WAAY5oB,EAAYuhB,EAAcC,EAAgBvqB,GAAuB,uBAC3EtC,KAAKqL,GAAKA,EACVrL,KAAK4sB,MAAQA,EACb5sB,KAAK6sB,OAASA,EACd7sB,KAAKsC,GAAKA,EAVd,6DAagB0vB,GACZ,MAAQ,eAAiBhyB,KAAK4sB,MAAMsH,YAAYlC,KAdpD,qCAkBI,OAAQhyB,KAAKsC,GAAG6xB,WAAa,EAAK,KAlBtC,2CAsBI,IAAMC,EAAUp0B,KAAKsC,GAAG+xB,qBAAqBr0B,KAAK6sB,QAC5CyH,EAAOF,EAAQE,KAAOt0B,KAAKu0B,eAC3BC,EAAMJ,EAAQI,IAAMx0B,KAAKu0B,eACzB31B,EAAI,QAAH,OAAY41B,EAAZ,qBAA4BF,EAA5B,MAEP,OAAO11B,IA3BX,mCA+BI,MAAO,kBA/BX,kCAmCI,OAAQoB,KAAKsC,GAAG6xB,WAAa,IAnCjC,kCAuCI,OAAOn0B,KAAKsC,GAAG6xB,WAAa,EAA0B,EAAtBn0B,KAAKu0B,mBAvCzC,KA4CM,G,WAQJ,WAAYE,GAA8B,uBAN1C,KAAAC,cAAiC,GACjC,KAAAC,QAA4B,KAC5B,KAAAR,WAAa,EACb,KAAAS,YAAc,EAIZ50B,KAAK00B,cAAgB,GACrB10B,KAAKy0B,eAAiBA,E,sEAItBz0B,KAAK60B,iB,qCAKL,IAAMzgB,EAAIpU,KAAK20B,QACf30B,KAAK00B,cAAgB,GAEjB10B,KAAKy0B,eAAe5U,WACtB7f,KAAK80B,cAAc90B,KAAK+0B,iBAAiB/0B,KAAKy0B,eAAerC,iBAE7DpyB,KAAK80B,cAAc1gB,EAAE4gB,oB,oCAIVC,GAAqB,uBACjBA,GADiB,IAClC,2BAA0B,KAAfjE,EAAe,QACxBhxB,KAAK00B,cAAc13B,KAAK,IAAI,GAAc,WAAKoC,SAASupB,WAAYqI,EAAGkE,WAAYlE,EAAGC,YAAajxB,QAFnE,iC,uCAMnBm1B,GACf,IAAMpC,EAAY,GAAiBqC,iBAAiBp1B,KAAK20B,QAAUQ,GAEnE,OAAO,GAAiBE,yBAAyBtC,K,2CAI9BlG,GACnB,IAAMyI,EAA0C,GAAjCt1B,KAAKy0B,eAAehX,UAEnC,GAAI6X,EAAQ,CACV,IAAMhB,EAAOt0B,KAAKu1B,YAAc,EAAI1I,EAAOrE,MACrCgM,EAAMx0B,KAAKu1B,YAAc,EAAI1I,EAAOpE,MAC1C,MAAO,CAAE+L,IAAKA,EAAKF,KAAMA,GAEzB,IAAM,EAAOt0B,KAAKu1B,WAAa1I,EAAOrE,KAChC,EAAMxoB,KAAKu1B,WAAa1I,EAAOpE,KACrC,MAAO,CAAE+L,IAAK,EAAKF,KAAM,K,iCAK3B,OAAQt0B,KAAKm0B,WAAa,I,kCAGhBvN,IACU,MAAhB5mB,KAAK20B,SAGH30B,KAAK20B,QAAQhP,OAASiB,EAASjB,SAFnC3lB,KAAK20B,QAAU/N,GAOb5mB,KAAKy0B,eAAe5U,aACtB7f,KAAKy0B,eAAerC,eAAiBpyB,KAAK20B,QAAQ9P,UAAY,GAEhE7kB,KAAK60B,iB,uCAIL,OAAO70B,KAAK00B,kB,KAKD,MC7GA,MAAkBzZ,OAAO,CACtC/e,KADsC,WAEpC,MAAO,CACLoI,MAAO,EAAMA,MACbotB,aAAc,GAAaptB,MAC3BkxB,OAAQ,IACRC,QAAS,IACTC,eAAgB,GAChBjB,eAAgB,KAMpBjZ,QAAS,CACPgD,cADO,WAEL,OAAO,GAAemU,qBAAqB3yB,KAAK6e,QAAU,IACxD,GAAe2T,6BAA6BxyB,KAAK6e,SAErDoT,SALO,SAKEvyB,GAEP0C,QAAQC,IAAI,YAAa3C,EAAEi2B,QAASj2B,EAAEk2B,UAExClX,QATO,SASC9a,GACFA,EAAUtF,MAAQ,GAAeq0B,qBAAqB3yB,KAAK6e,SAC7D7e,KAAK61B,WAAWjyB,GAEdA,EAAUtF,MAAQ,GAAek0B,6BAA6BxyB,KAAK6e,SAErE7e,KAAK01B,eAAeI,wBAGxBD,WAlBO,SAkBI9xB,GACT/D,KAAK01B,eAAeK,YAAYhyB,EAAG7H,QAIvC+jB,SAAU,CACR+V,gBADQ,WAEN,OAAOh2B,KAAK0xB,aAAa5sB,cAG3BmxB,oBALQ,WAMN,MAAO,UAAYj2B,KAAKw1B,OAAS,eAAiBx1B,KAAKy1B,QAAU,OAGnEvH,YATQ,WAUN,OAAOluB,KAAK01B,eAAeV,mBAI/BhU,MAAO,CACLnC,OAAQqX,OACRjX,MAAOiX,OACPhX,MAAOgX,QAETC,QAAS,WACPn2B,KAAK01B,eAAevB,WAAan0B,KAAKw1B,OACtCx1B,KAAK01B,eAAed,YAAc50B,KAAKy1B,SAGzCrW,QAAS,WACPpf,KAAKy0B,eAAiB,GAAuB2B,cAAcp2B,KAAK6e,QAChE7e,KAAK01B,eAAiB,IAAI,GAAe11B,KAAKy0B,gBAC9Cz0B,KAAK01B,eAAevB,WAAan0B,KAAKw1B,OACtCx1B,KAAK01B,eAAed,YAAc50B,KAAKy1B,WC9FgX,MCQvZ,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,OAIa,M,QCbT,G,wDAEJ,WAAY5W,GAAc,oCACxB,cAAMA,GACNzc,QAAQC,IAAI,YAAcwc,GAFF,E,2DAMxBzc,QAAQC,IAAI,aACZ,IAAMkxB,EAAQ,IAAI,YAEZnF,EAAQmF,EAAMnF,MAAM,CAACuF,SAAS,IACpCvxB,QAAQC,IAAI,iBAAkB+rB,GAE9B,OAAQmF,EAAM8C,WAAY,CACtB,IAAM,EAAQ9C,EAAMnF,QAGdH,EAAO,EAAMqI,KAAKC,MAAMD,KAAKE,SAAW,EAAM95B,SACpD62B,EAAMtF,KAAKA,GAEf7rB,QAAQC,IAAIkxB,EAAMkD,W,GArBY,IA0CnB,MCjCT,G,wDAgCJ,iDACI,eACAr0B,QAAQC,IAAI,2BACZD,QAAQC,IAAI,2BACZD,QAAQC,IAAI,2BACZ,GAAMinB,OACN,GAAOA,OAEP,OAAIzjB,UAAU,aAAc6wB,IARhC,E,iEA9BkB7X,GAChB,OAAO,IAAI,GAAoBA,K,iCAI/B,IAAMzK,EAAI,IAAI,GAEd,OADAA,EAAEuiB,cACKviB,I,gCAGClY,GACR,IAAMkY,EAAI,IAAI,GAEd,OADAA,EAAEya,KAAK3yB,GACAkY,I,gCAGCM,GACR,IAD0B,EACpB9V,EAAgB,GADI,iBAGP8V,GAHO,IAG1B,2BAA6B,KAAlBP,EAAkB,QACrBjG,EAAMiG,EAENC,EAAI,IAAI,GACdA,EAAEya,KAAK3gB,GACPtP,EAAE5B,KAAKoX,IARiB,8BAW1B,OAAOxV,M,yDAgBP,OAAO,O,GA7Ca,GAmDT,MC3DTg4B,GAAQ,IAAI,GAClBA,GAAMtN,KAAK,IAAI","file":"js/app.60934b92.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultChange.vue?vue&type=style&index=0&id=19f5636c&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultChange.vue?vue&type=style&index=0&id=19f5636c&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessGameBoard.vue?vue&type=style&index=0&id=2cb6e1c5&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessGameBoard.vue?vue&type=style&index=0&id=2cb6e1c5&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicShowGamePage.vue?vue&type=style&index=0&id=324c429a&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicShowGamePage.vue?vue&type=style&index=0&id=324c429a&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=style&index=0&id=c3b3855e&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=style&index=0&id=c3b3855e&scoped=true&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleText.vue?vue&type=style&index=0&id=fb286be8&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleText.vue?vue&type=style&index=0&id=fb286be8&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('AppBar'),_c('v-main',[_c('router-view')],1),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{attrs:{\"color\":\"primary\",\"dense\":\"\",\"dark\":\"\",\"app\":\"\"}},[_c('v-app-bar-nav-icon'),_c('v-toolbar-title',[_vm._v(_vm._s(_vm.name))]),_c('v-btn',{attrs:{\"text\":\"\",\"rounded\":\"\"},on:{\"click\":_vm.goView}},[_vm._v(\" ViewGame \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\",\"rounded\":\"\"},on:{\"click\":_vm.goMain}},[_vm._v(\" Home \")]),(!_vm.isLoggedIn)?_c('v-btn',{attrs:{\"text\":\"\",\"rounded\":\"\"},on:{\"click\":_vm.gologin}},[_vm._v(\" Login \")]):_vm._e(),(_vm.isLoggedIn)?_c('v-btn',{attrs:{\"text\":\"\",\"rounded\":\"\"},on:{\"click\":_vm.gologout}},[_vm._v(\" Logout \")]):_vm._e(),_c('v-menu',{attrs:{\"left\":\"\",\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"icon\":\"\"}},'v-btn',attrs,false),on),[_c('v-icon',[_vm._v(\"mdi-dots-vertical\")])],1)]}}])},[_c('v-list',_vm._l((5),function(n){return _c('v-list-item',{key:n,on:{\"click\":function () {}}},[_c('v-list-item-title',[_vm._v(\"Option \"+_vm._s(n))])],1)}),1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\nclass UIColor {\n  color: string;\n\n  constructor(color: string) {\n    this.color = color;\n  }\n}\n\nexport default UIColor;\n","import BlueTheme from './BlueTheme';\nimport UIColor from '@/base/util/ui/UIColor';\n\nclass TextStyle {\n\n}\n\nclass ThemeEntry {\n  code = \"\";\n\n  iconColor = new UIColor(\"black\");\n  backgroundColor = new UIColor(\"blue\");\n  selectedBackgroundColor = new UIColor(\"transparent\");\n  selectedTextColor = new UIColor(\"green\");\n  textStyle = new TextStyle();\n  borderColor = new UIColor(\"transparent\");\n\n  ThemeEntry(\n    {\n      code = \"\",\n      iconColor = new UIColor(\"blue\"),\n      backgroundColor = new UIColor(\"blue\"),\n      selectedBackgroundColor = new UIColor(\"transparent\"),\n      selectedTextColor = new UIColor(\"green\"),\n      textStyle = new TextStyle(),\n      borderColor = new UIColor(\"transparent\")\n    }){\n    this.iconColor = iconColor;\n    this.backgroundColor = backgroundColor;\n    this.code = code;\n    this.selectedBackgroundColor = selectedBackgroundColor;\n    this.selectedTextColor = selectedTextColor;\n    this.textStyle = textStyle;\n    this.borderColor = borderColor;\n  };\n\n  // factory ThemeEntry.from({\n  //   @required ThemeEntry base,\n  //   Color iconColor,\n  //   Color backgroundColor,\n  //   Color selectedBackgroundColor,\n  //   Color selectedTextColor,\n  //   TextStyle textStyle,\n  //   Color borderColor\n  //   }) {\n\n  //   return ThemeEntry( {\n  //     code: base.code,\n  //     iconColor: iconColor ?? base.iconColor,\n  //     backgroundColor: backgroundColor ?? base.backgroundColor,\n  //     textStyle: textStyle ?? base.textStyle ,\n  //     borderColor: borderColor ?? base.borderColor,\n  //     selectedBackgroundColor: selectedBackgroundColor ?? base.selectedBackgroundColor,\n  //     selectedTextColor: selectedTextColor ?? base.selectedTextColor\n  //   }\n  //   );\n\n  // }\n\n\n}\n\n\n\nclass HATheme {\n\n  friendInviteSectionHeader = new ThemeEntry();\n  myTurnSectionHeader = new ThemeEntry();\n  selectAGameSectionHeader = new ThemeEntry();\n  theirTurnSectionHeader = new ThemeEntry();\n\n\n}\n\n\n\nexport default HATheme;\n","import HATheme from \"./HATheme\";\n\nclass BlueTheme extends HATheme {\n\n}\n\nexport default BlueTheme;\n","import HATheme from '@/base/theme/HATheme';\nimport BlueTheme from '@/base/theme/BlueTheme';\n\nimport GameBoard from './../screens/ShowGamePage.vue'\n\n/**\n * \n */\nclass Util {\n    sayHi(gb: GameBoard) {\n      (gb as any).sayHi();\n    }\n    \n    duration(dur: number, dtype: string): number {\n      switch (dtype) {\n        case \"d\": return dur * 24 * 60 * 60 * 100\n        case \"h\": return dur * 60 * 60 * 100\n      }\n      throw Error(\"I dont know dtype of \" + dtype)\n    }\n\n\n    \n    vue?: Vue;\n\n    // To do fill out in future\n    currentTheme: HATheme = new BlueTheme();\n\n\n    getRatingLongString(isRated: boolean): string {\n      if (isRated) return \"Rated\";\n      return \"UnRated\";\n    }\n\n    setVue(vue: Vue) {\n      this.vue = vue;\n    }\n\n    showMessage({title = \"\", message = \"\"} ) {\n      console.log(title, message);\n      this.toastNotify(this.vue!, message);\n    }\n\n    constructor() {\n        console.log(\"New Util *******\");\n    }\n\n    /**\n     * ROute commands\n     * @param {*} v \n     * @param {*} path \n     */\n    goto(vue: Vue, path: string) {\n        vue.$router.push({\n            path: path\n          });\n    }\n\n    gotoMain(vue: Vue) {\n      this.goto(vue, \"/mainList\");\n    }\n\n    gotoLogin(vue: Vue) {\n      this.goto(vue, \"/login\");\n    }\n\n    /**\n     * todo: set color\n     */\n    toastNotify(vue: Vue, reason: string) {\n      vue.$toast(`${reason}`);\n    }\n\n\n    toastError(vue: Vue, reason: string) {\n        vue.$toast(`${reason}`);\n    }\n\n    getBooleanTF( tfString: string) {\n      if (\"T\" == (tfString)) {\n        //NON-NLS\n        return true;\n      }\n      if (\"t\" == (tfString)) {\n        //NON-NLS\n        return true;\n      }\n      return false;\n    }\n\n    splitString(inStr: string, char: string) {\n      return inStr.split(char);\n    }\n}\n\nconst util = new Util();\n\nexport default util;\n","\nimport Vue from 'vue';\n\nexport class EventData {\n  name = \"\"\n  data: any = null\n  constructor(name: string, data: any) {\n    this.name = name\n    this.data = data\n  }\n}\n\n/**\n * Eventbus similar to ctl flutter eb.\n */\nclass EventBus {\n  VBus = new Vue();\n\n  sendEvent(eventName: string, eventData: any) {\n    const sections = eventName.split(\".\");\n\n    let ename = \"\"\n    for (const s of sections) {\n      if (ename.length > 0) {\n        ename += \".\"\n      }\n      ename += s\n      // console.log(\"Sending event -> \" + ename);\n      const ed = new EventData(ename, eventData)\n      this.VBus.$emit(ename, ed)\n    }\n  }\n\n  /**\n   * Comma sep list of event names to listen\n   * @param eventNames \n   * @param callback \n   */\n  listen(eventNames: string, callback: Function) {\n    const sections = eventNames.split(\",\");\n    for (const s of sections) {\n      console.log(\"Add listener for\", s)\n      this.VBus.$on(s, callback)\n    }\n  }\n\n  /**\n   * Comma sep list of event names to unlisten\n   * @param eventNames \n   * @param callback \n   */\n  unlisten(eventNames: string, callback: Function) {\n    const sections = eventNames.split(\",\");\n    for (const s of sections) {\n      console.log(\"Remove listener for\", s)\n      this.VBus.$off(s, callback)\n    }\n  }\n\n}\n\nconst EB = new EventBus()\nexport default EB;\n\n","import EB, { EventData } from './EventBus';\n\n/**\n * Manages basic state on the system\n */\nclass State {\n\n\n    isThisMe(anId: string): unknown {\n      return this.state.ctid == anId || this.state.globalId == anId;\n    }\n\n    /*\n    Needed to create a data object so we can put it in components \n    and have it reactive. See AppBar data section\n    */\n    state = {\n      rttoken: \"\",\n      avg: 0,\n      cttoken: \"\",\n      globalId: \"\",\n      ctid: \"\",\n      name: \"\",\n      cc: \"\",\n      pp: \"\",\n      boardbgimage: \"\",\n    }\n\n    constructor() {\n        console.log(\"New State *******\");\n        this.state.name = localStorage.getItem(\"name\") || \"\";\n        this.state.cc = localStorage.getItem(\"cc\") || \"\";\n        this.state.pp = localStorage.getItem(\"pp\") || \"\";\n        this.state.rttoken = localStorage.getItem(\"rttoken\") || \"\";\n        this.state.cttoken = localStorage.getItem(\"cttoken\") || \"\";\n        this.state.globalId = localStorage.getItem(\"globalId\") || \"\";\n        this.state.ctid = localStorage.getItem(\"ctid\") || \"\";\n        this.state.avg = this.getAsNumber(\"avg\");\n        this.state.boardbgimage = localStorage.getItem(\"boardbgimage\") || \"/img/boards/chess-3717725_1280.png\"\n\n        setInterval( this.tick , 1000);\n    }\n    \n    tick() {\n      EB.sendEvent(\"tick\", Date.now )\n    }\n\n    getAsNumber(key: string) {\n      return Number((localStorage.getItem(key) || \"0\")).valueOf()\n    }\n\n    getRTToken(): string {\n      return this.state.rttoken;\n    }\n\n    setBoardBgImage(boardbgimage: string): void {\n      this.state.boardbgimage = boardbgimage\n      localStorage.setItem(\"boardbgimage\", boardbgimage);\n    }\n\n    setRTToken(tkn: string) {\n      this.state.rttoken = tkn;\n      localStorage.setItem(\"rttoken\", this.state.rttoken);\n    }\n    setCTToken(cttoken: string) {\n      this.state.cttoken = cttoken;\n      localStorage.setItem(\"cttoken\", this.state.cttoken);\n    }\n    setGlobalId(globalId: string) {\n      this.state.globalId = globalId;\n      localStorage.setItem(\"globalId\", this.state.globalId);\n    }\n    setCC(cc: string) {\n      this.state.cc = cc;\n      localStorage.setItem(\"cc\", this.state.cc);\n    }\n    setCTId(ctid: string) {\n      this.state.ctid = ctid;\n      localStorage.setItem(\"ctid\", this.state.ctid);\n    }\n    setAvgRating(avg: number) {\n      this.state.avg = avg;\n      localStorage.setItem(\"avg\", \"\" + this.state.avg);\n    }\n    setPP(pp: string) {\n      this.state.pp = pp;\n      localStorage.setItem(\"pp\", this.state.pp);\n    }\n\n    isLoggedIn(): boolean {\n      return this.state.rttoken.length > 0;\n    }\n\n    logout() {\n      this.state.rttoken = \"\";\n      localStorage.setItem(\"rttoken\", \"\");\n    }\n\n}\n\nconst state = new State();\n\nexport default state;\n","import ApplicationSettings from './ApplicationSettings';\nimport IGameDTO from '@/base/dto/IGameDTO';\nimport GameController from '@/base/controllers/GameController';\n\n\n/**\n * Game settings\n */\nabstract class GameAbstract {\n  \n  abstract parseList(dataList: object[]): IGameDTO[];\n  abstract parseGame(data: object): IGameDTO;\n\n  // Need to create an instance with no data and has some support \n  // for methods when we havent loaded the data\n  abstract nullGame(): IGameDTO;\n  \n\n  static instance: GameAbstract | null = null;\n\n  constructor() {\n      console.log(\"New GameAbstract *******\");\n  }\n\n  // static setInstance(inst: GameAbstract) {\n  //   GameAbstract.instance = inst;\n  // }\n\n  // static getInstance(): GameAbstract {\n  //   return GameAbstract.instance as GameAbstract;\n  // }\n\n  abstract getAppSettings(): ApplicationSettings;\n\n  abstract getGameController(gameId: string): GameController\n\n  \n}\nexport default GameAbstract;\n","<template>\n    <v-app-bar\n      color=\"primary\"\n      dense\n      dark\n      app\n    >\n      <v-app-bar-nav-icon></v-app-bar-nav-icon>\n\n      <v-toolbar-title>{{name}}</v-toolbar-title>\n\n      <v-btn text rounded @click=\"goView\">\n        ViewGame\n      </v-btn>\n\n\n      <v-spacer></v-spacer>\n\n      <v-btn text rounded @click=\"goMain\">\n        Home\n      </v-btn>\n\n      <v-btn v-if=\"!isLoggedIn\" text rounded @click=\"gologin\">\n        Login\n      </v-btn>\n\n      <v-btn v-if=\"isLoggedIn\"  text rounded @click=\"gologout\">\n        Logout\n      </v-btn>\n\n      <v-menu\n        left\n        bottom\n      >\n        <template v-slot:activator=\"{ on, attrs }\">\n          <v-btn\n            icon\n            v-bind=\"attrs\"\n            v-on=\"on\"\n          >\n            <v-icon>mdi-dots-vertical</v-icon>\n          </v-btn>\n        </template>\n\n        <v-list>\n          <v-list-item\n            v-for=\"n in 5\"\n            :key=\"n\"\n            @click=\"() => {}\"\n          >\n            <v-list-item-title>Option {{ n }}</v-list-item-title>\n          </v-list-item>\n        </v-list>\n      </v-menu>\n    </v-app-bar>\n</template>\n\n<script type=\"ts\">\n\n  import Util from '@/base/util/Util'\n  import State from '@/base/util/State'\n  import GameAbstract from '@/base/util/GameAbstract'\n\n  export default {\n    name: 'AppBar',\n    data: () => ({\n      name: GameAbstract.instance.getAppSettings().name,\n      state: State.state    // Just to be reactive.\n    }),\n    computed: {\n      isLoggedIn: function() {\n        // console.log(\"Compute value\");\n        return State.isLoggedIn();\n      }\n    },\n    methods: {\n      goView: function() {\n        Util.goto(this, \"/show/4XLhuZHLWfSg8aI1LQEjRp\")\n      },\n      goMain: function() {\n        Util.gotoMain(this);\n      },\n      gologin: function() {\n        Util.gotoLogin(this);\n      },\n      gologout: function() {\n        // console.log(\"logout\", this);\n        State.logout();\n        Util.gotoLogin(this);\n      },\n\n    }\n  }\n</script>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppBar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AppBar.vue?vue&type=template&id=55697afd&\"\nimport script from \"./AppBar.vue?vue&type=script&lang=js&\"\nexport * from \"./AppBar.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VAppBarNavIcon } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VMenu } from 'vuetify/lib/components/VMenu';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VAppBar,VAppBarNavIcon,VBtn,VIcon,VList,VListItem,VListItemTitle,VMenu,VSpacer,VToolbarTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-footer',{attrs:{\"color\":\"primary lighten-2\",\"padless\":\"\"}},[_c('v-row',{attrs:{\"justify\":\"center\",\"no-gutters\":\"\"}},[_vm._l((_vm.links),function(link){return _c('v-btn',{key:link.t,attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.gotoPage(link.p)}}},[_vm._v(\" \"+_vm._s(link.t)+\" \")])}),_c('span',{staticClass:\"footerText\"},[_vm._v(\" \"+_vm._s(_vm.copyright)+\" \")])],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-footer\n    color=\"primary lighten-2\"\n    padless\n  >\n    <v-row\n      justify=\"center\"\n      no-gutters\n    >\n      <v-btn\n        v-for=\"link in links\"\n        :key=\"link.t\"\n        text\n        @click=\"gotoPage(link.p)\"\n      >\n        {{ link.t }}\n      </v-btn>\n      \n      <span class=\"footerText\">\n        {{ copyright }}\n      </span>\n    </v-row>\n  </v-footer>\n</template>\n\n<script type=\"ts\">\n  import Util from './../util/Util'\n  import GameAbstract from '../util/GameAbstract';\n  export default {\n    name: 'Footer',\n    data: () => ({\n      copyright: GameAbstract.instance.getAppSettings().copyRight,\n      links: [\n        { t:'Privacy Policy', p:'mainList'},\n        { t:'Terms/Conditions', p:'about'}\n      ],\n    }),\n    methods: {\n      gotoPage: function(page) {\n        Util.goto(this, page);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n.footerText {\n  margin-top: 6px;\n  font-size: small;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Footer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Footer.vue?vue&type=template&id=c3b3855e&scoped=true&\"\nimport script from \"./Footer.vue?vue&type=script&lang=js&\"\nexport * from \"./Footer.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Footer.vue?vue&type=style&index=0&id=c3b3855e&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c3b3855e\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VFooter } from 'vuetify/lib/components/VFooter';\nimport { VRow } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VFooter,VRow})\n","<template>\n  <v-app>\n    <AppBar></AppBar>\n\n    <v-main>\n       <router-view></router-view>\n    </v-main>\n\n    <Footer></Footer>\n  </v-app>\n</template>\n\n<script type=\"ts\">\nimport AppBar from './components/AppBar'\nimport Footer from './components/Footer'\n\nexport default {\n  name: 'App',\n\n  components: {\n    AppBar,\n    Footer\n  },\n\n  data: () => ({\n    //\n  })\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=b35046bc&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VMain } from 'vuetify/lib/components/VMain';\ninstallComponents(component, {VApp,VMain})\n","import Vue from 'vue';\nimport Vuetify from 'vuetify/lib';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mx-auto mt-5\",attrs:{\"width\":\"400\"}},[_c('v-card-title',[_c('h1',{staticClass:\"display-1\"},[_vm._v(\"Main List\")])]),_c('v-card-text',[_c('v-form',[_vm._v(\" Data: \"+_vm._s(_vm.rawResponse)+\" \")])],1),_c('v-divider'),_c('v-card-actions')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n/**\n * Allows nested property access\n */\nclass PropHelper {\n\n\n  /**\n   * \n   * Note that this is needed because the dart code returned objects as maps\n   * but this property is an object and needs to be converted to a Map\n   * \n   * @param data \n   * @param key \n   */\n  getPropertyMap(data: Map<string, object>, key: string): Map<string, object> {\n    const obj = this.getProperty(data, key, {})\n    return new Map(Object.entries(obj));\n  }\n\n  getDateFromMillis(data: Map<string, object>, key: string): Date {\n    const inMillis = this.getProperty(data, key);\n\n    if (inMillis == null) {\n      return new Date();\n    }\n\n    return new Date(inMillis);\n  }\n  \n  getPropertyList(src: object, property: string, dflt = []): object[] {\n    const v = this.getProperty(src, property, dflt);\n    return v;\n  }\n\n  getList(src: object, property: string, dflt = []): object[] {\n    const v = this.getProperty(src, property, dflt);\n    return v;\n  }\n\n  getBool(src: any, property: string, dflt = false): boolean {\n    const v = this.getProperty(src, property);\n\n    if (v == null) return dflt;\n\n    if (v == \"N\") {\n      return false;\n    }\n    if (v == \"Y\") {\n      return true;\n    }\n    if (v == \"true\") {\n      return true;\n    }\n    if (v == \"false\") {\n      return false;\n    }\n    \n    return v;\n  }\n\n  /**\n   * \n   * @param src Same as get number\n   * @param property \n   * @param dflt \n   */\n  getInt(src: any, property: string, dflt = 0): number {\n    return this.getNumber(src, property, dflt);\n  }\n\n  getNumber(src: any, property: string, dflt = 0): number {\n    const v = this.getString(src, property);\n    if (v) {\n      return parseInt(v);\n    } else {\n      return dflt;\n    }\n  }\n\n  getStringNullable(src: any, property: string, dflt = null): string | null {\n    const v = this.getProperty(src, property, dflt);\n    return v;\n  }\n\n\n  getString(src: any, property: string, dflt = \"\"): string {\n    const v = this.getProperty(src, property, dflt);\n    return \"\" + v;\n  }\n\n  getProperty(src: any, property: string, dflt: any = null): any {\n    const split = property.split(\".\");\n    for (let x = 0; x < split.length; x++) {\n      let attr = split[x];\n\n      if (src == null || src == undefined) {\n        return dflt;\n      }\n\n      if (attr.startsWith(\"[\")) {\n        // Assumes [int]\n        attr = attr.substring(1, attr.length - 1);\n        const alist = src as Array<any>;\n        // debugPrint(\"[ $attr ] or $list\");\n        src = alist[parseInt(attr)];\n        continue;\n      }\n\n      if (attr.indexOf(\"[\") > -1) {\n        console.log(`**** You need to use it as prop.[x] instead of prop[x] in ${attr}`);\n      }\n\n      src = src[attr];\n    }\n\n    if (src === null || src === undefined) {\n      return dflt;\n    }\n    return src;\n\n  }\n\n}\n\nconst prophelper = new PropHelper();\nexport default prophelper;","import {AxiosResponse} from 'axios';\nimport prophelper from './PropHelper';\n\nconst CLIENT_ERROR_HTTP = -9901;\nconst CLIENT_NO_NETWORK = -9902;\nconst NOTLOGGEDIN = -1;\nconst VALIDATIONERROR = -2;\n\n\nclass JResponse {\n  rawData = \"\";\n  data: object = {};\n  valErrors: Map<string, any> = new Map();\n  message = \"\";\n  rCode = 0;\n  serverDate = 0;\n  fullMap: any = {};\n\n  // constructor(axiosResponse?: AxiosResponse<object>) {\n  constructor({status=200, data=\"{}\"}) {\n    console.log(\"Response:\", status, data);\n    // if (axiosResponse == null) {\n    //   return;\n    // }\n\n    // This is when connection errors, we configure jresponse after the constructor\n    if (status == 0) {\n      return;\n    }\n\n    if (status != 200 ) {\n      this.rCode = CLIENT_ERROR_HTTP;\n      this.data = new Map();\n      this.message =\n          \"Unable to connect to server\\nThis application requires server access to function.\\nPlease try again later.\"; //NON-NLS\n      return;\n    }\n\n    console.log(\"body\", data);\n\n    this.rawData = JSON.stringify(data);\n    // console.log(\"rawData\", this.rawData);\n\n    this.fullMap = JSON.parse(this.rawData);\n    // console.log(\"fullMap\", this.fullMap);\n\n\n    this.serverDate = this.fullMap.serverDate;\n    // console.log(\"serverDate\", this.serverDate);\n\n    this.message = this.fullMap.rmessage;\n    this.rCode = this.fullMap.rcode;\n\n    this.data = this.fullMap.results;\n    this.valErrors = this.fullMap.errors;\n\n    // console.log(\"this\", this);\n  }\n\n  setNoNetwork() {\n    this.rCode = CLIENT_NO_NETWORK;\n    this.message = \"No network detected\";\n  }\n\n  setConnectError(message: string) {\n    this.rCode = CLIENT_ERROR_HTTP;\n    this.message = message;\n    console.log(\"Connection error: \", message)  \n  }\n\n  getMessage() {\n    return this.message;\n  }\n\n  getRCode() {\n    return this.rCode;\n  }\n\n  /**\n   * Returns the results portion of the response\n   */\n  getData() {\n    return this.data;\n  }\n\n  getDataList(name: string): object[] {\n    const v = prophelper.getProperty(this.data, name);\n    return v;\n  }\n\n  isOk() {\n    return this.rCode === 0;\n  }\n\n  isNotLoggedIn() {\n    return this.rCode === NOTLOGGEDIN;\n  }\n\n\n}\n\nexport default JResponse;\n","import JResponse from '@/base/util/JResonse';\nimport state from '@/base/util/State';\nimport util from '@/base/util/Util';\nimport Vue from 'vue';\n\nabstract class AsyncCall {\n\n  vue: Vue;\n    \n  ///\n  /// If silent will not show errors.\n  /// or success message\n  ///\n  silent = false;\n\n  constructor(vue: Vue) {\n    this.vue = vue;\n  }\n\n  abstract async _doCall (): Promise<JResponse>;\n\n  async callServer(): Promise<JResponse> {\n      // console.log(\"Calling server\");\n\n      let resp: JResponse;\n      let msg = \"\";\n      let msgError = false;\n      try {\n        const r = await this._doCall();  \n        if (!r.isOk()) {\n          if (r.isNotLoggedIn()) {\n            state.setRTToken(\"\");\n            util.gotoLogin(this.vue);\n          } else {\n            msgError = true;\n            util.toastError(this.vue, r.message);\n          }\n        } else {\n          msg = this.onSuccessMessage(r);\n        }\n        resp = r;\n      } catch (error) {\n        console.log(\"We have error:\", error);\n        msg = error.message;\n        const jr = new JResponse({status:0});\n        jr.setConnectError(error.message);\n        resp = jr\n      }\n\n      if (msg.length > 0) {\n        if (!this.silent) {\n          if (msgError) {\n            util.toastError(this.vue, msg);\n          } else {\n            util.toastError(this.vue, msg);\n          }\n        }\n      }\n\n      return resp;\n\n  }\n\n  /**\n   * \n   * @param jr Can be overriden to provide a messsage for display to the user.\n   */\n  onSuccessMessage(jr: JResponse): string {\n    return \"\"\n  }\n\n}\n\nexport default AsyncCall;\n","\nclass ServerTimeAdjuster {\n\n  offsetMS = 0;\n\n  getServerDate(): Date {\n    return new Date( Date.now() - this.offsetMS );\n  }\n\n\n  setAdjustmentFor(serverTime: number): void {\n    this.offsetMS = Date.now() - serverTime;\n    console.log(\"Server adjustmentMS\", this.offsetMS);\n  }\n\n\n  ///\n  /// User the server data of an object but adjust it for client time\n  /// Trying this approach.\n  /// If server gives a time and we know the server is 1 hour ahead.  So from client point\n  /// it should show as one hour less (in local time)\n  ///\n  getServerAdjustedDate(servObjDate: Date): Date {\n    return new Date(servObjDate.getTime() - this.offsetMS);\n  }\n}\n\nconst serverTimeAdjuster = new ServerTimeAdjuster();\nexport default serverTimeAdjuster;","/***\n * \n * Handles caching and reloading of favorites.\n * This is so we know the favorite count at various locations \n * in the game, and can show in the menu items.\n * \n */\n abstract class AbstractManager {\n\n  isOpen = false;\n\n  open(): void {\n    this.isOpen = true;\n    this._open();\n  }\n\n  close(): void {\n    this.isOpen = false;\n    this._close();\n  }\n\n  abstract _open(): void;\n  abstract _close(): void;\n\n}\n\nexport default AbstractManager;\n\n","\nclass RangeValues {\n\n\n  start: number;\n  end: number;\n\n  constructor(start: number, end: number) {\n    this.start = start;\n    this.end = end;\n  }\n}\n\nexport default RangeValues;\n","import AbstractManager from './AbstractManager';\nimport prophelper from '@/base/util/PropHelper';\nimport state from '@/base/util/State';\nimport GameAbstract from '@/base/util/GameAbstract';\nimport client from '@/base/util/GameClient';\nimport util from '@/base/util/Util';\nimport RangeValues from '@/base/util/RangeValues';\n\nimport JResponse from '@/base/util/JResonse';\n\nconst REDUCE_RELOAD_SEC = 15;\nconst ERROR_RELOAD_SEC = 30;\n\n\nclass RatingClass {\n  public low = 0;\n  public id = \"\";\n  public title = \"\";\n  constructor( ratingData: object ) {\n    this.low = prophelper.getNumber(ratingData, \"low\");\n    this.id = prophelper.getString(ratingData, \"id\");\n    this.title = prophelper.getString(ratingData, \"title\");\n  }\n}\n\n/**\n * Represents a value in a dataset.\n * A plugin can have multiple datasets, each with multiple values.\n */\nexport class DSValue {\n  entryId: string;\n  entryTitle: string;\n  entryTitleReduced: string;\n  weight: number;\n  gameGroup: string;\n  cmpValue: number;       //  MMSS  SS = #sec to add per move\n  actual1: number;\n  actual2: number;\n  asOfVersion: number;\n\n  constructor( valueData: object ) {\n    this.entryId = prophelper.getString(valueData, \"entryId\"); //NON-NLS\n    this.entryTitle = prophelper.getString(valueData, \"entryTitle\"); //NON-NLS\n    this.entryTitleReduced = prophelper.getString(valueData, \"entryTitleReduced\"); //NON-NLS\n    this.gameGroup = prophelper.getString(valueData, \"gameGroup\"); //NON-NLS\n    this.cmpValue = prophelper.getNumber(valueData, \"cmpValue\"); //NON-NLS\n    this.actual1 = prophelper.getNumber(valueData, \"actual1\"); //NON-NLS\n    this.actual2 = prophelper.getNumber(valueData, \"actual2\"); //NON-NLS\n    this.weight = prophelper.getNumber(valueData, \"weight\"); //NON-NLS\n    this.asOfVersion = prophelper.getNumber(valueData, \"asOfVersion\"); //NON-NLS\n  }\n}\n\n/***\n * A datasource\n */\nexport class DataSource {\n  name: string;\n  data: DSValue[];\n\n  constructor(dataSource: object) {\n    this.name = prophelper.getString(dataSource, \"name\"); //NON-NLS\n    this.data = [];\n    for (const item of prophelper.getList(dataSource, \"data\") ) {\n      const dv = new DSValue(item);\n      this.data.push(dv);\n    }\n  }\n\n\n  findEntry(entryId: string): DSValue {\n    const r = this.data.filter( (val) => val.entryId === entryId );\n    if (r.length == 0) {\n      console.log(`Cant find ${entryId}`);\n      return this.data[0];\n    } else {\n      return r[0];\n    }\n  }\n\n  findMinEntry(): DSValue | null {\n    if (this.data.length == 0) {\n      return null;\n    }\n    let cVal = this.data[0];\n    for (const f of this.data) {\n      if (f.cmpValue < cVal.cmpValue ) {\n        cVal = f;\n      }\n    }\n    return cVal;\n  }\n\n  findMaxEntry(): DSValue | null {\n    if (this.data.length == 0) {\n      return null;\n    }\n    let cVal = this.data[0];\n    for (const f of this.data) {\n      if (f.cmpValue > cVal.cmpValue ) {\n        cVal = f;\n      }\n    }\n    return cVal;\n  }\n\n   findClosestLower(start: number): DSValue | null {\n    let cVal: DSValue | null = null;\n    for (const f of this.data) {\n      if (f.cmpValue <= start) {\n        if (cVal == null || f.cmpValue > cVal.cmpValue) {\n          cVal = f;\n        }\n      }\n    }\n    return cVal;\n  }\n\n\n  findClosestHigher(end: number): DSValue | null {\n    let cVal: DSValue | null = null;\n    for (const f of this.data) {\n      //print(\"test closest higher: $f  for $end\");\n      if (f.cmpValue >= end) {\n        if (cVal == null || f.cmpValue < cVal.cmpValue) {\n          //print(\"   taken test closest higher: $f  for $end\");\n          cVal = f;\n        }\n      }\n    }\n    return cVal;\n  }\n\n\n  findEntryByCMP(val: number): DSValue | undefined {\n    return this.data.find((f) => f.cmpValue == val);\n  }\n\n  ///\n  /// Returns the reduced text for the entry\n  ///\n  getEntryReduced(entryid: string): string {\n    const entry = this.findEntry(entryid);\n    if (entry == null) {\n      return entryid;\n    } else {\n      return entry.entryTitleReduced;\n    }\n  }\n\n  ///\n  /// Returns the standard text for the entry\n  ///\n  getEntryText(entryid: string): string {\n    const entry = this.findEntry(entryid);\n    if (entry == null) {\n      return entryid;\n    } else {\n      return entry.entryTitle;\n    }\n  }\n\n  fixupRange(inRange: RangeValues ): RangeValues {\n    let low = inRange.start;\n    if (this.findEntryByCMP(inRange.start) == null) {\n      low = this.findMinEntry()!.cmpValue;\n    }\n\n    let high = inRange.end;\n    if (this.findEntryByCMP(inRange.end) == null) {\n      high = this.findMaxEntry()!.cmpValue;\n    }\n\n    return new RangeValues( low, high );\n  }\n\n\n  findFirst(): DSValue {\n    return this.data[0];\n  }\n\n  findMaxValueNotGreater(value: number): DSValue | null {\n    let r: DSValue | null = null;\n    for (const v of this.data) {\n      if (v.cmpValue <= value) {\n        if (r == null) {\n          r = v;\n        } else {\n          if (r.cmpValue < v.cmpValue) {\n            r = v;\n          }\n        }\n      }\n    }\n\n    return r;\n  }\n\n\n  findMinValueNotLess(value: number): DSValue | null {\n    let r: DSValue | null = null;\n    for (const v of this.data) {\n      if (v.cmpValue >= value) {\n        if (r == null) {\n          r = v;\n        } else {\n          if (r.cmpValue > v.cmpValue) {\n            r = v;\n          }\n        }\n      }\n    }\n    return r;\n  }\n\n  getMidPoint0SecAdd(): DSValue {\n    let sPos = (this.data.length/2);\n    for (let x = sPos; x < this.data.length; x++) {\n      const tx = this.data[ x ];\n      if (tx.actual2 == 0) {\n        sPos = x;\n        break;\n      }\n    }\n    return this.data[ sPos ];\n  }\n\n\n}\n\n\nexport class OfferType {\n  code: string;\n  menutext: string;\n  acceptPrompt: string;\n  cl: boolean;            // required client logic\n  mm: number;             // Min moves in game\n  max: number;\n  cp: string;          // A=Any, C=Current player, O=Other player\n  gameState: string;  // The required gamestate\n  enabled: boolean;\n\n  constructor(data: object) {\n    this.code = prophelper.getString(data, \"code\"); //NON-NLS\n    this.menutext = prophelper.getString(data, \"menutext\"); //NON-NLS\n    this.acceptPrompt = prophelper.getString(data, \"acceptPrompt\"); //NON-NLS\n    this.cl = prophelper.getBool(data, \"cl\"); //NON-NLS\n    this.mm = prophelper.getNumber(data, \"mm\"); //NON-NLS\n    this.max = prophelper.getNumber(data, \"max\"); //NON-NLS\n    this.cp = prophelper.getString(data, \"cp\"); //NON-NLS\n    this.enabled = prophelper.getBool(data, \"enabled\"); //NON-NLS\n    this.gameState = prophelper.getString(data, \"gameState\"); //NON-NLS\n  }\n}\n\n\nexport class GameSetting {\n  settingName: string;\n  settingTitle: string;\n  settingType: string;\n  required: boolean;\n  componentUIType: string;\n  componentDataSource: string;\n\n  // Removed, use PluginManager.getDataSource(settingName);\n  // getDataSource(): DataSource  {\n  //   return pluginManager.getData()!.getDataSource(this.componentDataSource)!;\n  // }\n\n  constructor(data: object) {\n    this.settingName = prophelper.getString(data, \"settingName\"); //NON-NLS\n    this.settingTitle = prophelper.getString(data, \"settingTitle\"); //NON-NLS\n    this.settingType = prophelper.getString(data, \"settingType\"); //NON-NLS\n    this.required = prophelper.getBool(data, \"required\"); //NON-NLS\n    this.componentUIType = prophelper.getString(data, \"componentUIType\"); //NON-NLS\n    this.componentDataSource = prophelper.getString(data, \"componentDataSource\"); //NON-NLS\n  }\n\n}\n\nexport class MatchSetting {\n  settingName: string;\n  settingTitle: string;\n  settingType: string;\n  dsType: string;\n  min: string;\n  max: string;\n  dflt: string;\n  enums: string;\n  componentUIType: string;\n  componentDataSource: string;\n  playerContext: boolean;\n\n  constructor(map: object) {\n    this.settingName = prophelper.getString(map, \"settingName\"); //NON-NLS\n    this.settingTitle = prophelper.getString(map, \"settingTitle\"); //NON-NLS\n    this.settingType = prophelper.getString(map, \"settingType\"); //NON-NLS\n    this.dsType = prophelper.getString(map, \"dsType\"); //NON-NLS\n    this.min = prophelper.getString(map, \"min\"); //NON-NLS\n    this.max = prophelper.getString(map, \"max\"); //NON-NLS\n    this.dflt = prophelper.getString(map, \"dflt\"); //NON-NL\n    this.enums = prophelper.getString(map, \"enums\"); //NON-NLS\n    this.componentUIType = prophelper.getString(map, \"componentUIType\"); //NON-NLS\n    this.componentDataSource = prophelper.getString(map, \"componentDataSource\"); //NON-NLS\n    this.playerContext = prophelper.getBool(map, \"playerContext\");\n  }\n\n  getSettingText(settingValue: string): string {\n    if (settingValue == \"*\") {\n      return \"any\";\n    }\n    if (this.enums.length > 0) {\n      return settingValue;\n    }\n    return \"*todo*1\";\n  }\n\n  minNum(): number {\n    return parseInt(this.min);\n  }\n\n  maxNum(): number {\n    return parseInt(this.max);\n  }\n\n}\n\n\nexport class GameVariation {\n  name: string;\n  desc: string;\n\n  constructor(map: object) {\n    this.desc = prophelper.getString(map, \"desc\"); //NON-NLS\n    this.name = prophelper.getString(map, \"name\"); //NON-NLS\n  }\n\n}\n\n\nexport class PluginData {\n  gameType: string;\n  gameDesc: string;\n  version: string;\n  versionCode: number;\n  variations: GameVariation[] = [];\n  matchSettings: MatchSetting[] = [];\n  gameSettings: GameSetting[] = [];\n  offerTypes: OfferType[] = [];\n  dataSource: DataSource[] = [];\n  ratings: RatingClass[] = [];\n\n\n\n\n//  val dataSource: List<DataSourceResponse>,\n\n  getMatchSetting(matchSettingName: string): MatchSetting | undefined  {\n    return this.matchSettings.find( (ms) => ms.settingName == matchSettingName);\n  }\n\n  getRatingFor(rating: number): RatingClass| undefined {\n    let res: RatingClass | undefined = undefined;\n    for (const r of this.ratings){\n      if (res == null) {\n        res = r;\n      } else {\n        if (r.low < rating &&\n            res.low < r.low ) {\n          res = r;\n        }\n      }\n    }\n    return res;\n  }\n\n\n  constructor(map: object) {\n    const o = map;\n\n    this.gameType = prophelper.getString(o, \"gameType\"); //NON-NLS\n    this.gameDesc = prophelper.getString(o, \"gameDesc\"); //NON-NLS\n    this.version = prophelper.getString(o, \"version\"); //NON-NLS\n    this.versionCode = prophelper.getNumber(o, \"versionCode\"); //NON-NLS\n\n    for ( const v of prophelper.getPropertyList(o, \"variations\") ) {\n      this.variations.push( new GameVariation(v) );\n    }\n\n    for ( const v of prophelper.getPropertyList(o, \"matchSettings\") ) {\n      this.matchSettings.push( new MatchSetting(v) );\n    }\n\n    for ( const v of prophelper.getPropertyList(o, \"gameSettings\") ) {\n      this.gameSettings.push( new GameSetting(v) );\n    }\n\n    for ( const v of prophelper.getPropertyList(o, \"offerTypes\") ) {\n      this.offerTypes.push( new OfferType(v) );\n    }\n\n    for ( const v of prophelper.getPropertyList(o, \"dataSource\") ) {\n      this.dataSource.push( new DataSource(v) );\n    }\n    for ( const v of prophelper.getPropertyList(o, \"ratings\") ) {\n      this.ratings.push( new RatingClass(v) );\n    }\n    // EventBus().sendEvent(TriggerEvents.PLUGIN_EVENT_LOADED, \"\");\n    console.log(\"PluginData\", this);\n  }\n\n\n  findGameSetting(settingName: string): GameSetting | undefined {\n    return this.gameSettings.find( (gs) => gs.settingName == settingName);\n  }\n\n\n  findMatchSetting(settingName: string): MatchSetting | undefined {\n    return this.matchSettings.find( (gs) => gs.settingName == settingName);\n  }\n\n  getDataSource(dsname: string): DataSource | undefined {\n    return this.dataSource.find( (ds) => ds.name == dsname);\n  }\n\n\n  findOfferType(rtOffer: string): OfferType | undefined {\n    for (const ot of this.offerTypes) {\n      if (ot.code == rtOffer) {\n        return ot;\n      }\n    }\n    return undefined;\n  }\n}\n\n//====================================================================================================================================\n\n\n/***\n * \n * The plugin data contains all the information about the game.\n * \n */\nclass PluginManager extends AbstractManager {\n\n  \n  versionCode = -1;\n  nextLoadTime: Date = new Date(0);\n  inGetData = false;\n  _data: PluginData | undefined = undefined;\n  filterTest = true;\n\n\n  _open(): void {\n    console.log(\"open\");\n  }\n\n  _close(): void {\n    console.log(\"close\");\n  }\n\n  setServerPluginVersion(versionCode: number) {\n    console.log(\"Setting version code of plugin to\", versionCode);\n    if (this._data!.versionCode != versionCode) {\n      // console.log(\"New plugin version detected.\");\n      this.reduceReloadTime();\n    }\n  }\n\n\n  ///\n  /// Called frequently from the client.\n  /// This call returns early if its no needed.\n  ///\n  async loadPluginData(force = false): Promise<number> {\n\n    console.log(\"Plugin\", \"load check called\");\n\n    if (!state.isLoggedIn()) {\n      return 6;\n    }\n\n    if (this.inGetData) {\n      return 5;\n    }\n\n    if (Date.now() < this.nextLoadTime.getTime() && !force) {\n      // print(\"In plugin call, not time we have it cached\");\n      return 3;\n    }\n\n    // print(\"In plugin call, ok we will access the server\");\n//    if (1==1) {\n//      print(\"NO WAY!!\");\n//      return -1;\n//    }\n\n    console.log(\"Loading plugin data\");\n    this.inGetData = true;\n    try {\n      const parms = new Map<string, string>();\n      parms.set(\"gameType\", GameAbstract.instance!.getAppSettings().gameType);\n      const rsp = await client.doGet2(\n          \"/jgame/plugin/get\",\n          parms,\n          { applySystemCalls: false }\n      );\n      if (rsp.isOk()) {\n        \n        this.nextLoadTime = new Date( Date.now() + util.duration(7, \"h\") );\n        //print(\"We have ${rsp.getRawData()}\");\n        this.loadDataFromJSONResponse(rsp);\n        // this._data = new PluginData(rsp.data);\n        // this.filterTest = true;\n      } else {\n        console.log(`Error loading the plugin data: ${rsp.getMessage()}`);\n        this.nextLoadTime = new Date(Date.now() + (ERROR_RELOAD_SEC * 1000));\n      }\n    } finally {\n      this.inGetData = false;\n    }\n    return 0;\n  }\n\n  loadDataFromJSONResponse(rsp: JResponse) {\n    this._data = new PluginData(rsp.data);\n    this.filterTest = true;\n  }\n\n\n  resetNextLoadTime(): void {\n    this.nextLoadTime = new Date(0);\n  }\n\n  ///\n  /// This will not be immediate to prevent thrashing the server.\n  ///\n  reduceReloadTime(): void {\n    const nlt = Date.now() + (REDUCE_RELOAD_SEC*1000);\n    if (nlt < this.nextLoadTime.getTime()) {\n      this.nextLoadTime = new Date(nlt);\n    }\n  }\n\n  getData(): PluginData | undefined {\n    return this._data;\n  }\n\n  hasData(): boolean {\n    return this._data != undefined;\n  }\n\n  ///\n  /// Returns the text name of the variation\n  ///\n  getVariationName(variationCode: string): string {\n    if (!this.hasData()) {\n      // data not loaded?\n      this.reduceReloadTime();\n      return variationCode;\n    }\n    \n    const r = this.getData()?.variations.find( (v) => v.name == variationCode)\n    if (r) {\n      return r.desc; \n    } else {\n      return \"?\" + variationCode;\n    }\n  }\n\n\n  ///\n  /// Returns the variation\n  ///\n  getVariationFor(variationCode: string): GameVariation | undefined {\n    if (!this.hasData()) {\n      // data not loaded?\n      this.reduceReloadTime();\n      return undefined;\n    }\n    return this.getData()?.variations.find((v) => v.name == variationCode);\n  }\n\n  getGroupName(groupcode: string): string {\n    if (!this.hasData()) {\n      // data not loaded?\n      this.reduceReloadTime();\n      return groupcode;\n    }\n\n    // The client needs to come up with the names.\n    return groupcode.toUpperCase();\n  }\n\n  isReady(): boolean {\n    return this.hasData();\n  }\n\n  isNotReady(): boolean {\n    if (!this.hasData()) {\n      util.showMessage(\n        { title: \"Game data not loaded.\",\n          message: \"Sorry about this, looks like the system needs a refresh, try logging out and back in.\"} );\n      return true;\n    }\n    return false;\n  }\n\n  getVariations(): GameVariation[] {\n    if (this.getData() == undefined) {\n      // data not loaded?\n      this.reduceReloadTime();\n      return [];\n    }\n    return this.getData()!.variations;\n  }\n\n  getGroups(): string[] {\n    const tppSetting = this.getDataSource(\"timepp\");\n    const r = new Map<string, string>();\n    for (const f of tppSetting!.data ) {\n      r.set(f.gameGroup, f.gameGroup);\n    }\n\n    const rr: string[] = [];\n\n    for (const k in r) {\n      rr.push(k);\n    };\n\n    return rr;\n  }\n\n  ///\n  /// Returns the time group in a range    low to high\n  ///\n  getGroupTimeRange(groupName: string): string {\n\n    const tppSetting = this.getDataSource(\"timepp\");\n\n    let low: DSValue | null = null; \n    let high: DSValue | null = null;\n\n    for (const f of tppSetting!.data) {\n      if (f.gameGroup != groupName) {\n        continue;\n      }\n\n      if (low == null) {\n        low = f;\n      }\n      if (high == null) {\n        high = f;\n      }\n\n      if (low.cmpValue > f.cmpValue) {\n        low = f;\n      }\n      if (high.cmpValue < f.cmpValue) {\n        high = f;\n      }\n\n    }\n\n    return `${low!.entryTitleReduced} - ${high!.entryTitleReduced}`;\n  }\n\n  getGroupTimeLowValue( {groupName = \"\", skipZeroInc = false} ): DSValue {\n\n    const tppSetting = this.getDataSource(\"timepp\");\n\n    let low: DSValue | null = null;\n\n    for (const f of tppSetting.data) {\n      if (f.gameGroup != groupName) {\n        continue;\n      }\n      // print(f);\n      if (skipZeroInc) {\n        if (f.actual2 == 0 ) {\n          continue;\n        }\n      }\n\n      if (low == null) {\n        low = f;\n      }\n\n\n      if (low.cmpValue > f.cmpValue) {\n        low = f;\n      }\n    };\n\n    return low!;\n  }\n\n\n\n  getTimeGroup(timePP: string): string {\n\n    if (!this.hasData()) {\n      // data not loaded?\n      this.reduceReloadTime();\n      return timePP;\n    }\n\n    const tppSetting = this.getDataSource(\"timepp\");\n\n    // The client needs to come up with the names.\n    if (tppSetting.data.length == 0) {\n      return timePP;\n    }\n    const e = tppSetting.findEntry(timePP);\n    if (e == null) {\n      return timePP;\n    }\n    return e.gameGroup;\n  }\n\n  getGroupNameForTimePP(timePP: string): string {\n\n    if (!this.hasData()) {\n      // data not loaded?\n      this.reduceReloadTime();\n      return timePP;\n    }\n\n    const tppSetting = this.getDataSource(\"timepp\");\n\n    // The client needs to come up with the names.\n    if (tppSetting.data.length == 0) {\n      return timePP;\n    }\n    const e = tppSetting.findEntry(timePP);\n    if (e == null) {\n      return timePP;\n    }\n    return this.getGroupName(e.gameGroup);\n  }\n\n  getDSValue(component: string, entryId: string): DSValue | null {\n    const settings = this.getDataSource(component);\n    const rr = settings\n        .data\n        .find((f) => {\n      // print(\"$entryId == ${f.entryId}\");\n      return (entryId == f.entryId);\n    });\n    if (rr == undefined) {\n      return null;\n    }\n    return rr;\n  }\n\n  getGroupTimeRangeValues(groupName: string): RangeValues {\n\n    const tppSetting = this.getDataSource(\"timepp\");\n\n    let low: DSValue | null = null;\n    let high: DSValue | null = null;\n\n    for (const f of tppSetting.data) {\n      if (groupName != null && f.gameGroup != groupName) {\n        continue;\n      }\n\n      if (low == null) {\n        low = f;\n      }\n      if (high == null) {\n        high = f;\n      }\n\n      if (low.cmpValue > f.cmpValue) {\n        low = f;\n      }\n      if (high.cmpValue < f.cmpValue) {\n        high = f;\n      }\n\n    };\n    if (low == null || high == null) {\n      return new RangeValues(0, 100);\n    }\n\n    return new RangeValues(low.cmpValue, high.cmpValue);\n\n  }\n\n  getNextTimeHigher({ groupName = \"\", currentCmp = 0}): DSValue | null {\n\n    const tppSetting = this.getDataSource(\"timepp\");\n\n    let result: DSValue | null = null;\n\n    for (const f of tppSetting.data) {\n      if (groupName != null && f.gameGroup != groupName) {\n        continue;\n      }\n      if (f.cmpValue <= currentCmp) {\n        continue;\n      }\n\n      if (result == null) {\n        result = f;\n      } else {\n        if (f.cmpValue < result.cmpValue) {\n          result = f;\n        }\n      }\n    };\n\n    return result;\n  }\n\n  testForceServerPluginVersion({versionCode = -1}): void  {\n    this._data!.versionCode = versionCode;\n  }\n\n  getServerPluginVersion(): number  {\n    if ( this._data == null ) {\n      return 0;\n    }\n    return this._data.versionCode;\n  }\n\n  setFilterTest(filterNext: boolean) {\n    this.filterTest = filterNext;\n  }\n\n  getDataSource(settingName: string): DataSource {\n    const settingDef = this.getData()!.findGameSetting(settingName);\n    return this.getData()!.getDataSource(settingDef!.componentDataSource)!;\n  }\n\n  getDataSourceTimepp(): DataSource {\n    const settingDef = this.getData()!.findGameSetting(\"timepp\");\n    return this.getData()!.getDataSource(settingDef!.componentDataSource)!;\n  }\n\n\n}\n\nconst pluginManager = new PluginManager();\nexport default pluginManager;\n\n","import axios from 'axios';\nimport JResponse from './JResonse';\nimport state from './State';\nimport GameAbstract from './GameAbstract';\nimport serverTimeAdjuster from './ServerTimeAdjuster';\nimport pluginManager  from '@/base/managers/PluginManager';\n\n// const PROD_API = 'https://play.hapticapps.live';\n\nconst USE_PROXY = false;\nconst DEV_API = '/api';\n\n/**\n * Client that talks to the server\n */\nclass GameCient {\n\n    getHost() {\n      if (USE_PROXY) {\n        return DEV_API\n      } else {\n        const host = GameAbstract.instance!.getAppSettings().rtServerHost\n        console.log(`Host: ${host}`);\n        return host;\n      }\n    }\n\n    constructor() {\n        console.log(\"New GameCient *******\");\n    }\n\n    _appendArg(url: string, key: string, val: string): string {\n        let apChar = \"&\";\n        if (url.indexOf(\"?\") < 0 ) {\n            apChar = \"?\";\n        }\n        return url + apChar + key + \"=\" + encodeURIComponent(val);\n        \n    }\n\n    _enhanceUrl(url: string): string {\n        url = this._appendArg(url, 'gameType', GameAbstract.instance!.getAppSettings().gameType );\n        const tkn = state.getRTToken();\n        if (tkn) {\n          url = this._appendArg(url, 'tkn', tkn);\n        }\n\n        return url;\n    }\n\n    /**\n     * Returns a promise\n     * @param url \n     * @param argsMap \n     */\n    async doPost(url: string, argsMap: Map<string, string>): Promise<JResponse> {\n      return await this.doPost2(url, argsMap, {applySystemCalls: true});\n    }\n\n    /**\n     * Returns a promise\n     * @param {*} url \n     * @param {*} argsMap \n     */\n    async doPost2(url: string, argsMap: Map<string, string>, {applySystemCalls = true} ): Promise<JResponse> {\n        const js = JSON.stringify(Object.fromEntries(argsMap));\n        url = this._enhanceUrl(url);\n        // console.log(\"Call\", url, js);\n        const r = await axios.post(`${this.getHost()}${url}`, js)\n        const jr = new JResponse({status:r.status, data:r.data});\n\n        if (jr.isOk() && applySystemCalls ) {\n          await pluginManager.loadPluginData();\n          // await FriendManager().loadData(context);\n          // await FavoriteManager().loadData(context);\n    \n        }\n        if (jr.isOk() ){\n          serverTimeAdjuster.setAdjustmentFor(jr.serverDate);\n        }\n        return jr;\n    }\n\n    async doGet(url: string, argsMap: Map<string,string> ): Promise<JResponse>  {\n      return await this.doGet2(url, argsMap, {applySystemCalls: true} );\n    }\n\n    async doGet2(url: string, argsMap: Map<string,string>, {applySystemCalls = true} ): Promise<JResponse>  {\n      argsMap.forEach( (v, k) => {\n          url = this._appendArg(url, k, v);\n      });\n      url = this._enhanceUrl(url);\n      const r = await axios.get(`${this.getHost()}${url}`)\n      const jr = new JResponse({status:r.status, data:r.data});\n\n      if (jr.isOk() && applySystemCalls ) {\n        await pluginManager.loadPluginData();\n        // await FriendManager().loadData(context);\n        // await FavoriteManager().loadData(context);\n  \n      }\n\n      if (jr.isOk() ){\n        serverTimeAdjuster.setAdjustmentFor(jr.serverDate);\n      }\n\n      return jr;\n  }\n\n\n\n}\n\nconst client = new GameCient();\n\nexport default client;\n","import AsyncCall from './AsyncCall';\nimport Client from '@/base/util/GameClient'\n\nclass RTListInvitesCall extends AsyncCall {\n\n    constructor(vue: Vue) {\n        super(vue);\n    }\n\n    async _doCall() {\n        const p = new Map<string,string>();\n        p.set(\"friendChat\", \"fc\");\n        const r = await Client.doPost(\"/jinvite/listOpen\", p)\n        // console.log(\"Invite list:\", r);\n        return r;\n    }\n\n}\n\nexport default RTListInvitesCall;\n","import ListSection from \"./ListSection\";\nimport Listable from './Listable';\n\nclass SectionTitleItem implements Listable{\n  section: ListSection;\n\n  constructor(section: ListSection) {\n    this.section = section;\n  }\n}\n\nexport default SectionTitleItem;","\n///\n/// Contains list sections\n/// This is made to work with segmented lists so count and get will\n/// include the section headers.\n///\n/// Will automatically skip empty sections\n///\n\nimport ListSection from \"./ListSection\";\nimport SectionTitleItem from './SectionTitleItem';\nimport Listable from './Listable';\n\n///\nclass DataList {\n  sections: ListSection[] = [];\n\n  // Do we show sections???\n  showSections = true;\n\n  addSection(listSection: ListSection) {\n    this.sections.push(listSection);\n  }\n\n  addSectionToFront(listSection: ListSection) {\n    this.sections.push.apply(this.sections, [listSection]);\n  }\n\n  ///\n  /// Returns a total of all items plus section headers\n  ///\n  count(): number {\n    let c = 0;\n    for (const ls of this.sections) {\n      if (ls.count() > 0 && this.showSections) {\n        c++;\n      }\n\n      c += ls.count();\n    }\n    return c;\n  }\n\n//  /**\n//   * Returns the object at the given [index] in the list\n//   * or throws a [RangeError] if [index] is out of bounds.\n//   */\n  // Listable operator [](int index) {\n  //   return itemAt(index);\n  // }\n\n  itemAt(index: number): Listable   {\n    let wIndex = index;\n\n    for (const ls of this.sections) {\n      if (ls.count() == 0) {\n        // ignore this\n        continue;\n      }\n\n      if (this.showSections) {\n        wIndex--;\n\n        if (wIndex < 0) {\n          // We are at a section header.\n          return new SectionTitleItem( ls);\n        }\n      }\n\n      if (ls.count() > wIndex) {\n        // We have a hit\n        return ls.elementAt(wIndex);\n      }\n      wIndex -= ls.count();\n    }\n\n    console.error(\"Range error for item at \" + index);\n    throw new Error(\"Range error for item at \" + index);\n  }\n\n  /// Go thru each section and sort them\n  // void sort(int Function(Listable u, Listable u2) comparator) {\n  //   for (ListSection ls in sections) {\n  //     ls.sort(comparator);\n  //   }\n  // }\n\n  // void forEach(void function(ListSection section, Listable element)) {\n  //   for (ListSection ls in sections) {\n  //     ls.forEach(function);\n  //   }\n  // }\n\n  // static DataList from({DataList other}) {\n  //   DataList newList = DataList();\n  //   newList.sections.forEach( (sect) {\n  //       newList.addSection(sect);\n  //   });\n  //   return newList;\n  // }\n}\n\nexport default DataList;\n","import Listable from '@/base/util/listSection/Listable';\n\nabstract class RTDTO implements Listable {\n\n  id = \"\";\n\n  getId(): string {\n    return this.id;\n  }\n\n  setId(id: string): void {\n    this.id = id;\n  }\n\n}\n\nexport default RTDTO;\n","import RTDTO from \"./RTDTO\";\nimport prophelper from '@/base/util/PropHelper';\n\nclass RTChatHeaderDTO extends RTDTO {\n\n  roomId: string;\n  seq: number;\n\n  constructor(map: Map<string, object>) {\n    super();\n    this.roomId = prophelper.getString(map, \"roomId\");\n    this.seq = prophelper.getNumber(map, \"seq\");\n    super.setId(this.roomId);\n  }\n\n\n  static parse(chatList: object[]): RTChatHeaderDTO[] {\n    const r: RTChatHeaderDTO[] = []\n    for (const imap of chatList) {\n      const map = imap as Map<string, object>;\n      const g = new RTChatHeaderDTO(map );\n      r.push(g);\n    }\n    return r;\n  }\n\n}\n\n\nexport default RTChatHeaderDTO;\n","\n\n\n///\n/// These are items from the server\nimport prophelper from '@/base/util/PropHelper';\nimport util from '@/base/util/Util';\n\n\n///\nexport class ServerPurchaseDataItem {\n  exp: number; // Exp date of the subscription/purchase\n  tId: string; // The unique id of the tx.  For subscriptions = original Tx Id\n  pId: string;\n\n  // Create an instance from the server data\n  constructor(map: Map<string, object>) {\n    ///\n    /// flutter:       {\n    //flutter:         \"exp\": 1590124290000,\n    //flutter:         \"tId\": \"1000000668331767\",\n    //flutter:         \"pId\": \"com.ctl.noads.12\"\n    //flutter:       }\n    this.exp = prophelper.getNumber(map, \"exp\");\n    this.pId = prophelper.getProperty(map, \"pId\");\n    this.tId = prophelper.getProperty(map, \"tId\");\n  } //: ProductId\n\n  static parse(dataList: object[]): ServerPurchaseDataItem[] {\n    const r: ServerPurchaseDataItem[] = [];\n    for (const imap of dataList) {\n      const map = imap as Map<string, object>;\n      const g = new ServerPurchaseDataItem(map);\n      r.push(g);\n    }\n    return r;\n  }\n\n  isActive(): boolean {\n    return ((this.exp + util.duration(7, \"d\") ) > Date.now());\n  }\n\n  isInGrace(): boolean {\n    if (this.isActive()) {\n      return (this.exp < Date.now());\n    }\n    return false;\n  }\n\n}\n\n\n/**\n * Todo: finish\n */\nclass AccountPurchaseManager {\n\n}\n\nexport default AccountPurchaseManager;","import RTDTO from \"./RTDTO\";\nimport prophelper from '@/base/util/PropHelper';\n\n\nclass RTMyRatingDTO extends RTDTO {\n\n  gVariation: string;\n  gGroup: string;\n  rating: number;\n\n\n  constructor(map: Map<string, object>) {\n    super();\n    this.gVariation = prophelper.getString(map, \"gv\");\n    this.gGroup = prophelper.getString(map, \"gg\");\n    this.rating = prophelper.getNumber(map, \"curr\");\n  }\n\n  static parse(ratings: object[]): RTMyRatingDTO[] {\n    const r: RTMyRatingDTO[] = [];\n\n    for (const imap of ratings) {\n      const map = imap as Map<string, object>;\n      const g = new RTMyRatingDTO(map);\n      r.push(g);\n    }\n    return r;\n  }\n\n}\n\nexport default RTMyRatingDTO;\n\n","\nclass ServerMessageConverter {\n  static convertMoveTimes(name: string): string {\n    /// todo: finish this\n    return name;\n  }\n\n  static convertRatingName(ratingName: string): string {\n    /// todo: finish this\n    return ratingName;\n  }\n}\n\nexport default ServerMessageConverter;","\n\nimport RTDTO from './RTDTO';\nimport prophelper from '@/base/util/PropHelper';\nimport pluginManager from '@/base/managers/PluginManager';\nimport ServerMessageConverter from '@/base/util/ui/ServerMessageConverter';\nimport util from '@/base/util/Util';\n\n\nexport class RTOpenGroupRatings {\n  group = \"\";\n  rating =0\n  win =0\n  loss =0\n  draw =0\n\n  constructor(\n    group: string,\n    rating: number,\n    win: number,\n    loss: number,\n    draw: number\n  ) {\n    this.loss = loss;\n    this.draw = draw;\n    this.group = group;\n    this.rating = rating;\n    this.win = win;\n  }\n}\n\nclass RTOpenInviteDTO extends RTDTO {\n  fromId = \"\";\n\n  groupRatings: RTOpenGroupRatings[] = [];\n\n  fromProfileImage = \"\";\n\n  getLongRating(): number {\n    return this.fromRating;\n  }\n\n  gameType =\"\";\n\n  fromName = \"\";\n  fromCountryCode = \"\";\n  fromProfilePicture = \"\";\n\n\n  fromRating = 0;\n  fromRatingName = \"\";\n\n  offerDate = new Date();\n  createDate = new Date();\n\n  secPerMove = 0;\n\n  server = \"\";\n\n  variation = \"\";\n\n  matchRated = \"\";\n  matchCountryCode = \"\";\n  matchStartColor = \"\";\n  matchTimeLow = \"\";\n  matchTimeHigh = \"\"; \n\n  matchRateLow = 0;\n  matchRateHigh = 0;\n\n  constructor(o: Map<string, object> ) {\n    super();\n    this.offerDate = prophelper.getDateFromMillis(o, \"createDate\"); //NON-NLS\n    this.variation = prophelper.getString(o, \"variation\"); //NON-NLS\n    this.server = prophelper.getString(o, \"sv\");\n\n    this.matchTimeLow = prophelper.getString(o, \"settings.data.timepp.low\");\n    this.matchTimeHigh = prophelper.getString(o, \"settings.data.timepp.high\");\n    this.matchRated = prophelper.getString(o, \"settings.data.rated.low\");\n\n    this.matchRateLow = prophelper.getInt(o, \"settings.data.ratingRange.low\", 0);\n    this.matchRateHigh = prophelper.getInt(o, \"settings.data.ratingRange.high\", 999999);\n\n    this.matchStartColor = prophelper.getString(o, \"settings.data.startColor.low\");\n\n    this.fromId = prophelper.getString(o, \"fromUser.uid\");\n    this.fromName = prophelper.getString(o, \"fromUser.name\");\n    this.fromCountryCode = prophelper.getString(o, \"fromUser.cc\");\n    this.fromProfilePicture = prophelper.getString(o, \"fromExt.profilePic\");\n\n    const groupRatingsMap: Map<string, object> = prophelper.getPropertyMap(o, \"groupRatings\");\n    // console.log(\"Group rating map:\", groupRatingsMap);\n    for (const [k, v] of groupRatingsMap.entries()) {\n      this.groupRatings.push(new RTOpenGroupRatings(\n        k,\n        prophelper.getInt(v, \"rating\"),\n        prophelper.getInt(v, \"w\"),\n        prophelper.getInt(v, \"l\"),\n        prophelper.getInt(v, \"d\"),\n      ));\n    };\n  }\n\n  getMoveTimeRangeDisplay(): string {\n    if (this.matchTimeHigh == this.matchTimeLow) {\n      return this.getMoveTimeDisplay();\n    }\n    return `${this._getMoveTimeFromDisplayReduced(this.matchTimeLow)} - ${this._getMoveTimeFromDisplayReduced(this.matchTimeHigh)}`;\n  }\n\n _getMoveTimeFromDisplayReduced(entryid: string): string {\n    const ds = pluginManager.getDataSourceTimepp();\n    return ds.getEntryReduced(entryid);\n  }\n  _getMoveTimeFromDisplay(entryid: string): string {\n    const ds = pluginManager.getDataSourceTimepp();\n    return ds.getEntryText(entryid);\n  }\n\n\n  getMoveTimeFromDisplay(): string {\n    return this._getMoveTimeFromDisplay(this.matchTimeLow);\n  }\n\n  getMoveTimeToDisplay(): string {\n    return this._getMoveTimeFromDisplay(this.matchTimeHigh);\n  }\n\n  getMoveTimeDisplay(): string {\n    return this._getMoveTimeFromDisplay(this.matchTimeLow);\n  }\n\n  getStartColor(): string | undefined {\n    return pluginManager.getData()?.\n      getMatchSetting(\"startColor\")?.getSettingText(this.matchStartColor);\n  }\n\n  setFromRatingName(fromRatingName: string) {\n    this.fromRatingName = fromRatingName;\n  }\n\n  getFromRatingName(): string {\n    return ServerMessageConverter.convertRatingName(this.fromRatingName);\n  }\n\n\n  setSecPerMove(secPerMove: number) {\n    this.secPerMove = secPerMove;\n  }\n\n  getSecPerMove(): number {\n    return this.secPerMove;\n  }\n\n  getFromCountryCode(): string {\n    return this.fromCountryCode;\n  }\n\n\n//  DateTime getCreateDateTime() {\n//    return createDateTime;\n//  }\n\n  getFromRating(): number {\n    return this.fromRating;\n  }\n\n  getFromId(): string {\n    return this.fromId;\n  }\n\n  isRated(): boolean {\n    return \"Y\" == (this.matchRated);\n  }\n\n  getGameOptionsString(): string {\n    return util.getRatingLongString(this.isRated());\n  }\n\n \n\n  getVariation(): string {\n    return this.variation;\n  }\n\n  \n  static parse(dataList: object[]): RTOpenInviteDTO[] {\n    const r: RTOpenInviteDTO[] = []\n\n    for (const imap of dataList) {\n      const map = imap as Map<string, object>;\n\n      const g = new RTOpenInviteDTO(map);\n      r.push(g);\n    }\n\n    return r;\n  }\n\n\n}\n\nexport default RTOpenInviteDTO\n","\n\n///\n///\n/// Parses the invitations to ME.\n/// \"invites\":[{\"fromUser\":{\"countryCode\":\"W1\",\"createDate\":\"2016-01-25T00:42:52+0100\",\"draw\":9,\"id\":1568175,\"loss\":91,\"name\":\"gm62\",\"peakRating\":1261,\"rating\":1074,\"ratingName\":\"Class E\",\"win\":46},\"id\":43268920,\"matchAnalyzer\":\"Y\",\"matchCountryCode\":\"*\n///\n/// \"ofromme\": [\n//      {\n//        \"id\": \"5d4831f6e66ac23952f42497\",\n//        \"gt\": \"ct\",\n//        \"createDate\": 1565012470384,\n//        \"settings\": {\n//          \"data\": {\n//            \"timepp\": {\n//              \"low\": \"10_2\",\n//              \"high\": \"10_2\"\n//            },\n//            \"rated\": {\n//              \"low\": \"Y\",\n//              \"high\": \"Y\"\n//            },\n//            \"startColor\": {\n//              \"low\": \"*\",\n//              \"high\": \"*\"\n//            }\n//          }\n//        },\n//        \"sv\": \"c6818197-7b1e-40bd-bd9c-db2618f604ee\"\n//      }\n///\n///\n\nimport RTDTO from \"./RTDTO\";\nimport prophelper from '@/base/util/PropHelper';\nimport pluginManager from '@/base/managers/PluginManager';\nimport ServerMessageConverter from '@/base/util/ui/ServerMessageConverter';\nimport util from '@/base/util/Util';\n\n\nclass RTInviteDTO extends RTDTO {\n\n  fromId = \"\";\n\n  // to be filled from the server\n  fromProfileImage = \"\";\n\n\n  getLongRating(): number {\n    return this.fromRating;\n  }\n\n  getOfferDate(): Date {\n    return this.offerDate;\n  }\n\n  gameType = \"\";\n  fromName = \"\";\n  fromRating = 0;\n  fromRatingName = \"\";\n  fromCountryCode = \"\";\n  offerDate = new Date();\n  createDate = new Date();\n\n  toName = \"\";\n  toRating = 0;\n  toRatingName = \"\";\n  secPerMove = 0;\n  toCountryCode = \"\";\n\n  peak = 0;\n  win = 0;\n  loss = 0;\n  draw = 0;\n\n  server = \"\";\n\n  variation = \"\";\n\n  // DateTime createDateTime;\n\n  matchRated = \"\";\n  matchCountryCode = \"\";\n  matchStartColor = \"\";\n  matchTimeLow = \"\";\n  matchTimeHigh = \"\";\n\n\n  // open invitations to a rating class\n  ratingName = \"\";\n\n  _isMine = false;\n  _isOpen = false;\n\n  \n\n  constructor(map: Map<string, object>, isOpen: boolean) {\n    super();\n    this._isOpen = isOpen;\n\n    const o = map;\n\n//  /***\n//   * From a map returned from the server // \"id\", \"fromUser.name\",\n//   * \"fromUser.rating\", \"offerDateTime\" }/// \"ofromme\": [\n//      {\n//        \"id\": \"5d4831f6e66ac23952f42497\",\n//        \"gameType\": \"ct\",\n//        \"createDate\": 1565012470384,\n//        \"settings\": {\n//          \"data\": {\n//            \"timepp\": {\n//              \"low\": \"10_2\",\n//              \"high\": \"10_2\"\n//            },\n//            \"rated\": {\n//              \"low\": \"Y\",\n//              \"high\": \"Y\"\n//            },\n//            \"startColor\": {\n//              \"low\": \"*\",\n//              \"high\": \"*\"\n//            }\n//          }\n//        },\n//        \"sv\": \"c6818197-7b1e-40bd-bd9c-db2618f604ee\"\n//  \"fromExt\": {\n//  \"uid\": \"cd2f4235-81fc-11e9-b7a3-a4bf011f18c0\",\n//  \"profilePic\": \"920325-200.png\"\n//  }\n//      }\n  ///\n//   * @param o\n//   */\n    //id = Util.getString(o, \"id\"); //NON-NLS\n\n    // print(o.toString());\n\n\n    this.offerDate = prophelper.getDateFromMillis(o, \"createDate\"); //NON-NLS\n    this.variation = prophelper.getString(o, \"variation\"); //NON-NLS\n    this.server = prophelper.getString(o, \"sv\");\n\n    if (this._isOpen) {\n      this.matchTimeLow = prophelper.getString(o, \"settings.data.timepp.low\");\n      this.matchTimeHigh = prophelper.getString(o, \"settings.data.timepp.high\");\n      this.matchRated = prophelper.getString(o, \"settings.data.rated.low\");\n      this.matchStartColor = prophelper.getString(o, \"settings.data.startColor.low\");\n    } else {\n      //print(\"direct: $o\");\n      this.matchTimeLow = prophelper.getString(o, \"settings.data.timepp\");\n      this.matchTimeHigh = prophelper.getString(o, \"settings.data.timepp\");\n      this.matchRated = prophelper.getString(o, \"settings.data.rated\");\n      this.matchStartColor = prophelper.getString(o, \"settings.data.startColor\");\n      this.toName = prophelper.getString(o, \"toDenorm.name\");\n      this.fromId = prophelper.getString(o, \"fromDenorm.uid\");\n      this.fromName = prophelper.getString(o, \"fromDenorm.name\");\n      this.fromRating = prophelper.getInt(o, \"fromDenorm.rating\");\n      this.fromProfileImage = prophelper.getString(o, \"fromExt.profilePic\");\n\n\n    }\n\n    //unknownPlayer = Util.getBool(o, \"unknownPlayer\");\n    //fromId = Util.getLong(o, \"fromUser.id\"); //NON-NLS\n  }\n\n  getMoveTimeRangeDisplay(): string {\n    if (this.matchTimeHigh == this.matchTimeLow) {\n      return this.getMoveTimeDisplay();\n    }\n    return `${this._getMoveTimeFromDisplayReduced(this.matchTimeLow)} - ${this._getMoveTimeFromDisplayReduced(this.matchTimeHigh)}`;\n  }\n\n  _getMoveTimeFromDisplayReduced(entryid: string): string {\n    const ds = pluginManager.getDataSourceTimepp();\n    return ds.getEntryReduced(entryid);\n  }\n  _getMoveTimeFromDisplay(entryid: string): string {\n    const ds = pluginManager.getDataSourceTimepp();\n    return ds.getEntryText(entryid);\n  }\n\n\n  getMoveTimeFromDisplay(): string {\n    return this._getMoveTimeFromDisplay(this.matchTimeLow);\n  }\n\n  getMoveTimeToDisplay(): string {\n    return this._getMoveTimeFromDisplay(this.matchTimeHigh);\n  }\n\n  getMoveTimeDisplay(): string {\n    return this._getMoveTimeFromDisplay(this.matchTimeLow);\n  }\n\n  getStartColor(): string | undefined {\n    return pluginManager.getData()?.getMatchSetting(\"startColor\")?.getSettingText(this.matchStartColor);\n  }\n\n\n  getOfferDesc(): string {\n    if (this.isToRoom()) return \"All Users\"; //NON-NLS\n    return this.toName;\n  }\n\n  setMine(isMine: boolean) {\n    this._isMine = isMine;\n  }\n\n  isMine(): boolean {\n    return this._isMine;\n  }\n\n  isToRoom(): boolean {\n    return this.toName.length == 0;\n  }\n\n  isOpenInvitation(): boolean {\n    return this._isOpen;\n    // return isMine() && toName == null;\n  }\n\n  setFromRatingName(fromRatingName: string) {\n    this.fromRatingName = fromRatingName;\n  }\n\n  getFromRatingName(): string {\n    return ServerMessageConverter.convertRatingName(this.fromRatingName);\n  }\n\n  setToRatingName(toRatingName: string) {\n    this.toRatingName = toRatingName;\n  }\n\n  getToRatingName(): string {\n    return ServerMessageConverter.convertRatingName(this.toRatingName);\n  }\n\n  getRatingName(): string {\n    return ServerMessageConverter.convertRatingName(this.ratingName);\n  }\n\n  setSecPerMove(secPerMove: number) {\n    this.secPerMove = secPerMove;\n  }\n\n  getSecPerMove() {\n    return this.secPerMove;\n  }\n\n  getFromCountryCode() {\n    return this.fromCountryCode;\n  }\n\n  getToCountryCode() {\n    return this.toCountryCode;\n  }\n\n  getDraw() {\n    return this.draw;\n  }\n\n  getLoss() {\n    return this.loss;\n  }\n\n  getPeak() {\n    return this.peak;\n  }\n\n  getWin() {\n    return this.win;\n  }\n\n//  DateTime getCreateDateTime() {\n//    return createDateTime;\n//  }\n\n  getFromRating() {\n    return this.fromRating;\n  }\n\n  getFromId() {\n    return this.fromId;\n  }\n\n  isRated() {\n    return \"Y\" == (this.matchRated);\n  }\n\n  getGameOptionsString() {\n    return util.getRatingLongString(this.isRated());\n  }\n\n  getVariation() {\n    return this.variation;\n  }\n\n\n  static parse(dataList: object[],\n    { isMine = false,\n    isOpen = false}): RTInviteDTO[] {\n\n    const r: RTInviteDTO[] = [];\n    // print(\"Parse: $dataList\");\n\n    for (const imap of dataList) {\n      const map = imap as Map<string, object>;\n      // print(\"Game: $map\");\n\n      const g = new RTInviteDTO(map, isOpen);\n      g.setMine(isMine);\n      r.push(g);\n    }\n    return r;\n  }\n\n\n}\n\nexport default RTInviteDTO;","\n\n///\n///\n/// Parses the invitations to ME.\n/// \"invites\":[{\"fromUser\":{\"countryCode\":\"W1\",\"createDate\":\"2016-01-25T00:42:52+0100\",\"draw\":9,\"id\":1568175,\"loss\":91,\"name\":\"gm62\",\"peakRating\":1261,\"rating\":1074,\"ratingName\":\"Class E\",\"win\":46},\"id\":43268920,\"matchAnalyzer\":\"Y\",\"matchCountryCode\":\"*\n///\n/// \"fiToMe\": [\n//      {\n//        \"fromDenorm\": {\n//          \"uid\": \"cd2f4235-81fc-11e9-b7a3-a4bf011f18c0\",\n//          \"name\": \"gm\",\n//          \"cc\": \"US\",\n//          \"w\": 0,\n//          \"l\": 0,\n//          \"d\": 0\n//        }\n//      }\n///\n\nimport RTDTO from \"./RTDTO\";\nimport prophelper from '@/base/util/PropHelper';\n\n\nclass RTFriendInviteDTO extends RTDTO {\n  fromName = \"\";\n  fromCountryCode = \"\";\n  fromUID = \"\";\n\n  fromProfileImage = \"\";\n\n\n  constructor(map: Map<string, object>) {\n    super();\n      this.fromName = prophelper.getString(map, \"fromDenorm.name\");\n      this.fromUID = prophelper.getString(map, \"fromDenorm.uid\");\n      this.fromCountryCode = prophelper.getString(map, \"fromDenorm.cc\");\n      this.fromProfileImage = prophelper.getString(map, \"profilePicture\");\n    }\n\n\n  static parse(dataList: object[]): RTFriendInviteDTO[] {\n    const r: RTFriendInviteDTO[] = [];\n    for (const imap of dataList) {\n      const map = imap as Map<string, object>;\n      const g = new RTFriendInviteDTO(map);\n      r.push(g);\n    }\n    return r;\n  }\n}\n\nexport default RTFriendInviteDTO;","\n\n///\n/// Contains a list of data\n\nimport UIColor from \"../ui/UIColor\";\nimport Listable from './Listable';\n\n\n///\nclass ListSection {\n  title: string;\n  subText: string;\n  showTotals = true;\n  showRefresh = false;\n  code: string;\n  color: UIColor | null = null;\n  data: Listable[] = [];\n\n  visible = true;\n\n  constructor( { title = \"\",\n    showTotals = true,\n    visible = true,\n    showRefresh = false,\n    subText = \"\",\n    code = \"\" }) {\n      this.title = title;\n      this.code = code;\n      this.visible = visible;\n      this.showTotals = showTotals;\n      this.showRefresh = showRefresh;\n      this.subText = subText;\n    }\n\n  addData(dto: Listable) {\n    this.data.push(dto);\n  }\n\n  count(): number {\n    return this.data.length;\n  }\n\n  elementAt(i: number): Listable  {\n    return this.data[i];\n  }\n\n  addAll(items: Listable[]) {\n    for (const i of items) {\n      this.data.push(i);\n    }\n  }\n\n  getAsTitle(): string {\n    if (this.showTotals) {\n      return `${this.title}  (${this.count()})`;\n    } else {\n      return `${this.title}`;\n    }\n  }\n\n  // sort(int Function(Listable u, Listable u2) comparator) {\n  //   this.\n  //   data.sort(comparator);\n  // }\n\n  // void forEach(void Function(ListSection section, Listable element) function) {\n  //   data.forEach((ele) {\n  //     function(this, ele);\n  //   });\n  // }\n\n  getColor(): UIColor | null {\n    return this.color;\n  }\n}\n\nexport default ListSection\n\n","\nimport Listable from '@/base/util/listSection/Listable'\n\n// No data needed\nexport class InvitePanelPlaceHolder implements Listable {\n\n}\n\n\n// No data needed\nexport class NoOpenInvitationsPlaceHolder implements Listable {\n\n}\n\n\nexport class InfoPanelData implements Listable {\n  message = \"\";\n  icon = \"\";\n  subtext = \"\";\n\n  constructor(\n  {\n    message = \"\",\n    icon = \"\",\n    subtext = \"\",\n  }\n  ) {\n    this.message = message;\n    this.icon = icon;\n    this.subtext = subtext;\n  }\n\n}\n\nexport class ViewHistoryPanelData implements Listable {\n\n}\n\n\n","\n/**\n * \n * On the device this is run as an isolate.\n * \n */\n\nimport DataList from '@/base/util/listSection/DataList';\nimport RTChatHeaderDTO from '@/base/dto/RTChatHeaderDTO';\nimport { ServerPurchaseDataItem } from '@/base/managers/AccountPurchaseManager';\nimport RTMyRatingDTO from '@/base/dto/RTMyRatingDTO';\nimport JResponse from '@/base/util/JResonse';\nimport prophelper from '@/base/util/PropHelper';\nimport RTOpenInviteDTO from '@/base/dto/RTOpenInviteDTO';\nimport state from '@/base/util/State';\nimport RTInviteDTO from '@/base/dto/RTInviteDTO';\nimport RTFriendInviteDTO from '@/base/dto/RTFriendInviteDTO';\nimport ListSection from '@/base/util/listSection/ListSection';\nimport { InvitePanelPlaceHolder, NoOpenInvitationsPlaceHolder } from '@/base/components/listPanels/ListPanelDataClasses';\nimport util from '@/base/util/Util';\nimport GameAbstract from '@/base/util/GameAbstract';\n\nexport class InviteGameListComputeResult {\n  datalist?: DataList;\n  avgRating = 0;\n  friendCacheCode = \"\";\n  adConfigCacheCode = \"\";\n  favCacheCode = \"\";\n\n  chatHeaders: RTChatHeaderDTO[] = [];\n  hasOpenInvites = false;\n\n  myTotalPlayed = 0;\n\n  listStateCode = 0;\n\n  // These could get updated\n  myCC = \"\";\n  myName = \"\";\n\n  newsSize = 0;\n\n  pluginVersionCode = 0;\n\n  serverPurchases: ServerPurchaseDataItem[] = [];\n\n\n  ratings: RTMyRatingDTO[] = [];\n}\n\n\nclass InviteGameListCompute {\n\n  /**\n   * The main working method\n   */\n  processResults(resp: JResponse): InviteGameListComputeResult {\n    const result = new InviteGameListComputeResult();\n\n    // console.log(\"Data:\", resp.data)\n    // console.log(\"Datalist:\", resp.getDataList(\"oinvites\"))\n\n    let openInvites = RTOpenInviteDTO.parse(\n      resp.getDataList(\"oinvites\"),);\n      openInvites = openInvites.filter( (oi) => {\n        return !state.isThisMe(oi.fromId);\n    } );\n\n    const games = GameAbstract.instance!.parseList( resp.getDataList(\"agames\") );\n\n    const inviteToMe = RTInviteDTO.parse( resp.getDataList(\"itome\"), { } );\n\n    const myInvites = RTInviteDTO.parse( resp.getDataList(\"ifromme\"), {isMine: true});\n\n    const myOpenInvites = RTInviteDTO.parse( resp.getDataList(\"ofromme\"), {\n        isMine: true,\n        isOpen: true }\n    );\n    \n    const serverPurchaseDataItems = ServerPurchaseDataItem.parse(\n      resp.getDataList(\"p\"),\n    );\n\n    const myFriendInvites = RTFriendInviteDTO.parse( resp.getDataList(\"fiToMe\")\n    );\n\n  const myRatings = RTMyRatingDTO.parse( resp.getDataList(\"myRates\")  );\n\n    \n  const chatHeaders = RTChatHeaderDTO.parse(\n    resp.getDataList(\"chatRoomData\")\n  );\n\n  let runningGames = 0;\n  for (const entry of games) {\n    if (!entry.isPaused()) {\n      if (!entry.isComplete()) {\n        runningGames++;\n      }\n    }\n  };\n\n  const myMoves = games.filter( (g) => !g.isComplete() && g.isMyTurn());\n      // .where((g) => !g.isComplete() && g.isMyTurn())\n      // .toList();\n  const waiting = games.filter( (g) => !g.isComplete() && !g.isMyTurn());\n  \n  // var waiting = games\n  //     .where((g) => !g.isComplete() && !g.isMyTurn())\n  //     .toList();\n  // print(\"waiting: ${waiting.length}\");\n\n  /// Give a guess as to the state.\n  result.listStateCode =\n      myMoves.length +\n          (inviteToMe.length * 10) +\n          (myInvites.length * 100) +\n          (myOpenInvites.length * 1000) +\n          (waiting.length * 10000);\n\n\n    ///\n    ///\n    ///\n    /// Build the sections\n    ///\n    const dataList = new DataList();\n\n\n    let section = new ListSection({ title: \"Create Invitation\", showTotals: false} );\n    if (myInvites.length + myOpenInvites.length < 2 &&\n        runningGames == 0) {\n      // We want to put in a panel for opening an invitation\n      section = new ListSection({title: \"My Invitations\", showTotals: false});\n      section.addData(new InvitePanelPlaceHolder());\n      section.visible = false;\n    }\n    dataList.addSection(section);\n\n    section = new ListSection({title: \"Friend Invitations\", showTotals: false, \n        code: util.currentTheme.friendInviteSectionHeader.code} );\n    section.addAll(myFriendInvites);\n    dataList.addSection(section);\n\n    section = new ListSection({ title: \"My Turn\", showTotals: true,\n        code: util.currentTheme.myTurnSectionHeader.code } );\n    myMoves.sort((g1, g2) => {\n      return (g1.getNextMoveTimout() - g2.getNextMoveTimout());\n    });\n    section.addAll(myMoves);\n    dataList.addSection(section);\n\n    section = new ListSection({ title: \"Their Turn\", showTotals: true,\n        code: util.currentTheme.theirTurnSectionHeader.code });\n    waiting.sort((g1, g2) => {\n      return (g1.getNextMoveTimout() - g2.getNextMoveTimout());\n    });\n    section.addAll(waiting);\n    dataList.addSection(section);\n\n\n\n    section = new ListSection({title: \"My Invitations\", showTotals: false});\n    section.addAll(myInvites);\n    section.addAll(myOpenInvites);\n    dataList.addSection(section);\n\n    section =\n        new ListSection({title: \"Invitations to me\", showTotals: false});\n    section.addAll(inviteToMe);\n    dataList.addSection(section);\n\n    if (myOpenInvites.length == 0 && runningGames == 0) {\n      section = new ListSection({title: \"Select a game\", showTotals: false, showRefresh: true});\n      // Need to use code.. this is in isolate and doesnt know the dark state\n      section.code = util.currentTheme.selectAGameSectionHeader.code;\n      section.addAll(openInvites);\n      if (openInvites.length == 0) {\n        section.addData(new NoOpenInvitationsPlaceHolder());\n      }\n      dataList.addSection(section);\n    }\n\n\n    result.datalist = dataList;\n    result.newsSize = prophelper.getInt(resp.getData(), \"news\" );\n    result.avgRating = prophelper.getInt(resp.getData(), \"avgRating\" );\n    result.friendCacheCode = prophelper.getString(resp.getData(), \"friendCacheCode\" );\n    result.favCacheCode = prophelper.getString(resp.getData(), \"favCacheCode\" );\n    result.adConfigCacheCode = prophelper.getString(resp.getData(), \"adscc\" );\n    result.chatHeaders = chatHeaders;\n    result.hasOpenInvites = myOpenInvites.length > 0;\n    result.myCC = prophelper.getString(resp.getData(), \"me.cc\");\n    result.myName = prophelper.getString(resp.getData(), \"me.name\");\n    result.myTotalPlayed = prophelper.getInt(resp.getData(), \"myTotalPlayed\" );\n    result.pluginVersionCode = prophelper.getInt(resp.getData(), \"pluginVersionCode\" );\n    result.ratings = myRatings;\n    result.serverPurchases = serverPurchaseDataItems;\n\n    console.log(prophelper.getProperty(resp.data, \"me\"));\n    return result;\n  }\n}\nexport default InviteGameListCompute;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  import RTListInvitesCall from '@/base/asyncCalls/RTListInvitesCall'\n  import InviteGameListCompute from '@/base/screens/workers/InviteGameListCompute'\n  import Vue from 'vue'\nimport pluginManager from '../managers/PluginManager';\n  export default Vue.extend( {\n    name: 'InviteGameList',\n    data: () => ({\n      rawResponse: \"waiting...\",\n    }),\n    mounted: async function() {\n      const call = new RTListInvitesCall(this);\n      const r = await call.callServer();\n      this.$data.rawResponse = r.rawData;\n\n      if (r.isOk()) {\n        const c = new InviteGameListCompute();\n        const cr = c.processResults(r);\n        console.log(\"Compute results:\", cr);\n        pluginManager.setServerPluginVersion(cr.pluginVersionCode);\n      }\n      \n    },\n    methods: {\n      go() {\n        this.rawResponse = \"\";\n      }\n    }\n  }\n  )\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InviteGameListPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InviteGameListPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InviteGameListPage.vue?vue&type=template&id=4955a8c5&\"\nimport script from \"./InviteGameListPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./InviteGameListPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\ninstallComponents(component, {VCard,VCardActions,VCardText,VCardTitle,VDivider,VForm})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mx-auto mt-5\",attrs:{\"width\":\"400\"}},[_c('v-card-title',[_c('h1',{staticClass:\"display-1\"},[_vm._v(\"Login\")])]),_c('v-card-text',[_c('v-form',[_c('v-text-field',{attrs:{\"label\":\"Username\",\"prepend-icon\":\"mdi-account-circle\"},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('v-text-field',{attrs:{\"label\":\"Password\",\"type\":_vm.showPassword ? 'text' : 'password',\"prepend-icon\":\"mdi-lock\",\"append-icon\":_vm.showPassword? 'mdi-eye' : 'mdi-eye-off'},on:{\"click:append\":function($event){_vm.showPassword = !_vm.showPassword}},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}})],1)],1),_c('v-divider'),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"success\"}},[_vm._v(\"Register\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"info\"},on:{\"click\":function($event){return _vm.performLogin()}}},[_vm._v(\"Login\")])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import AsyncCall from './AsyncCall';\nimport Client from '@/base/util/GameClient'\n\n\nclass MyProfileCall extends AsyncCall {\n\n    constructor(vue: Vue) {\n        super(vue);\n    }\n\n    async _doCall() {\n        const p = new Map<string,string>();\n        const r = await Client.doGet(\"/juser/profile\", p)\n        return r;\n    }\n\n\n}\n\nexport default MyProfileCall;\n","import AbstractManager from './AbstractManager';\n\n/***\n * \n * Handles caching and reloading of friend information\n * This is so we know the friend status at various locations \n * in the game.\n * \n */\nclass FriendManager extends AbstractManager {\n  \n  \n  _open(): void {\n    console.log(\"open\");\n  }\n\n  _close(): void {\n    console.log(\"close\");\n  }\n\n\n}\n\nconst fm = new FriendManager();\nexport default fm;\n\n","import AbstractManager from './AbstractManager';\n\n/***\n * \n * Handles caching and reloading of favorites.\n * This is so we know the favorite count at various locations \n * in the game, and can show in the menu items.\n * \n */\nclass FavoriteManager extends AbstractManager {\n  \n  \n  _open(): void {\n    console.log(\"open\");\n  }\n\n  _close(): void {\n    console.log(\"close\");\n  }\n\n\n}\n\nconst fm = new FavoriteManager();\nexport default fm;\n\n","import AbstractManager from './AbstractManager';\n\n/***\n * \n * Handles caching and reloading of news infroamtion.\n * \n */\nclass NewsManager extends AbstractManager {\n  \n  \n  _open(): void {\n    console.log(\"open\");\n  }\n\n  _close(): void {\n    console.log(\"close\");\n  }\n\n\n}\n\nconst fm = new NewsManager();\nexport default fm;\n\n","import AsyncCall from './AsyncCall';\nimport Client from '@/base/util/GameClient'\nimport state from '@/base/util/State';\nimport prophelper from '@/base/util/PropHelper';\nimport MyProfileCall from './RTMyProfileCall';\nimport FriendManager from '@/base/managers/FriendManager';\nimport FavoriteManager from '@/base/managers/FavoriteManager';\nimport NewsManager from '@/base/managers/NewsManager';\n\n\n/**\n * Example Result\n {\n  \"rcode\": 0,\n  \"rmessage\": \"\",\n  \"results\": {\n    \"tkn\": \"Y2NQsssDRBKSNpgIrsdsXjJjLWc2KjlkZ33AbEUDUFcdUg1WAFBaUgcHAVdLA19TVxQEAFBaHgwCV1dLV11ZBVHcDGLU\",\n    \"authServerToken\": \"4683232302C9C398D6EB0DA2348B0CC0627F5A805716855946.3156227006067328\",\n    \"ctId\": \"156\",\n    \"user\": {\n      \"uid\": \"156-04f9fbe3c06f49ff905b935a1bad12120\",\n      \"name\": \"gm\",\n      \"cc\": \"US\",\n      \"w\": 0,\n      \"l\": 0,\n      \"d\": 0\n    },\n    \"avgRating\": 1258\n  },\n  \"serverDate\": 1596637445693\n}\n */\nclass LoginCall extends AsyncCall {\n\n   name: string;\n   pwd: string;\n\n    constructor(vue: Vue, name: string, pwd: string) {\n        super(vue);\n        this.name = name;\n        this.pwd = pwd;\n    }\n\n    async _doCall() {\n        const p = new Map<string,string>();\n        p.set(\"name\", this.name);\n        p.set(\"pwd\", this.pwd);\n        // console.log(p);\n        const r = await Client.doPost(\"/jlogin/login\", p)\n        if (r.isOk()) {\n          const data = r.data;\n          state.setRTToken(prophelper.getString(data, \"tkn\"))\n          state.setCTToken( prophelper.getString(data, \"authServerToken\"));\n          state.setGlobalId( prophelper.getString(data, \"user.uid\"));\n          state.setCTId( prophelper.getString(data, \"ctId\"));\n\n          const pc = new MyProfileCall(this.vue);\n          const pcr = await pc.callServer();\n          // console.log(\"Profile\", pcr);\n          const pcrdata = pcr.data;\n          state.setAvgRating( prophelper.getNumber(pcrdata, \"avgRating\"));\n          state.setCC( prophelper.getString(data, \"countryCode\", \"US\"));\n          state.setPP( prophelper.getString(data, \"profilePicture\"));\n\n          // Now that we're logged in, open the managers.\n          FriendManager.open();\n          FavoriteManager.open();\n          NewsManager.open();\n\n        }\n        return r;\n    }\n\n}\n\nexport default LoginCall;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport LoginCall from '@/base/asyncCalls/LoginCall'\nimport util from '@/base/util/Util';\nimport Vue from 'vue'\nexport default Vue.extend( {\n  name: 'Login',\n  data: () => ({\n    showPassword: false,\n    username: \"\",\n    password: \"\"\n  }),\n  methods: {\n    performLogin: async function() {\n\n      const loginCall = new LoginCall(this as unknown as Vue, this.username, this.password);\n      const jr = await loginCall.callServer();\n\n      if (jr.isOk()) {\n        util.goto(this as unknown as Vue, \"/mainList\");\n      }\n\n    }\n  }\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoginPage.vue?vue&type=template&id=3d636e28&\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDivider,VForm,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"mx-auto mt-5\",attrs:{\"width\":\"400\"}},[_c('v-card-title',[_c('h1',{staticClass:\"display-1\"},[_vm._v(\"About\")])]),_c('v-card-text',[_c('v-form')],1),_c('v-divider'),_c('v-card-actions')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nexport default Vue.extend( {\n  name: 'Login',\n  data: () => ({\n    showPassword: false\n  }),\n})\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutPage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AboutPage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AboutPage.vue?vue&type=template&id=65fbfbc1&\"\nimport script from \"./AboutPage.vue?vue&type=script&lang=ts&\"\nexport * from \"./AboutPage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VForm } from 'vuetify/lib/components/VForm';\ninstallComponents(component, {VCard,VCardActions,VCardText,VCardTitle,VDivider,VForm})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-container',{staticClass:\"grey lighten-2\"},[_c('v-row',[_c('v-col',[_c('title-text',[_vm._v(_vm._s(_vm.game.playerName(_vm.controller.topPlayer)))]),_vm._v(\" (\"+_vm._s(_vm.game.playerRating(_vm.controller.topPlayer))+\") \"),_c('change-text',{attrs:{\"change\":_vm.game.playerRatingChange(_vm.controller.topPlayer)}}),_c(_vm.dynamicComponent,{tag:\"component\",attrs:{\"gameId\":_vm.getGameId()}}),_c('title-text',[_vm._v(_vm._s(_vm.game.playerName(_vm.controller.bottomPlayer)))]),_vm._v(\" \"+_vm._s(_vm.game.playerRating(_vm.controller.bottomPlayer))+\" \"),_c('change-text',{attrs:{\"change\":_vm.game.playerRatingChange(_vm.controller.bottomPlayer)}}),_c('br'),_vm._v(\" Game Over: \"+_vm._s(_vm.game.getGenericCompletestring())+\" \"),_c('br'),_c('v-row',{attrs:{\"no-gutters\":\"\"}},[_c('v-btn',{attrs:{\"color\":\"secondary\"},on:{\"click\":_vm.rotate}},[_vm._v(\"Flip\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"disabled\":!_vm.allowBack(),\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.goback()}}},[_vm._v(\"Prior\")]),_c('v-btn',{staticClass:\"leftpadding\",attrs:{\"disabled\":!_vm.allowForward(),\"color\":\"secondary\"},on:{\"click\":function($event){return _vm.goforward()}}},[_vm._v(\"Next\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import Vue from 'vue'\nimport EB, { EventData } from '@/base/util/EventBus'\nimport Component from 'vue-class-component'\n\n/***\n * For components that need to be undated by events, \n */\n@Component\nexport default class BaseEventListener extends Vue {\n\n  abstract = true\n  isCreated = false\n  eventNames = \"\"\n\n  created() {\n    if (this.isCreated) {\n      return;\n    }\n    // console.log(\"BaseEventListener Created!!!!\")\n    this.eventNames = this.getEventNames()\n    // console.log(\"Event names: \", e)\n    if (this.eventNames.length > 0) {\n      EB.listen(this.eventNames, this.onEvent)\n    }\n    this.isCreated = true\n  }\n\n  destroyed() {\n    if (this.eventNames.length > 0) {\n      EB.unlisten(this.eventNames, this.onEvent)\n    }\n  }\n\n  /**\n   * Comma sepated list of event names to listen to\n   */\n  getEventNames(){\n    return \"\"\n  }\n\n  onEvent(eventData: EventData ){\n    // console.log(\"Override this:\", eventData, this)\n    this.getEventNames();\n  }\n\n\n}\n\n\n","import GameController from './GameController'\n\n/***\n * Contains a map of current controllers by game\n */\nclass GameControllerRegistry {\n    map: Map<string, GameController> = new Map()\n\n    register(gc: GameController) {\n        this.map.set(gc.gameId, gc)\n    }\n\n    unregister(gc: GameController) {\n        this.map.delete(gc.gameId)\n    }\n\n    getController(gameId: string): GameController {\n        if (this.map.has(gameId)) {\n            return this.map.get(gameId)!\n        }\n        throw Error(\"GameController not registered!\")\n    }\n\n}\n\nconst registry = new GameControllerRegistry()\nexport default registry\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue' \nimport RTGuestViewGameCall from '@/base/asyncCalls/RTGuestViewGameCall'\nimport IGameDTO from '@/base/dto/IGameDTO'\nimport GameAbstract from '@/base/util/GameAbstract'\nimport util from '@/base/util/Util'\nimport GameController from '@/base/controllers/GameController'\nimport BaseEventListener from '@/base/components/BaseEventListener'\nimport EB, { EventData } from '../util/EventBus'\nimport GameControllerRegistry from '@/base/controllers/GameControllerRegistry'\n\n  // export default Vue.extend( {\n  export default BaseEventListener.extend({\n    name: 'ShowGamePage',\n    data() {\n      return {\n        id: \"\",\n        game: null as unknown as IGameDTO,\n        wname: \"\",\n        bname: \"\",\n        controller: {} as GameController,\n        eventListener: null as any\n      }\n    },\n    \n    created() {\n      this.game = GameAbstract.instance!.nullGame()\n      this.id = this.$route.params.id\n      this.controller = GameAbstract.instance!.getGameController(this.id)\n      GameControllerRegistry.register(this.controller)\n    },\n\n    beforeDestroy() {\n      GameControllerRegistry.unregister(this.controller)\n      window.removeEventListener(\"keydown\", this.eventListener!);\n    },\n\n    mounted() {\n      console.log(\"mounted called!!! in component\")\n      this.controller.reviewMode = true\n      this.controller.loadPublicView()\n      this.eventListener = this.handleKey.bind(this);\n      window.addEventListener(\"keydown\", this.eventListener!);\n    },\n\n    computed: {\n      dynamicComponent() {\n        return 'game-board'\n      }\n    },\n\n    methods: {\n      handleKey(e: KeyboardEvent) {\n        // console.log(\"e:\", e)\n        switch (e.keyCode) {\n          case 37:  // Left\n            // console.log(\"left\")\n            this.goback()\n            break;\n          case 39: // Right\n            // console.log(\"right\")\n            this.goforward()\n            break;\n\n        }\n      },\n      goback() {\n        if (this.allowBack()) {\n          this.controller.goBackPosition()\n        }\n      },\n      goforward() {\n        if (this.allowForward()) {\n          this.controller.goForwardPosition()\n        }\n      },\n      allowBack(): boolean {\n        return this.controller.canGoBackPosition()\n      },\n      allowForward(): boolean {\n        return this.controller.canGoForwardPosition()\n      },\n      rotate() {\n        this.controller.flipBoard()\n      },\n\n      getGameId() {\n        return this.$route.params.id\n      },\n      getEventNames(){\n        return \"game.load.\"+ this.$route.params.id\n      },\n      onEvent(e: EventData) {\n        console.log(\"have event \", e.name, e.data)\n        this.$data.rawResponse = \"\";\n        this.$data.game = e.data\n        this.wname = this.$data.game.getWhiteName()\n        this.bname = this.$data.game.getBlackName()\n\n        // const cc = (this.controller as unknown as ChessGameController)\n        // cc.playChess()\n\n      }\n    }\n    \n  })\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicShowGamePage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PublicShowGamePage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PublicShowGamePage.vue?vue&type=template&id=324c429a&scoped=true&\"\nimport script from \"./PublicShowGamePage.vue?vue&type=script&lang=ts&\"\nexport * from \"./PublicShowGamePage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PublicShowGamePage.vue?vue&type=style&index=0&id=324c429a&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"324c429a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCol } from 'vuetify/lib/components/VGrid';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VRow } from 'vuetify/lib/components/VGrid';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCol,VContainer,VRow,VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{staticClass:\"htitle\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport Vue from 'vue' \n\n  // export default Vue.extend( {\n  export default Vue.extend({\n    name: 'title-text',\n  })\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleText.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TitleText.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TitleText.vue?vue&type=template&id=fb286be8&scoped=true&\"\nimport script from \"./TitleText.vue?vue&type=script&lang=ts&\"\nexport * from \"./TitleText.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TitleText.vue?vue&type=style&index=0&id=fb286be8&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fb286be8\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',{class:_vm.clazz()},[_vm._v(_vm._s(_vm.change))])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport Vue from 'vue' \n\n  // export default Vue.extend( {\n  export default Vue.extend({\n    name: 'title-text',\n    methods: {\n      clazz() {\n        if (this.change < 0) {\n          return \"title-lose\"\n        }\n        return \"title-win\"\n      }\n    },\n    props: {\n      change: Number\n    }\n  })\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultChange.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ResultChange.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ResultChange.vue?vue&type=template&id=19f5636c&scoped=true&\"\nimport script from \"./ResultChange.vue?vue&type=script&lang=ts&\"\nexport * from \"./ResultChange.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ResultChange.vue?vue&type=style&index=0&id=19f5636c&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"19f5636c\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue' \nimport TitleText from './TitleText.vue'\nimport ResultChange from './ResultChange.vue'\n\nclass RegisterWidgets {\n  static registerWidgets(): void {\n    Vue.component('title-text', TitleText)\n    Vue.component('change-text', ResultChange)\n\n  }\n}\n\nexport default RegisterWidgets\n","import Vue from 'vue'\nimport App from '@/base/App.vue'\nimport VueRouter from 'vue-router'\nimport vuetify from '@/base/plugins/vuetify';\nimport Toast from \"vue-toastification\";\n// Import the CSS or use your own!\nimport \"vue-toastification/dist/index.css\";\n\nimport InviteGameListPage from '@/base/screens/InviteGameListPage.vue'\nimport LoginPage from '@/base/screens/LoginPage.vue'\nimport AboutPage from '@/base/screens/AboutPage.vue'\nimport PublicShowGamePage from '@/base/screens/PublicShowGamePage.vue'\n\nimport util from '@/base/util/Util';\nimport GameAbstract from '@/base/util/GameAbstract';\nimport RegisterWidgets from './widgets/RegisterWidgets';\n\n\nclass BaseMain {\n\n  init(gameAbstract: GameAbstract) {\n\n  Vue.config.productionTip = false\n\n  Vue.use(VueRouter)\n\n  RegisterWidgets.registerWidgets()\n\n\n/**\n * This is needed to bootup the system.\n */\nGameAbstract.instance = (gameAbstract);\n\n    const toastOptions = {\n      // You can set your default options here\n    };\n    Vue.use(Toast, toastOptions);\n\n    const routes = [\n      { path: '/show/:id', \n        name: 'showgame',\n        component: PublicShowGamePage \n      },\n      { path: '/mainList', component: InviteGameListPage },\n      { path: '/about', component: AboutPage },\n      { path: '/login', component: LoginPage },\n      { path: '/', component: InviteGameListPage }\n    ]\n\n    const router = new VueRouter({\n      routes // short for `routes: routes`\n    })\n    router.beforeEach((to, from, next) => {\n      // console.log(\"Route:\", to, from, next);\n      next();\n    })\n\n\n    const vue = new Vue({\n      router,\n      vuetify,\n      render: h => h(App)\n    }).$mount('#app')\n\n    util.setVue(vue);\n\n  }\n\n\n}\n\nexport default BaseMain","/**\n *\n * \n/// Settings for the application.\n/// This is what differentiates\n/// Chess Time vs other applications\n///\n/// See subclass of this for application settings.\n/// ex: ChessTimeAppSettings\n///\n\n */\nabstract class ApplicationSettings {\n\n\n  abstract copyRight: string;\n\n  abstract name: string;\n\n  ///\n  /// The code that identifies this application.\n  /// Ex: We could have a graphical client and a regular mobile client for android.\n  ///\n  abstract clientProductCode: string;\n\n  ///\n  /// The server host\n  ///\n  abstract rtServerHost: string\n\n  ///\n  /// For the proxy, if null will use the server\n  ///\n  abstract rtProxyHost: string\n\n  ///\n  /// gameType - ct = chess time.\n  /// matches plugin type on server\n  ///\n  abstract gameType: string;\n\n  ///\n  /// random characters to xor with user password when saving\n  ///\n  abstract pwdKey: string;\n\n  // The version of the client in major.minor.patch\n  abstract clientVersion: string;\n\n  ///\n  /// Settings for the open invitation screen\n  ///\n  // IOpenInvitationDefaults get getOpenInviteDefaults;\n\n  ///\n  /// Settings for the open invitation screen\n  ///\n  // IDirectInvitationDefaults get getDirectInviteDefaults;\n\n  ///\n  /// debug the realtime http\n  ///\n  abstract debugRTHttp: boolean;\n\n  ///\n  /// debug the web sockets\n  ///\n  abstract debugRTWS: boolean;\n\n  ///\n  /// The default rating (one player starts with)\n  ///\n  abstract defaultRating: number;\n\n  ///\n  /// When open invite players like me .. how much padding to add around the players rating\n  ///\n  abstract rateRangePadding: number;\n\n\n  getBoardSettingPreferences(): [] {\n    return [];\n  }\n\n  // String getRTServerUrl() {\n  //   var rt = rtServerHost as String;\n  //   if (rt.contains(\"localhost\")) {\n  //     if (Platform.isAndroid) {\n  //       rt = rt.replaceFirst(\"localhost\", \"10.0.2.2\");\n  //       //print(\"New url:$rt\");\n  //     }\n  //   }\n  //   return \"http://${rt}\";\n  // }\n\n  // String getRTAuthServerUrl() {\n  //   var rtProtocol = rtAuthProtocol as String;\n  //   var rt = rtServerHost as String;\n  //   if (rt.contains(\"localhost\")) {\n  //     if (Platform.isAndroid) {\n  //       rt = rt.replaceFirst(\"localhost\", \"10.0.2.2\");\n  //       //print(\"New url:$rt\");\n  //     }\n  //     // Localhost doesnt do https\n  //     rtProtocol = \"http\";\n  //   }\n  //   //return rt;\n  //   return \"${rtProtocol}://${rt}\";\n  // }\n\n  // String getRTWebSocket() {\n  //   var rt = rtServerHost as String;\n  //   if (rtProxyHost != null) {\n  //     rt = rtProxyHost;\n  //   }\n  //   if (rt.contains(\"localhost\")) {\n  //     if (Platform.isAndroid) {\n  //       rt = rt.replaceFirst(\"localhost\", \"10.0.2.2\");\n  //       //print(\"New url:$rt\");\n  //     }\n  //   }\n  //   return \"ws://${rt}\";\n  // }\n\n \n\n  // To be overridden\n  // AdvertisingData getAdmobAndroidAdvertisingData();\n  // AdvertisingData getAdmobIOSAdvertisingData();\n\n  // AdvertisingData getSmaatoAndroidAdvertisingData();\n  // AdvertisingData getSmaatoIOSAdvertisingData();\n\n\n\n}\n\nexport default ApplicationSettings;\n","import ApplicationSettings from '@/base/util/ApplicationSettings';\n\n/**\n *\n * \n/// Settings for the application.\n/// This is what differentiates\n/// Chess Time vs other applications\n///\n/// See subclass of this for application settings.\n/// ex: ChessTimeAppSettings\n///\n\n */\nclass ChessApplicationSettings extends ApplicationSettings {\n\n\n  copyRight = \"(c) 2020 Haptic Apps, LLC\";\n\n  name = \"Chess Time Live\"\n\n  ///\n  /// The code that identifies this application.\n  /// Ex: We could have a graphical client and a regular mobile client for android.\n  ///\n  clientProductCode = \"hachess_web\";\n\n  ///\n  /// The server host\n  ///\n  rtServerHost = \"https://play.hapticapps.live\"\n\n  ///\n  /// For the proxy, if null will use the server\n  ///\n  rtProxyHost = \"play.hapticapps.live\"\n\n  ///\n  /// gameType - ct = chess time.\n  /// matches plugin type on server\n  ///\n  gameType = \"ct\";\n\n  ///\n  /// random characters to xor with user password when saving\n  ///\n  pwdKey = \"e]7RaV3rZ5<gCFNc\";\n\n  // The version of the client in major.minor.patch\n  clientVersion = \"1.0.0\";\n\n  ///\n  /// Settings for the open invitation screen\n  ///\n  // IOpenInvitationDefaults get getOpenInviteDefaults;\n\n  ///\n  /// Settings for the open invitation screen\n  ///\n  // IDirectInvitationDefaults get getDirectInviteDefaults;\n\n  ///\n  /// debug the realtime http\n  ///\n  debugRTHttp = true;\n\n  ///\n  /// debug the web sockets\n  ///\n  debugRTWS = true;\n\n  ///\n  /// The default rating (one player starts with)\n  ///\n  defaultRating = 1200;\n\n  ///\n  /// When open invite players like me .. how much padding to add around the players rating\n  ///\n  rateRangePadding = 75;\n\n\n  getBoardSettingPreferences(): [] {\n    return [];\n  }\n\n  // String getRTServerUrl() {\n  //   var rt = rtServerHost as String;\n  //   if (rt.contains(\"localhost\")) {\n  //     if (Platform.isAndroid) {\n  //       rt = rt.replaceFirst(\"localhost\", \"10.0.2.2\");\n  //       //print(\"New url:$rt\");\n  //     }\n  //   }\n  //   return \"http://${rt}\";\n  // }\n\n  // String getRTAuthServerUrl() {\n  //   var rtProtocol = rtAuthProtocol as String;\n  //   var rt = rtServerHost as String;\n  //   if (rt.contains(\"localhost\")) {\n  //     if (Platform.isAndroid) {\n  //       rt = rt.replaceFirst(\"localhost\", \"10.0.2.2\");\n  //       //print(\"New url:$rt\");\n  //     }\n  //     // Localhost doesnt do https\n  //     rtProtocol = \"http\";\n  //   }\n  //   //return rt;\n  //   return \"${rtProtocol}://${rt}\";\n  // }\n\n  // String getRTWebSocket() {\n  //   var rt = rtServerHost as String;\n  //   if (rtProxyHost != null) {\n  //     rt = rtProxyHost;\n  //   }\n  //   if (rt.contains(\"localhost\")) {\n  //     if (Platform.isAndroid) {\n  //       rt = rt.replaceFirst(\"localhost\", \"10.0.2.2\");\n  //       //print(\"New url:$rt\");\n  //     }\n  //   }\n  //   return \"ws://${rt}\";\n  // }\n\n \n\n  // To be overridden\n  // AdvertisingData getAdmobAndroidAdvertisingData();\n  // AdvertisingData getAdmobIOSAdvertisingData();\n\n  // AdvertisingData getSmaatoAndroidAdvertisingData();\n  // AdvertisingData getSmaatoIOSAdvertisingData();\n\n\n\n}\n\nconst settings = new ChessApplicationSettings();\nexport default settings;","import pluginManager from '@/base/managers/PluginManager';\n\nclass RatingNames {\n\n  ///\n  /// Returns the text name of the rating\n  ///\n  static getNameFor(rating: number): string {\n    const pd = pluginManager.getData();\n    if (pd == null) {\n      return \"??$rating\";\n    }\n    return pd.getRatingFor(rating)!.title;\n  }\n\n}\n\nexport default RatingNames;","import RTDTO from \"./RTDTO\";\nimport prophelper from '@/base/util/PropHelper';\nimport RatingNames from '@/base/util/ui/RatingNames';\nimport state from '@/base/util/State';\nimport pluginManager from '@/base/managers/PluginManager';\nimport util from '@/base/util/Util';\n\n\nabstract class IGameDTO extends RTDTO {\n\n  raw: Map<string, object> = new Map()\n\n  // Its either a ct id or a rt id.\n  // string id;\n  nullGame = false\n\n  forcedWinColor = \"\";\n\n   gameResult = \"\";\n   // gameState = \"\";\n   reason = \"\";\n\n   mutedByBlack = false;\n   mutedByWhite = false;\n\n   starredByBlack = false;\n   starredByWhite = false;\n\n\n   drawReasonStr = \"\";\n\n  createDate = new Date();\n\n  lastMove = new Date();\n\n\n  inCheck = false;\n  capture = false;  // not set by chess time code\n  _canCancel = false;\n\n  secPerMove = 0;\n\n\n  blackResultRating = 0;\n   whiteResultRating = 0;\n   blackResultRatingChange = 0;\n   whiteResultRatingChange = 0;\n\n   gameAttributes = \"\";\n\n   restartAble = false;\n\n  /// does not have details.\n   headerOnly = true;\n   currentActionRequest = \"\";\n   availableActionRequestCodes = \"\";\n   versionCode = \"\";\n   threeFold = false;\n   isFriend = false;\n\n   canNudge = false;\n   pendingOfferUID = \"\";\n\n  /**\n   * Both\n   */\n   numMessages = 0;\n   moveCount = 0;\n   turn = 0; // 0 or 1\n   nextMoveTimout = 0;\n\n   whiteId = \"\";\n   whiteName = \"\";\n   whiteRating = 0;\n   whiteRatingName = \"\";\n   whiteCountryCode = \"\";\n\n   blackId = \"\";\n   blackName = \"\";\n   blackRating = 0;\n   blackRatingName = \"\";\n   blackCountryCode = \"\";\n\n  /**\n   * RT data\n   */\n   gameType = \"\";\n   server = \"\";   // The server that owns the game\n   rtStatus = \"\"; // Paused , running, complete ..\n   rtSeq = -1;\n   rated = false;\n   rtWinner = \"\";\n   rtTimePP = \"\";\n   rtWinReason = \"\";\n   rtVariation = \"\";\n   remainTimeMS: number[] = [];\n   rtOffer = \"\";\n   rtOfferById = \"\";\n   rtOfferStatus = \"\";\n   blackProfilePicture = \"\";\n   whiteProfilePicture = \"\";\n\n\n\n  ///\n  /// Constructor\n  ///\n  constructor() {\n    super();\n  }\n\n  abstract copy(): IGameDTO ;\n\n  ///\n  /// parse the data and create a game object\n  abstract processGameData(gameData: string): void;\n\n\n  ///\n  /// returns my rating\n  ///\n  abstract getMyRating(): number;\n\n  ///\n  /// Load the data from the map\n  load(o: Map<string, object>): void {\n    this.raw = o;\n\n    this.id = prophelper.getProperty(o, \"gid\");\n    if (this.id == null) {\n      this.id = prophelper.getProperty(o, \"id\");\n    }\n\n    this.rtVariation = prophelper.getString(o, \"gv\", \"\");\n    this.server = prophelper.getString(o, \"sv\");\n    this.gameType = prophelper.getString(o, \"gameType\");\n    this.numMessages = prophelper.getNumber(o, \"gl.numChat\"); //NON-NLS\n    this.rtStatus = prophelper.getString(o, \"gl.status\");\n\n    this.rtOffer = prophelper.getString(o, \"gl.offer\");\n    this.rtOfferById = prophelper.getString(o, \"gl.offer_by_Id\");\n    this.rtOfferStatus = prophelper.getString(o, \"gl.offer_status\");\n\n    this.rtSeq = prophelper.getNumber(o, \"gl.seq\");\n    this.moveCount  = prophelper.getNumber(o, \"gb.numMoves\");\n    this.remainTimeMS = prophelper.getPropertyList(o, \"gb.remainTimeMS\") as unknown as number[];\n\n    // Basically the same thing moveStart == lastMove\n    this.lastMove = new Date(prophelper.getNumber(o, \"gb.moveStart\")); //NON-NLS\n\n    this._canCancel = prophelper.getBool(o, \"cc\");\n\n    this.turn = prophelper.getNumber(o, \"gb.whosMove\");\n    //prnumber(\"turn from game: $turn\");\n    this.rated = prophelper.getBool(o, \"g.settings.rated\");\n    this.rtTimePP = prophelper.getString(o, \"g.settings.timepp\"); //NON-NLS\n\n    this.setNextMoveTimout(prophelper.getNumber(o, \"gb.moveTimeout\", 0)); //NON-NLS\n\n    this.whiteName = prophelper.getString(o, \"g.pdata.[0].name\"); //NON-NLS\n    this.whiteId = prophelper.getString(o, \"g.pdata.[0].uid\"); //NON-NLS\n    this.whiteRating = prophelper.getNumber(o, \"g.pdata.[0].rating\"); //NON-NLS\n    this.whiteRatingName = RatingNames.getNameFor(this.whiteRating);\n    this.whiteCountryCode = prophelper.getString(o, \"g.pdata.[0].cc\"); //NON-NLS\n\n    this.blackName = prophelper.getString(o, \"g.pdata.[1].name\"); //NON-NLS\n    this.blackId = prophelper.getString(o, \"g.pdata.[1].uid\"); //NON-NLS\n    this.blackRating = prophelper.getNumber(o, \"g.pdata.[1].rating\"); //NON-NLS\n    this.blackRatingName = RatingNames.getNameFor(this.blackRating);\n    this.blackCountryCode = prophelper.getString(o, \"g.pdata.[1].cc\"); //NON-NLS\n\n    this.blackResultRatingChange = prophelper.getNumber(o, \"gr.rateChange.[1]\", 0); //NON-NLS\n    this.whiteResultRatingChange = prophelper.getNumber(o, \"gr.rateChange.[0]\", 0); //NON-NLS\n\n    this.blackResultRating = this.blackRating + this.blackResultRatingChange;\n    this.whiteResultRating = this.whiteRating + this.whiteResultRatingChange;\n\n    //prnumber(\"$whiteResultRating GR: ${prophelper.getProperty(o, \"gr\")}\");\n    //gameState = prophelper.getString(o, \"gameState\"); //NON-NLS\n    this.rtWinReason = prophelper.getString(o, \"gr.winReason\"); //NON-NLS\n    this.gameResult = prophelper.getString(o, \"gr.gameResult\"); //NON-NLS\n    this.drawReasonStr = prophelper.getString(o, \"gr.drawReason\"); //NON-NLS\n    this.rtWinner = prophelper.getString(o, \"gr.winner\"); //NON-NLS\n\n    const ups = prophelper.getProperty(o, \"up\");\n    if (ups!=null) {\n      for (const up in ups) {\n        const id = prophelper.getProperty(up, \"uid\");\n        const profilePic = prophelper.getProperty(up, \"profilePic\");\n        if (this.whiteId == id) {\n          this.whiteProfilePicture = profilePic;\n        } else {\n          this.blackProfilePicture = profilePic;\n        }\n       // prnumber(\"Set pp  $profilePic\");\n      }\n    }\n\n    //debugPrnumber(\"White Name $whiteName   id: $whiteId\");\n    //debugPrnumber(\"Black Name $blackName   id: $blackId\");\n\n    this.processRTAttributes(o);\n    this.headerOnly = true;\n    const gameData = prophelper.getString(o, \"gb.serialized\"); //NON-NLS\n    if (gameData.length > 1) {\n      this.headerOnly = false;\n      this.processGameData(gameData);\n    }\n  }\n\n  ///\n  /// RT only\n  ///\n  isPaused() {\n    return this.rtStatus == \"PAUSED\";\n  }\n\n\n  isRunning() {\n    // return this.gameState == (\"INPROGRESS\") || this.rtStatus == \"RUNNING\"; //NON-NLS\n    return this.rtStatus == \"RUNNING\"; //NON-NLS\n  }\n\n\n  isComplete() {\n    // return this.gameState == (\"COMPLETE\") || this.rtStatus == \"COMPLETE\"; //NON-NLS\n    return this.rtStatus == \"COMPLETE\"; //NON-NLS\n  }\n\n  setMoveCount(moveCount: number) {\n    this.moveCount = moveCount;\n  }\n\n  setNextMoveTimout(nextMoveTimout: number): void {\n    this.nextMoveTimout = nextMoveTimout;\n  }\n\n  setWhiteRatingName(whiteRatingName: string) {\n    this.whiteRatingName = whiteRatingName;\n  }\n\n//  string getWhiteRatingName() {\n//    return whiteRatingName;\n//  }\n\n  setBlackRatingName( blackRatingName: string) {\n    this.blackRatingName = blackRatingName;\n  }\n\n//  void setWhiteId(number myId) {\n//    whiteId = myId;\n//  }\n\n//\n//   * True if this is my turn\n//   *\n//   * @return\n//\n  isMyTurn() {\n    //prnumber(\"turn $turn\");\n    if (this.turn == 0) {\n      //prnumber(\"$id: check turn: $whiteId vs my id: ${state.globalId}\");\n      return state.isThisMe(this.whiteId);\n    } else {\n      //prnumber(\"$id: check turn: $blackId vs my id: ${state.globalId}\");\n      return state.isThisMe(this.blackId);\n    }\n  }\n\n  amIPlaying() {\n    return state.isThisMe(this.blackId) || state.isThisMe(this.whiteId);\n  }\n\n  ///\n  /// 0=white\n  /// 1=black\n  ///\n  getMySide() {\n    return state.isThisMe(this.whiteId) ? 0 : 1;\n  }\n\n  isTurnFor(playerId: string) {\n    return this.turn == this.getPlayerNumber(playerId);\n  }\n\n  getPlayerNumber(playerId: string) {\n    if (this.whiteId == playerId) {\n      return 0;\n    }\n    return 1;\n  }\n\n  getOpponentName() {\n    if (state.isThisMe(this.whiteId)) {\n      return this.blackName;\n    } else {\n      return this.whiteName;\n    }\n  }\n\n  getMyName() {\n    if (state.isThisMe(this.whiteId)) {\n      return this.whiteName;\n    } else {\n      return this.blackName;\n    }\n  }\n\n  getOpponentProfilePicture() {\n    if (state.isThisMe(this.whiteId)) {\n      return this.blackProfilePicture;\n    } else {\n      return this.whiteProfilePicture;\n    }\n  }\n\n\n  getWhiteProfilePicture() {\n    return this.whiteProfilePicture;\n  }\n\n\n  getBlackProfilePicture() {\n    return this.blackProfilePicture;\n  }\n\n  getProfilePictureFor(playerId: string) {\n    if (this.whiteId == playerId) {\n      return this.whiteProfilePicture;\n    }\n    if (this.blackId == playerId) {\n      return this.blackProfilePicture;\n    }\n    return \"\";\n\n  }\n\n  getCountryCodeFor(playerId: string) {\n    if (this.whiteId == playerId) {\n      return this.whiteCountryCode;\n    }\n    if (this.blackId == playerId) {\n      return this.blackCountryCode;\n    }\n    return \"\";\n  }\n\n\n\n  getPlayerProfilePicture() {\n    if (state.isThisMe(this.whiteId)) {\n      return this.whiteProfilePicture;\n    } else {\n      return this.blackProfilePicture;\n    }\n  }\n\n\n  getMyId() {\n    return state.state.globalId;\n  }\n\n\n  getOpponentId() {\n    if (state.isThisMe(this.whiteId)) {\n      return this.blackId;\n    } else {\n      return this.whiteId;\n    }\n  }\n\n  getOpponentRating() {\n    let rating = 0;\n    if (this.isComplete() && this.isRated()) {\n      if (state.isThisMe(this.whiteId)) {\n        rating = this.blackResultRating;\n      } else {\n        rating = this.whiteResultRating;\n      }\n      if (rating > 0) {\n        return rating;\n      }\n    }\n\n    if (state.isThisMe(this.whiteId)) {\n      return this.blackRating;\n    } else {\n      return this.whiteRating;\n    }\n  }\n\n  getOpponentRatingName() {\n    const rName = RatingNames.getNameFor(this.getOpponentRating());\n    return rName;\n  }\n\n  getWhiteRatingName() {\n    const rName = RatingNames.getNameFor(this.getWhiteResultRating());\n    return rName;\n  }\n\n  getBlackRatingName() {\n    const rName = RatingNames.getNameFor(this.getBlackResultRating());\n    return rName;\n  }\n\n  getProfileRating() {\n    let rating = 0;\n    if (this.isComplete() && this.isRated()) {\n      if (state.isThisMe(this.whiteId)) {\n        rating = this.whiteResultRating;\n      } else {\n        rating = this.blackResultRating;\n      }\n      if (rating > 0) {\n        return rating;\n      }\n    }\n    if (state.isThisMe(this.whiteId)) {\n      return this.whiteRating;\n    } else {\n      return this.blackRating;\n    }\n  }\n\n   getProfileRatingName() {\n    const rProfileName = RatingNames.getNameFor(this.getProfileRating());\n    return rProfileName;\n  }\n\n\n  getTurnstring() {\n    if (this.isMyTurn()) {\n      return \"My Turn\";\n    } else {\n      return \"Waiting...\";\n    }\n  }\n\n  isInCheck() {\n    return this.inCheck;\n  }\n\n  isCapture() {\n    return this.capture;\n  }\n\n\n\n  getNumMessages() {\n    return this.numMessages;\n  }\n\n  getPendingOfferUID() {\n    return this.pendingOfferUID;\n  }\n\n  getMoveCount() {\n    return this.moveCount;\n  }\n\n\n  // R=N = no, else rated\n  isRated() {\n    return this.rated;\n  }\n\n  // \"gameAttributes\":\"A=N\"\n  isAllowAnalyzer() {\n    return false;\n  }\n\n  setMutedByBlack(mutedByBlack: boolean) {\n    this.mutedByBlack = mutedByBlack;\n  }\n\n  isMutedByBlack() {\n    return this.mutedByBlack;\n  }\n\n  setMutedByWhite(mutedByWhite: boolean) {\n    this.mutedByWhite = mutedByWhite;\n  }\n\n  isMutedByWhite() {\n    return this.mutedByWhite;\n  }\n\n  isMuted() {\n    return false;\n  }\n\n  isMutedByMe() {\n    if (state.isThisMe(this.whiteId)) {\n      return this.mutedByWhite;\n    }\n    return this.mutedByBlack;\n  }\n\n  isStarredByMe() {\n    if (state.isThisMe(this.whiteId)) {\n      return this.starredByWhite;\n    }\n    return this.starredByBlack;\n  }\n\n  ///\n  /// Returns 0 for RT games\n  ///\n  getSecPerMove() {\n    return this.secPerMove;\n  }\n\n  setSecPerMove(secPerMove: number) {\n    this.secPerMove = secPerMove;\n  }\n\n  getNextMoveTimeOutAsDate() {\n    // Note: This should not be adjusted... it is an absolute date.\n    // return ServerTimeAdjuster.getAdjustedServerDate( nextMoveTimout );\n    return new Date(this.nextMoveTimout);\n  }\n\n  getNextMoveTimout() {\n    return this.nextMoveTimout;\n  }\n\n  setBlackResultRating(blackResultRating: number) {\n    this.blackResultRating = blackResultRating;\n  }\n\n  getBlackResultRating() {\n    return this.blackResultRating;\n  }\n\n  setWhiteResultRating(whiteResultRating: number) {\n    this.whiteResultRating = whiteResultRating;\n  }\n\n  getWhiteResultRating() {\n    return this.whiteResultRating;\n  }\n\n  setBlackResultRatingChange(blackResultRatingChange: number) {\n    this.blackResultRatingChange = blackResultRatingChange;\n  }\n\n  getBlackResultRatingChange() {\n    return this.blackResultRatingChange;\n  }\n\n  setWhiteResultRatingChange(whiteResultRatingChange: number) {\n    this.whiteResultRatingChange = whiteResultRatingChange;\n  }\n\n  getWhiteResultRatingChange() {\n    return this.whiteResultRatingChange;\n  }\n\n  getWhiteName() {\n    return this.whiteName;\n  }\n\n  getBlackName() {\n    return this.blackName;\n  }\n\n  setDrawReasonStr(drawReasonStr: string) {\n    this.drawReasonStr = drawReasonStr;\n  }\n\n  getDrawReasonStr() {\n    return this.drawReasonStr;\n  }\n\n  getOpponentCountryCode() {\n    if (state.isThisMe(this.whiteId)) {\n      return this.blackCountryCode;\n    } else {\n      return this.whiteCountryCode;\n    }\n  }\n\n   getWhiteCountryCode() {\n    return this.whiteCountryCode;\n  }\n\n   getBlackCountryCode() {\n    return this.blackCountryCode;\n  }\n\n   getMyOpponentCountryCode() {\n    if (state.isThisMe(this.blackId)) {\n      return this.blackCountryCode;\n    } else {\n      return this.whiteCountryCode;\n    }\n  }\n\n   getCreateDate() {\n    return this.createDate;\n  }\n\n   isRestartAble() {\n    return this.restartAble;\n  }\n\n   isActionRequestPending() {\n    if (this.currentActionRequest == null) {\n      return false;\n    }\n    return this.currentActionRequest.length > 0;\n  }\n\n   getActionRequestCode() {\n    const sects = this.currentActionRequest.split(\":\"); // ,2);\n    return sects[0];\n  }\n\n   getActionRequestMessage() {\n    const sects = this.currentActionRequest.split(\":\"); // ,2);\n\n    if (sects.length > 2) {\n      throw Error(\n              `Error in $currentActionRequest, expected to siplit numbero 2, found: ${sects.length}`);\n    }\n\n    return sects[1];\n  }\n\n   getAvailableActions(): string[] {\n    if (this.availableActionRequestCodes == null) {\n      return [];\n    }\n    return this.availableActionRequestCodes.split(\",\");\n  }\n\n  isSameCountry() {\n    if (this.blackCountryCode == null || this.whiteCountryCode == null) {\n      return false;\n    }\n    return this.blackCountryCode.toLowerCase() == (this.whiteCountryCode.toLowerCase());\n  }\n\n  isCanNudge() {\n    return this.canNudge;\n  }\n\n//  /**\n//   * A temp override for the list page until reloads\n//   * @param canNudge\n//   */\n  setCanNudge(canNudge: boolean) {\n    this.canNudge = canNudge;\n  }\n\n   isThreeFold() {\n    return this.threeFold;\n  }\n\n   isDraw() {\n    return this.gameResult == \"DRAW\";\n  }\n\n   isCancelled() {\n    return this.gameResult == \"CANCELLED\";\n  }\n\n  youLost() {\n    if ( this.isCancelled() ) {\n      return false;\n    }\n\n    if (this.isDraw()) {\n      return false;\n    }\n\n    return !this.youWon();\n  }\n\n\n   opponentLost() {\n    if ( this.isCancelled() ) {\n      return false;\n    }\n\n    if (this.isDraw()) {\n      return false;\n    }\n\n    // If I won, the opponent lost\n    return this.youWon();\n  }\n\n  opponentWon() {\n    if ( this.isCancelled() ) {\n      return false;\n    }\n    // If I lost, the opponent won\n    if (this.isDraw()) {\n      return false;\n    }\n    return !this.youWon();\n  }\n\n  didIWin(){\n    return this.youWon();\n  }\n\n  winnerId(){\n    // See below for supporting CT\n    return this.rtWinner;\n  }\n\n  youWon() {\n\n    if (this.forcedWinColor != null) {\n      if (this.forcedWinColor == (\"WHITE\")) {\n        //NON-NLS\n        return (state.isThisMe(this.whiteId));\n        // return whiteId == myId;\n      }\n      return (state.isThisMe(this.blackId));\n      // return blackId == myId;\n    }\n\n    if (this.isCancelled()) {\n      //NON-NLS\n      return false;\n    }\n\n    return (state.isThisMe(this.rtWinner));\n\n  }\n\n  getCompletestringShort(): string | null {\n    if ( !this.isComplete() ) {\n      return null;\n    }\n    if (this.isDraw()) {\n      return \"DRAW\";\n    }\n\n    if ( this.isCancelled() ) {\n      if (this.forcedWinColor != null) {\n        if (this.youWon()) {\n          return \"Timeout, you won\";\n        } else {\n          return \"Timeout, you lost\";\n        }\n      }\n      return \"Cancelled\";\n    }\n\n    if ( this.youWon() ){\n      return \"WON\";\n    } else {\n      return \"LOST\";\n    }\n\n  }\n\n  /**\n   * For watchers\n   */\n  getGenericCompletestring() {\n    const r = \"?\";\n\n      if (this.gameResult == \"DRAW\") {\n        if (this.drawReasonStr == \"PLAYER\") {\n          return \"Player Draw\";\n        }\n        if (this.drawReasonStr == \"THREEFOLD\") {\n          return \"Threefold repetition\";\n        }\n        if (this.drawReasonStr == \"FIFTYMOVE\") {\n          return \"50 Move rule\";\n        }\n        if (this.drawReasonStr == \"MATERIAL\") {\n          return \"Insufficient Material\";\n        }\n        return \"Draw $drawReasonStr\";\n      }\n\n      if (this.gameResult == \"CANCELLED\") {\n        return \"Cancelled\";\n      }\n\n      if (this.rtWinReason == \"MATE\") {\n        return \"Checkmate!\";\n      }\n\n      if (this.rtWinReason == \"RESIGN\") {\n        //NON-NLS\n        return \"Player resigned\";\n      }\n\n      if (this.rtWinReason == \"TIMEOUT\") {\n        return \"Timeout\";\n      }\n\n      if (this.rtWinReason == \"RESIGN\") {\n        return \"Player resigned\";\n      }\n\n      return \"$gameResult, $rtWinReason\";\n\n    \n\n    return r;\n  }\n\n  getCompletestring() {\n    /*\n\t\t * public enum State { PENDING, INPROGRESS, COMPLETE }\n\t\t *\n\t\t * public enum Outcome { NOTDETERMINED, WHITEWIN, BLACKWIN, DRAW,\n\t\t * CANCELLED }\n\t\t *\n\t\t * public enum Reason { MATE, DRAW, RESIGN, CANCELLED }\n\t\t *\n\t\t * public enum DrawReason { PLAYERS, THREEFOLD, MATERIAL, STALEMATE,\n\t\t * FIFTYMOVE }\n\t\t */\n    // let r = \"?\";\n\n    \n//      rtWinReason = prophelper.getString(o, \"gr.winReason\"); //NON-NLS\n//      gameResult = prophelper.getString(o, \"gr.gameResult\"); //NON-NLS\n//      drawReasonStr = prophelper.getString(o, \"gr.drawReason\"); //NON-NLS\n//      rtWinner = prophelper.getString(o, \"gr.winner\"); //NON-NLS\n\n      if (this.gameResult == \"DRAW\") {\n        if (this.drawReasonStr == \"STALEMATE\") {\n          return \"Stalemate\";\n        }\n        if (this.drawReasonStr == \"PLAYER\") {\n          return \"Player Draw\";\n        }\n        if (this.drawReasonStr == \"THREEFOLD\") {\n          return \"Threefold repetition\";\n        }\n        if (this.drawReasonStr == \"FIFTYMOVE\") {\n          return \"50 Move rule\";\n        }\n        if (this.drawReasonStr == \"MATERIAL\") {\n          return \"Insufficient Material\";\n        }\n        return \"Draw $drawReasonStr\";\n      }\n\n      if (this.gameResult == \"CANCELLED\") {\n        return \"Cancelled\";\n      }\n\n      if (this.rtWinReason == \"MATE\") {\n        if (this.youWon()) {\n          return \"You won! Checkmate!\";\n        } else {\n          return \"You lost! Checkmate\";\n        }\n      }\n\n      // if (this.rtWinReason == \"RESIGN\") {\n      //   //NON-NLS\n      //   if (this.youWon()) {\n      //     r = \"Opponent resigned\";\n      //     // r = prophelper.getContext().getString(R.string.won_opp_resigned);\n      //   } else {\n      //     r = \"You resigned\";\n      //     //r = prophelper.getContext().getString(R.string.lost_resigned);\n      //   }\n      // }\n\n      if (this.rtWinReason == \"TIMEOUT\") {\n        if (this.youWon()) {\n          return \"You won!, Timeout\";\n        } else {\n          return \"You lost!, Timeout\";\n        }\n      }\n\n\n      if (this.rtWinReason == \"RESIGN\") {\n        if (this.youWon()) {\n          return \"You won!, Resigned\";\n        } else {\n          return \"You lost!, Resigned\";\n        }\n      }\n\n      //      rtWinReason = prophelper.getString(o, \"gr.winReason\"); //NON-NLS\n//      gameResult = prophelper.getString(o, \"gr.gameResult\"); //NON-NLS\n//      drawReasonStr = prophelper.getString(o, \"gr.drawReason\"); //NON-NLS\n//      rtWinner = prophelper.getString(o, \"gr.winner\"); //NON-NLS\n\n      return \"$gameResult, $rtWinReason\";\n\n    \n    //====\n\n  }\n\n  getLastMoveDate() {\n    return this.lastMove;\n  }\n\n\n   rtStatusMessage() {\n    if (this.isPaused()) {\n      return \"Waiting for players\";\n    }\n    return \"\";\n  }\n\n   getServer() {\n    return this.server;\n  }\n\n   getVariationText() {\n    return pluginManager.getVariationName(this.rtVariation);\n  }\n\n  getTimeGroup() {\n    const r =  pluginManager.getDSValue(\"timepp\", this.rtTimePP)?.gameGroup ?? \"unknown\";\n    // prnumber(\"rtTimePP: ${rtTimePP} ---> $r\");\n    return r;\n  }\n\n  getGroupNameText() {\n    return pluginManager.getGroupNameForTimePP(this.rtTimePP);\n  }\n\n  ///\n  /// Subclass needs to implement.\n  /// This is called after the common attributes are set.\n  ///\n  abstract processRTAttributes(data: Map<string, object>): void;\n\n  timeRemainingFor(playerId: string) {\n    return this.remainTimeMS[this.getPlayerNumber(playerId)];\n  }\n\n   whosTurnId() {\n    if (this.turn == 0) {\n      return this.whiteId;\n    }\n    return this.blackId;\n  }\n\n  isRTOffer() {\n    return this.rtOffer != null;\n  }\n\n  isRTOfferPending() {\n    return this.isRTOffer() && this.rtOfferStatus == \"PENDING\";\n  }\n\n  isMyRTOffer() {\n    return this.isRTOffer() &&\n      state.isThisMe(this.rtOfferById);\n  }\n\n  isRTOfferDeclined() {\n    return this.isRTOffer() && this.rtOfferStatus == \"DECLINE\";\n  }\n\n  getRatingChangeFor(playerId: string) {\n    if ( this.whiteId == playerId) {\n      return this.whiteResultRatingChange;\n    } else {\n      return this.blackResultRatingChange;\n    }\n  }\n\n  getRatingChangeForStr(playerId: string) {\n    const r = this.getRatingChangeFor(playerId);\n    if (r == 0) {\n      return \"0\";\n    }\n    if (r > 0) {\n      return \"+$r\";\n    } else {\n      return \"$r\";\n    }\n  }\n\n  getChatRoomId() {\n    // The g. defines this as a game chat room. This is important as the\n    // room id is   g.{game id}\n    return \"g.${id}\";\n  }\n\n  getVariation() {\n    return pluginManager.getVariationFor(this.rtVariation);\n  }\n\n   getMyRatingChange() {\n    return this.getRatingChangeFor(state.state.globalId);\n  }\n\n  getMoveTimeDisplay() {\n    return  pluginManager.getData()!.getDataSource(\"realtimeTPP\")!.findEntry(this.rtTimePP)!.entryTitleReduced;\n  }\n\n  getMoveTime() {\n    const pd = pluginManager.getData()!;\n    return pd\n        .getDataSource(\"realtimeTPP\")!\n        .findEntry(this.rtTimePP);\n  }\n\n  ///\n  /// Subsclass decides if review is available\n  ///\n  abstract isReviewable(): boolean;\n\n  abstract calcHistoricPositions(): IGameDTO[];\n\n  getRatedstring() {\n    return util.getRatingLongString(this.rated);\n\n  }\n\n   getWhiteUID() {\n    return this.whiteId;\n  }\n\n   getBlackUID() {\n    return this.blackId;\n  }\n\n  getNameFor(uid: string) {\n    if (this.whiteId == uid) {\n      return this.whiteName;\n    }\n    if (this.blackId == uid) {\n      return this.blackName;\n    }\n    return \"?\";\n  }\n\n  getRatingFor(uid: string) {\n    if (this.whiteId == uid) {\n      return this.whiteRating;\n    }\n    if (this.blackId == uid) {\n      return this.blackRating;\n    }\n    return 1200;\n  }\n\n  canCancel() {\n    return this._canCancel && this.moveCount < 2;\n  }\n\n  copyFieldsTo(r: IGameDTO ) {\n    r.forcedWinColor = this.forcedWinColor;\n\n    r.gameResult = this.gameResult;\n    // r.gameState = this.gameState;\n    r.reason = this.reason;\n    r.drawReasonStr = this.drawReasonStr;\n\n    r.createDate = this.createDate;\n\n    r.lastMove = this.lastMove;\n\n    r.inCheck = this.inCheck;\n    r.capture = this.capture;  // not set by chess time code\n    r._canCancel = this._canCancel;\n\n    r.secPerMove = this.secPerMove;\n\n    r.blackResultRating = this.blackResultRating;\n    r.whiteResultRating = this.whiteResultRating;\n    r.blackResultRatingChange = this.blackResultRatingChange;\n    r.whiteResultRatingChange = this.whiteResultRatingChange;\n\n    r.gameAttributes = this.gameAttributes;\n\n    r.restartAble = this.restartAble;\n\n    /// does not have details.\n    r.headerOnly = this.headerOnly;\n    r.currentActionRequest = this.currentActionRequest;\n    r.availableActionRequestCodes = this.availableActionRequestCodes;\n    r.versionCode = this.versionCode;\n    r.threeFold = this.threeFold;\n    r.isFriend = this.isFriend;\n\n    r.canNudge = this.canNudge;\n    r.pendingOfferUID = this.pendingOfferUID;\n\n    /**\n     * Both\n     */\n    r.numMessages = this.numMessages;\n    r.moveCount = this.moveCount;\n    r.turn = this.turn; // 0 or 1\n    r.nextMoveTimout = this.nextMoveTimout;\n\n    r.whiteId = this.whiteId;\n    r.whiteName = this.whiteName;\n    r.whiteRating = this.whiteRating;\n    r.whiteRatingName = this.whiteRatingName;\n    r.whiteCountryCode = this.whiteCountryCode;\n\n    r.blackId= this.blackId;\n    r.blackName= this.blackName;\n    r.blackRating= this.blackRating;\n    r.blackRatingName = this.blackRatingName;\n    r.blackCountryCode= this.blackCountryCode;\n\n    /**\n     * RT data\n     */\n    r.gameType = this.gameType;\n    r.server = this.server;   // The server that owns the game\n    r.rtStatus = this.rtStatus; // Paused , running, complete ..\n    r.rtSeq = this.rtSeq;\n    r.rated = this.rated;\n    r.rtWinner = this.rtWinner;\n    r.rtTimePP = this.rtTimePP;\n    r.rtWinReason= this.rtWinReason;\n    r.rtVariation= this.rtVariation;\n    r.remainTimeMS= this.remainTimeMS;\n    r.rtOffer= this.rtOffer;\n    r.rtOfferById=this.rtOfferById;\n    r.rtOfferStatus=this.rtOfferStatus;\n    r.blackProfilePicture=this.blackProfilePicture;\n    r.whiteProfilePicture=this.whiteProfilePicture;\n\n  }\n\n\n  canShowOpening() {\n    return false;\n  }\n\n  openOpeningScreen() {\n    return null;\n  }\n\n  getOpeningName() {\n    return \"\";\n  }\n\n  getDtoMoveDetails(): string[] {\n    return [];\n  }\n\n  ///\n  /// A long running game is >= 30 minutes\n  isLongRunning() {\n    return (this.getMoveTime()?.cmpValue  ?? 0) > 2999;\n  }\n\n  canShare() {\n    return false;\n  }\n\n  shareGame(): void {\n    return;\n  }\n\n\n  isComputerGame() {\n    return false;\n  }\n\n  ///\n  /// To be subclassed and return a new version of the game where the player\n  /// resigns.\n  resignComputerGame(): IGameDTO | null {\n    return null;\n  }\n\n  playerName(pnum: number): string {\n    switch (pnum) {\n      case 0:\n        return this.whiteName\n      default:\n        return this.blackName\n    }\n    \n  }\n\n\n  playerRating(pnum: number): number {\n    switch (pnum) {\n      case 0:\n        return this.whiteRating\n      default:\n        return this.blackRating\n    }\n    \n  }\n\n  \n  playerRatingChange(pnum: number): number {\n    switch (pnum) {\n      case 0:\n        return this.whiteResultRatingChange\n      default:\n        return this.blackResultRatingChange\n    }   \n  }\n\n  setNullGame() {\n    this.nullGame = true;\n  }\n\n}\n\n\nexport default IGameDTO;\n","class RankFileConverter {\n\n  static LETTERS = \"ABCDEFGH\"; //NON-NLS\n\n  static fileFromChar( letter: string) {\n    letter = letter.toUpperCase();\n    const idx = RankFileConverter.LETTERS.indexOf(letter);\n    return idx;\n  }\n\n  static  fileToChar(file: number) {\n    return RankFileConverter.LETTERS.substring(file, file + 1);\n  }\n\n  // convert to strings line A4s\n  static  toRankFileString(rank: number, file: number) {\n    // return fileToChar(file) + ( rank + 1 );\n    return this.fileToChar(file) + (8 - rank).toString();\n  }\n\n  // C5 returns 2    (A=0, B=1 ... )\n  static fileFromRankFileString(rfString: string) {\n    return this.fileFromChar(rfString.substring(0, 1));\n  }\n\n  // C5 returns 4    ( 5 but 0 based )\n  static rankFromRankFileString(rfString: string) {\n    const rank = parseInt(rfString.substring(1));\n    return rank - 1;\n  }\n}\n\nexport default RankFileConverter;","import RankFileConverter from \"./RankFileConverter\";\n\n\nclass Square {\n  static sA6 = Square.at(\"a6\");\n\n  static  sE2 = Square.at(\"e2\");\n\n  static  sA2 = Square.at(\"a2\");\n  static  sA1 = Square.at(\"a1\");\n  static  sF1 = Square.at(\"f1\");\n\n  static  sE8 = Square.at(\"e8\");\n  static  sG8 = Square.at(\"g8\");\n  static  sC8 = Square.at(\"c8\");\n\n  static  sE1 = Square.at(\"e1\");\n  static  sG1 = Square.at(\"g1\");\n  static  sC1 = Square.at(\"c1\");\n\n  static  sH8 = Square.at(\"h8\");\n  static  sH1 = Square.at(\"h1\");\n\n  static  sF8 = Square.at(\"f8\");\n  static  sA8 = Square.at(\"a8\");\n  static  sB8 = Square.at(\"b8\");\n\n  static  sB1 = Square.at(\"b1\");\n  static  sD1 = Square.at(\"d1\");\n  static  sD8 = Square.at(\"d8\");\n\n  static  blocks: Square[] = [];\n\n  static  mapSquare: Map<string, Square> = new Map();\n\n  static rfSq: Square[][] = [][0];\n\n\n\n  constructor(rank: number, file: number) {\n    this.rank = rank;\n    this.file = file;\n    this.rfString = RankFileConverter.toRankFileString(rank, file) \n\n  }\n\n    /*\n\t\t * Note that rank flips.. .so A8 = rank 0,   A1 = rank 7\n\t\t * Rank file converter takes care of this.\n\t\t */\n    // print(\"Square created: $rank  $file = $rfString\");\n\n\n\n  static init() {\n    if (Square.rfSq != null && Square.rfSq.length > 0) {\n      return;\n    }\n    Square.rfSq = [];\n    Square.blocks = [];\n    Square.mapSquare = new Map();\n\n    for (let r = 0; r <= 7; r++) {\n      Square.rfSq.push([]);\n      for (let f = 0; f <= 7; f++) {\n        const sq = new Square(r, f);\n        Square.rfSq[r].push(sq);\n        Square.blocks.push(sq);\n        Square.mapSquare.set(sq.asRFString().toUpperCase(), sq);\n        Square.mapSquare.set(sq.asRFString().toLowerCase(), sq);\n      }\n    }\n    //print(\"All squares list: $rfSq\");\n    //print(\"All squares map : $mapSquare\");\n  }\n\n  rank = -1;\n  file = -1;\n  rfString = \"\";\n\n\n\n  static at(rfString: string) {\n    // print(\"SQ: $rfString\");\n    Square.init();\n    return this.mapSquare.get(rfString)!;\n  }\n\n  asRFString() {\n    return this.rfString;\n  }\n\n  getRankAdjusted() {\n    return 8 - this.rank;\n  }\n\n  static getSquareFromCode(sSquare: string): Square {\n    for (const s of this.blocks) {\n      if (s.rfString == (sSquare)) {\n        return s;\n      }\n    }\n    throw Error(\"Unknown square:\" + sSquare);\n  }\n\n  getRank() {\n    return this.rank;\n  }\n\n  getFile() {\n    return this.file;\n  }\n\n  static  values(): Square[] {\n    return this.blocks;\n  }\n\n  equal(o2: Square) {\n    return o2.file == this.file && o2.rank == this.rank;\n  }\n\n \n}\n\n\nexport default Square;","class PieceColor {\n  static BLACK = new PieceColor(0);\n  static WHITE = new PieceColor(1);\n\n  val = 0;\n\n  constructor(val: number) {\n    this.val = val;\n  }\n\n  not() {\n    if (this == PieceColor.BLACK) {\n      return PieceColor.WHITE;\n    } else {\n      return PieceColor.BLACK;\n    }\n  }\n\n  code() {\n    if (this == PieceColor.BLACK) {\n      return \"B\";\n    } else {\n      return \"W\";\n    }\n  }\n}\n\nexport default PieceColor;\n","import PieceColor from \"./PieceColor\";\n\nexport enum Type { PAWN, KNIGHT, BISHOP, ROOK, QUEEN, KING }\n\nclass Piece {\n  code = \"\";\n  color = PieceColor.BLACK;\n  type = Type.BISHOP;\n  weight = 0;\n  pvalue = 0;\n\n\n  static  WHITE_PAWN = new Piece(PieceColor.WHITE, Type.PAWN, \"WP\", 1, 1);\n  static  BLACK_PAWN = new Piece(PieceColor.BLACK, Type.PAWN, \"BP\", 1, 1);\n  static  BLACK_KNIGHT = new Piece(PieceColor.BLACK, Type.KNIGHT, \"BN\", 10, 3);\n  static  WHITE_KNIGHT = new Piece(PieceColor.WHITE, Type.KNIGHT, \"WN\", 10, 3);\n  static  BLACK_BISHOP = new Piece(PieceColor.BLACK, Type.BISHOP, \"BB\", 20, 3);\n  static  WHITE_BISHOP = new Piece(PieceColor.WHITE, Type.BISHOP, \"WB\", 20, 3);\n  static  BLACK_ROOK = new Piece(PieceColor.BLACK, Type.ROOK, \"BR\", 30, 5);\n  static  WHITE_ROOK = new Piece(PieceColor.WHITE, Type.ROOK, \"WR\", 30, 5);\n  static  BLACK_QUEEN = new Piece(PieceColor.BLACK, Type.QUEEN, \"BQ\", 40, 10);\n  static  WHITE_QUEEN = new Piece(PieceColor.WHITE, Type.QUEEN, \"WQ\", 40, 10);\n  static  BLACK_KING = new Piece(PieceColor.BLACK, Type.KING, \"BK\", 50, 99);\n  static  WHITE_KING = new Piece(PieceColor.WHITE, Type.KING, \"WK\", 50, 99); //NON-NLS\n\n  static  values: Map<string, Piece> = new Map();\n\n  constructor(color: PieceColor, type: Type, code: string, weight: number, pvalue: number ) {\n    this.color = color;\n    this.type = type;\n    this.code = code;\n    this.weight = weight;\n    this.pvalue = pvalue;\n  }\n\n  static _setValue(p: Piece) {\n\n    // Make suer we have a single instance that never changes for == will work\n    if (!this.values.has(p.code)) {\n      this.values.set(p.code, p);\n    }\n    \n  }\n\n  static init() {\n    Piece._setValue(Piece.WHITE_PAWN);\n    Piece._setValue(Piece.BLACK_PAWN);\n    Piece._setValue(Piece.BLACK_KNIGHT);\n    Piece._setValue(Piece.WHITE_KNIGHT);\n    Piece._setValue(Piece.BLACK_BISHOP);\n    Piece._setValue(Piece.WHITE_BISHOP);\n    Piece._setValue(Piece.BLACK_ROOK);\n    Piece._setValue(Piece.WHITE_ROOK);\n    Piece._setValue(Piece.BLACK_QUEEN);\n    Piece._setValue(Piece.WHITE_QUEEN);\n    Piece._setValue(Piece.BLACK_KING);\n    Piece._setValue(Piece.WHITE_KING);\n  }\n\n  static typeToString(type: Type) {\n    switch (type) {\n      case Type.PAWN:\n        return \"P\";\n      case Type.KNIGHT:\n        return \"N\";\n      case Type.BISHOP:\n        return \"B\";\n      case Type.ROOK:\n        return \"R\";\n      case Type.QUEEN:\n        return \"Q\";\n      case Type.KING:\n        return \"K\";\n    }\n    // This should not happen as all type are accounted.\n    throw Error( `Unknown type: ${type}`);\n  }\n\n  static getPieceFromCode(code: string) {\n    if (code.length == 0) {\n      return null;\n    }\n\n    // console.log(\"Val:\",this.values);\n\n    const p = this.values.get(code);\n    if (p == null) {\n      throw Error(\"Cant find piece with code: \" + code);\n    }\n    return p;\n  }\n\n  getPieceType() {\n    return this.type;\n  }\n\n  static getPiece( type: Type, color: PieceColor) {\n    const code = `${color.code()}${this.typeToString(type)}`;\n    return this.getPieceFromCode(code);\n  }\n\n  static getColor( piece: Piece) {\n    return piece == null ? null : piece.color;\n  }\n\n  isPawn() {\n    return this.type == Type.PAWN;\n  }\n\n  isKing() {\n    return this.type == Type.KING;\n  }\n\n\n  toImageBasename() {\n    switch (this.type) {\n      case Type.PAWN:\n        return \"Pawn\";\n      case Type.KNIGHT:\n        return \"Knight\";\n      case Type.BISHOP:\n        return \"Bishop\";\n      case Type.ROOK:\n        return \"Rook\";\n      case Type.QUEEN:\n        return \"Queen\";\n      case Type.KING:\n        return \"King\";\n    }\n    // This should not happen as all type are accounted.\n    throw Error(`Unknown type: ${this.type}`);\n  }\n\n\n  toColorCharacter() {\n    if (this.color == PieceColor.WHITE) {\n      return \"W\";\n    } else {\n      return \"B\";\n    }\n  }\n  \n  toImageName(dirCode: string) {\n    return `${dirCode}/${dirCode}${this.toColorCharacter()}${this.toImageBasename()}.png`\n  }\n\n\n}\n\n\nexport default Piece;","import Square from \"./Square\";\nimport Piece from './Piece';\n\n\nclass PieceSquare {\n  piece: Piece = Piece.BLACK_BISHOP;\n  square: Square = Square.sA1;\n\n  constructor(p: Piece,  s: Square) {\n    this.piece = p;\n    this.square = s;\n  }\n\n  getPiece() {\n    return this.piece;\n  }\n\n  getSquare() {\n    return this.square;\n  }\n\n  equal(o2: PieceSquare) {\n    return o2.piece == this.piece && o2.square.equal(this.square);\n  }\n\n}\n\nexport default PieceSquare;","import Square from \"./Square\";\nimport Piece, { Type } from './Piece';\n\nclass Move {\n  fromSquare: Square = Square.sA1;\n  toSquare: Square = Square.sA1;\n  promotePiece: Piece | null = null;\n  enPass = false;\n  capturePiece: Piece | null = null;\n  _isCheck = false;\n  _isMate = false;\n  movePiece = Piece.BLACK_BISHOP;\n\n\n  getPromotePiece() {\n    return this.promotePiece;\n  }\n\n  setPromotePiece( promotePiece: Piece | null): void {\n    this.promotePiece = promotePiece;\n  }\n\n  isEnPass() {\n    return this.enPass;\n  }\n\n  setEnPass( enPass: boolean): void {\n    this.enPass = enPass;\n  }\n\n  getCapturePiece() {\n    return this.capturePiece;\n  }\n\n  setCapturePiece(capturePiece: Piece | null): void {\n    this.capturePiece = capturePiece;\n  }\n\n  isCheck() {\n    return this._isCheck;\n  }\n\n  setCheck( isCheck: boolean): void {\n    this._isCheck = isCheck;\n  }\n\n  isMate() {\n    return this._isMate;\n  }\n\n   setMate(isMate: boolean): void {\n    this._isMate = isMate;\n  }\n\n   getMovePiece() {\n    return this.movePiece;\n  }\n\n  setMovePiece( movePiece: Piece) {\n    this.movePiece = movePiece;\n  }\n\n\n  constructor(fS: Square,  tS: Square) {\n    this.setFromSquare(fS);\n    this.setToSquare(tS);\n  }\n\n  setFromSquare( fromSquare: Square): void {\n    this.fromSquare = fromSquare;\n  }\n\n  getFromSquare() {\n    return this.fromSquare;\n  }\n\n  setToSquare( toSquare: Square): void {\n    this.toSquare = toSquare;\n  }\n\n  getToSquare() {\n    return this.toSquare;\n  }\n\n\n  descString() {\n    let sep = \"-\";\n    if (this.capturePiece != null) {\n      sep = \"x\";\n    }\n\n    if (this.movePiece != null) {\n      if (this.movePiece.type == Type.KING) {\n        if (this.fromSquare.equal(Square.sE8) && this.toSquare.equal( Square.sG8)) {\n          return \"O-O\"; //NON-NLS\n        }\n        if (this.fromSquare.equal(Square.sE8) && this.toSquare.equal(Square.sC8)) {\n          return \"O-O-O\"; //NON-NLS\n        }\n        if (this.fromSquare.equal(Square.sE1) && this.toSquare .equal(Square.sG1)) {\n          return \"O-O\"; //NON-NLS\n        }\n        if (this.fromSquare.equal(Square.sE1) && this.toSquare.equal(Square.sC1)) {\n          return \"O-O-O\"; //NON-NLS\n        }\n      }\n    }\n    const basic = this.fromSquare.asRFString() + sep + this.toSquare.asRFString();\n    return basic.toLowerCase();\n  }\n\n  isTrueCapture(): boolean {\n    if (this.getCapturePiece() != null) {\n      return this.getMovePiece().color != this.getCapturePiece()!.color;\n    }\n    return false;\n  }\n\n  sameAs( move: Move ) {\n    return this.fromSquare.equal(move.fromSquare) &&\n      this.toSquare.equal(move.toSquare) &&\n      this.promotePiece == move.promotePiece;\n  }\n}\n\nexport default Move;","\nimport IGameDTO from '@/base/dto/IGameDTO';\nimport PieceSquare from './support/PieceSquare';\nimport Move from './support/Move';\nimport Square from './support/Square';\nimport Piece from './support/Piece';\nimport util from '@/base/util/Util';\nimport PieceColor from './support/PieceColor';\nimport state from '@/base/util/State';\nimport prophelper from '@/base/util/PropHelper';\n\n\nclass CHGameDTO extends IGameDTO {\n\n  constructor() {\n    super();\n  }\n\n  newInstance() {\n    return new CHGameDTO();\n  }\n\n  \n  copy(): IGameDTO {\n    const r = this.newInstance();\n//    debugPrint(\"Copy from>: $raw\");\n    if (this.raw == null || this.raw.size == 0) {\n      this._localCopyTo(r);\n    } else {\n      r.load(this.raw);\n    }\n    this.copyExtension(r);\n    return r;\n  }\n\n  _localCopyTo(r: CHGameDTO ) {\n    r.id = this.id;\n    r.whiteName = this.whiteName;\n    r.opening = this.opening;\n    r.ecoCode = this.ecoCode;\n    r.opening = this.opening;\n    this.copyFieldsTo(r);\n  }\n\n  \n  copyFieldsTo(r: IGameDTO): void {\n    super.copyFieldsTo(r);\n    const rG: CHGameDTO = r as unknown as CHGameDTO;\n    rG.moves = this.moves;\n    rG.convertMovesToPGNMoves();\n  }\n\n  boardPieces: PieceSquare[] = [];\n  legMoves: Move[] = [];\n  moves: Move[] = [];\n  opening: string | null = null;   // This is the opening name.\n  ecoCode = \"\"; // : C24\n  pgnmoves: string[] = [];\n  threefoldable = false;\n\n  isInCheck() {\n    if (this.moves.length == 0) {\n      return false;\n    }\n    const m = this.moves[this.moves.length-1];\n    return m.isCheck();\n  }\n\n  isCapture() {\n    if (this.moves.length == 0) {\n      return false;\n    }\n    const m = this.moves[this.moves.length-1];\n\n    return m.isTrueCapture();\n\n    // return m.capturePiece != null;\n  }\n\n  processGameData(gameData: string): void {\n\n    console.log(\"Game data:\", gameData)\n\n    for (const tk of gameData.split(\"\\n\")) {\n//      print(\"Game token: \" + tk);\n//      print(\"Game token:$tk\");\n\n      this._processTopLevel(tk);\n    }\n  }\n\n\n  _processTopLevel(tk: string): void {\n//    print(\"TK: ${tk}\");\n    const idx = tk.indexOf(\":\");\n    const code = tk.substring(0, idx);\n    const data = tk.substring(idx + 1);\n    //Util.log(\"Code: \" + code);\n     //Util.log(\"Data: \" + data);\n    if (\"Board\" == (code)) {\n      //NON-NLS\n      this._buildBoard(data);\n      return;\n    }\n    if (\"MoveCount\" == (code)) {\n      //NON-NLS\n      this.setMoveCount(parseInt(data));\n      return;\n    }\n    if (\"LegMove\" == (code)) {\n      //NON-NLS\n      this._buildLMoves(data);\n      return;\n    }\n\n    if (\"Moves\" == (code)) {\n      //NON-NLS\n      this._buildMoves(data);\n      return;\n    }\n  }\n\n\n//  /**\n//   * E7-E5--F--F-F-BP,G1-F3--F--F-F-WN,D8-F6--F--F-F-BQ,\n//   * B1-C3--F--F-F-WN,G8\n//   * -E7--F--F-F-BN,F1-C4--F--F-F-WB,C7-C6--F--F-F-BP,D2-D3--\n//   * F--F-F-WP,B7-B5--F\n//   * --F-F-BP,C4-B3--F--F-F-WB,D7-D6--F--F-F-BP,C1-G5--F--F-F\n//   * -WB,F6-G6--F--F-F-\n//   * BQ,D3-D4--F--F-F-WP,B8-D7--F--F-F-BN,E1-G1--F--F-F-WK,B5\n//   * -B4--F--F-F-BP,C3-\n//   * E2--F--F-F-WN,G6-E4--F-WP-F-F-BQ,E2-G3--F--F-F-WN,E4-G6--\n//   * F--F-F-BQ,C2-C3--F--F-F-WP,B4-C3--F-WP-F-F-BP\n//   * @param data\n//   */\n  _buildMoves(data: string): void {\n    this.moves = [];\n\n    //print(\"Moves:$data\");\n\n    for (const mv of data.split(\",\")) {\n      if (mv.length > 0) {\n        const m = this._buildMove(mv);\n        this.moves.push(m);\n      }\n    }\n    //Util.log(\"Moves ---> \" + moves);\n\n    this.convertMovesToPGNMoves();\n  }\n\n  // createPGNString(): string {\n  //   // print(\"convertMovesToPGNMoves\");\n  //   if (rtVariation == \"960\") {\n  //     return \"not supported for 960\";\n  //   }\n\n  //   var gc = GChess();\n  //   for (var m in moves ) {\n  //     // print(\"Move: $m\");\n  //     var v = true;\n  //     if (m.getPromotePiece() != null ) {\n  //       v = gc.move({\n  //         'from': m.getFromSquare().asRFString().toLowerCase(),\n  //         'to': m.getToSquare().asRFString().toLowerCase(),\n  //         'promotion': Piece.typeToString(m.getPromotePiece().type).toLowerCase()\n  //       });\n  //     } else {\n  //       v = gc.move({\n  //         'from': m.getFromSquare().asRFString().toLowerCase(),\n  //         'to': m.getToSquare().asRFString().toLowerCase()\n  //       });\n  //     }\n  //     if (!v) {\n  //       print(\"Move failed $m\");\n  //     }\n  //   }\n\n  //   gc.header[\"Site\"] = \"Chess Time Live\";\n  //   gc.header[\"White\"] = getWhiteName();\n  //   gc.header[\"WRating\"] = getWhiteResultRating();\n  //   gc.header[\"Black\"] = getBlackName();\n  //   gc.header[\"BRating\"] = getBlackResultRating();\n\n  //   gc.header[\"BChanged\"] = getBlackResultRatingChange();\n  //   gc.header[\"WChanged\"] = getWhiteResultRatingChange();\n\n  //   if (isDraw()) {\n  //     gc.header[\"Result\"] = \"1/2-1/2\";\n  //   } else {\n  //     if (rtWinner == whiteId) {\n  //       gc.header[\"Result\"] = \"1-0\";\n  //     }\n  //     if (rtWinner == blackId) {\n  //       gc.header[\"Result\"] = \"0-1\";\n  //     }\n  //   }\n  //   if (hasOpening() ) {\n  //     gc.header[\"Opening\"] = getOpeningName();\n  //   }\n\n  //   gc.header[\"Date\"] = \"${getLastMoveDate().year}.${Util.leftPad(getLastMoveDate().month.toString(), 2, \"0\")}.${Util.leftPad(getLastMoveDate().day.toString(), 2, \"0\")}\";\n\n  //   return gc.pgn({\"max_width\": 5});\n  // }\n\n  convertMovesToPGNMoves(): void {\n    // TODO\n  }\n  // void convertMovesToPGNMoves() {\n  //   // print(\"convertMovesToPGNMoves\");\n  //   if (rtVariation == \"960\") {\n  //     return;\n  //   }\n\n  //   var gc = GChess();\n  //   for (var m in moves ) {\n  //     // print(\"Move: $m\");\n  //     var v = true;\n  //     if (m.getPromotePiece() != null ) {\n  //       v = gc.move({\n  //         'from': m.getFromSquare().asRFString().toLowerCase(),\n  //         'to': m.getToSquare().asRFString().toLowerCase(),\n  //         'promotion': Piece.typeToString(m.getPromotePiece().type).toLowerCase()\n  //       });\n  //     } else {\n  //       v = gc.move({\n  //         'from': m.getFromSquare().asRFString().toLowerCase(),\n  //         'to': m.getToSquare().asRFString().toLowerCase()\n  //       });\n  //     }\n  //     if (!v) {\n  //       print(\"Move failed $m\");\n\n  //     }\n  //   }\n\n  //   pgnmoves = [];\n  //   for (var m in gc.getHistory()) {\n  //     //print(\"san: ${m}\");\n  //     pgnmoves.add(m);\n  //   }\n  //   // debugPrint(gc.pgn());\n\n  // }\n\n  /*\n\t * E7-   E5-     -         F        -      -F    -F     -BP\n\t * from, to, promote, enPassant, capPiece check   mate  movePiece\n\t */\n   _buildMove( mv: string): Move {\n    const dta = util.splitString(mv, '-');\n    const fS = Square.getSquareFromCode(dta[0]);\n    const tS = Square.getSquareFromCode(dta[1]);\n    const promoteP = Piece.getPieceFromCode(dta[2]);\n    const enPass = util.getBooleanTF(dta[3]);\n    const  capP = Piece.getPieceFromCode(dta[4]);\n    const bCheck = util.getBooleanTF(dta[5]);\n    const bMate = util.getBooleanTF(dta[6]);\n    const moveP = Piece.getPieceFromCode(dta[7]);\n\n    const m = new Move(fS, tS);\n    m.setPromotePiece(promoteP);\n    m.setEnPass(enPass);\n    m.setCapturePiece(capP);\n    m.setCheck(bCheck);\n    m.setMate(bMate);\n    m.setMovePiece(moveP!);\n    return m;\n  }\n\n  /*\n\t * egMove:G5-E7,G5-F6,G5-H6,G5-F4,G5-H4,G5-E3,G5-D2\n\t * ,G5-C1,D4-D5,D4-E5,B3-F7,\n\t * B3-E6,B3-D5,B3-A4,B3-C4,B3-C2,F3-E5,F3-H4,F3-D2,F3\n\t * -E1,G3-F5,G3-H5,G3-E4,G3\n\t * -E2,G3-H1,A2-A4,A2-A3,B2-C3,H2-H4,H2-H3,A1-B1,A1-C1\n\t * ,D1-D3,D1-C2,D1-D2,D1-E2,D1-B1,D1-C1,D1-E1,F1-E1,G1-H1\n\t */\n  _buildLMoves(data: string): void {\n    this.legMoves = [];\n\n    if (this.isComplete()) return;\n\n    for (const pcSq of data.split(\",\")) {\n      const idx = pcSq.indexOf(\"-\");\n      const sSquareF = pcSq.substring(0, idx);\n      const sSquareT = pcSq.substring(idx + 1);\n\n      const fS = Square.getSquareFromCode(sSquareF);\n      const tS = Square.getSquareFromCode(sSquareT);\n\n      const m = new Move(fS, tS);\n      this.legMoves.push(m);\n    }\n\n    // print(\"Legal moves: $legMoves\");\n    //Util.log(\"LM ---> \" + legMoves);\n  }\n\n\n  _buildBoard(data: string): void {\n    this.boardPieces = CHGameDTO.buildBoard(data);\n  }\n\n//  /**\n//   * Note that an invlid square \"null\" for example will result in  a PieceSquare with null for a sq.\n//   * This fits the need of the analyzer\n//   * @param data\n//   * @return\n//   */\n  static buildBoard( data: string): PieceSquare[] {\n    const boardPieces: PieceSquare[] = [];\n\n    for (const pcSq of data.split(\",\")) {\n      const idx = pcSq.indexOf(\"=\");\n      const sSquare = pcSq.substring(0, idx);\n      const sPiece = pcSq.substring(idx + 1);\n      // Util.log( sPiece );\n      // Util.log( sSquare );\n      const p = Piece.getPieceFromCode(sPiece)!;\n      const s = Square.getSquareFromCode(sSquare)!;\n      const pieceSquare = new PieceSquare(p, s);\n      boardPieces.push(pieceSquare);\n    }\n    return boardPieces;\n  }\n\n  getMyColor(): PieceColor {\n    if (state.isThisMe(this.whiteId)) {\n      return PieceColor.WHITE;\n    } else {\n      return PieceColor.BLACK;\n    }\n  }\n\n  setBoardPieces(boardPieces: PieceSquare[]): void {\n    this.boardPieces = boardPieces;\n  }\n\n  getBoardPieces() {\n    return this.boardPieces;\n  }\n\n  setLegMoves(legMoves: Move[]): void {\n    this.legMoves = legMoves;\n  }\n\n  getLegMoves() {\n    return this.legMoves;\n  }\n\n  setMoves(moves: Move[]): void {\n    this.moves = moves;\n  }\n\n  getMoves() {\n    return this.moves;\n  }\n\n  getLegMovesForStartSq( sq: Square): Move[] {\n    const rMoves: Move[] = [];\n    for (const m of this.legMoves) {\n      if (m.getFromSquare() == (sq)) {\n        rMoves.push(m);\n      }\n    }\n    return rMoves;\n  }\n\n  getPieceSquareAt(sq: Square): PieceSquare | null {\n    for (const ps of this.boardPieces) {\n      if (ps.getSquare() == (sq)) {\n        return ps;\n      }\n    }\n    return null;\n  }\n\n  getLastMove() {\n    if (this.moves == null || this.moves.length == 0) return null;\n    return this.moves[this.moves.length - 1];\n  }\n\n  getMoveAt(overrideMove: number) {\n    if (this.moves == null || this.moves.length == 0) return null;\n    return this.moves[overrideMove - 1];\n  }\n\n  getMyRating(): number {\n    if (this.getMyColor() == PieceColor.BLACK) {\n      return this.blackRating;\n    }\n    return this.whiteRating;\n  }\n\n  getOpeningECO() {\n    return this.ecoCode;\n  }\n\n  getOpeningText() {\n    if (this.opening != null) {\n      return \"$opening\";\n    }\n    return \"\";\n  }\n\n  hasOpening() {\n    return this.opening != null;\n  }\n\n  isReviewable() {\n    return this.rtVariation == \"Standard\";\n  }\n\n  processRTAttributes(data: Map<string, object>): void {\n    // print(\"processRTAttributes\");\n    // print(data);\n    this.opening = prophelper.getStringNullable(data, \"gb.extra.eco_n\");\n    this.ecoCode = prophelper.getString(data, \"gb.extra.eco_c\");\n    this.threefoldable = \"Y\" == prophelper.getString(data, \"gb.extra.3F\", \"N\").toUpperCase();\n    //print(\"Opening:$opening\");\n  }\n\n  // void setGamePositionsFrom(GChess gc) {\n  //   boardPieces = [];\n  //   GChess.SQUARES.forEach( (sq, val) {\n  //     GPiece p = gc.get(sq);\n  //     if (p != null) {\n  //       Piece ctp = Piece.getPieceFromCode( \"${p.color}${p.type.name}\".toUpperCase() );\n  //       Square ctsq = Square.getSquareFromCode(sq.toString().toUpperCase());\n  //       PieceSquare ps = PieceSquare(ctp, ctsq);\n  //       boardPieces.add(ps);\n  //     }\n  //   });\n  // }\n\n  // void setMovesFrom(GChess gc) {\n  //   moves = [];\n  //   for (var mv in gc.getHistory({'verbose': true})) {\n  //     Move cmv = Move(Square.at(mv['from']), Square.at(mv['to']) );\n  //     moves.add(cmv);\n  //   }\n  //   moveCount = moves.length;\n  //   turn = moveCount % 2;\n\n  //   convertMovesToPGNMoves();\n  // }\n\n\n  calcHistoricPositions(): IGameDTO[] {\n    return [];\n  }\n  // List<IGameDTO> calcHistoricPositions() {\n  //   List<IGameDTO> gameVersions = [];\n  //   // Build a bunch of game dtos that represent each move\n  //   var gc = GChess();\n  //   int mnum = 0;\n  //   int turn = 1; // since will start with first move .. so next turn is one\n  //   for (var m in moves ) {\n  //     // print(\"Move: $m\");\n  //     mnum++;\n\n  //     var v = true;\n  //     if (m.getPromotePiece() != null ) {\n  //       v = gc.move({\n  //         'from': m.getFromSquare().asRFString().toLowerCase(),\n  //         'to': m.getToSquare().asRFString().toLowerCase(),\n  //         'promotion': Piece.typeToString(m.getPromotePiece().type).toLowerCase()\n  //       });\n  //     } else {\n  //       v = gc.move({\n  //         'from': m.getFromSquare().asRFString().toLowerCase(),\n  //         'to': m.getToSquare().asRFString().toLowerCase()\n  //       });\n  //     }\n\n  //     var g2 = copy() as CHGameDTO;\n  //     g2.moveCount = mnum;\n  //     // g2.turn = (mnum-1) % 2;\n  //     g2.turn = turn;\n  //     turn += 1;\n  //     if (turn == 2) {\n  //       turn = 0;\n  //     }\n  //     g2.moves = moves.getRange(0, mnum).toList();\n  //     // g2.boardPieces\n\n  //     g2.eco_c = eco_c;\n  //     g2.opening = opening;\n\n  //     g2.setGamePositionsFrom(gc);\n  //     g2.rtSeq = mnum;\n\n  //     gameVersions.add(g2);\n\n  //   }\n  //   return gameVersions;\n  // }\n\n  ///\n  /// Returns move in FSQTSQ ... format.  all upper case\n  /// if no moves, returns \"\"\n  ///\n  // movesToECOKey( stopEarly: boolean ) {\n  //   let key = \"\";\n  //   let lastValid = \"\";\n  //   for (const move of this.moves) {\n  //     key += move.fromSquare.asRFString();\n  //     key += move.toSquare.asRFString();\n  //     if (stopEarly ) {\n  //       if (ECO().findForGame(ecoKey: key) == null) {\n  //         // Went past it.\n  //         return lastValid.toUpperCase();\n  //       }\n  //     }\n  //     lastValid = key;\n  //   }\n  //   return key.toUpperCase();\n  // }\n\n\n  canShowOpening() {\n    return this.isComplete() && this.opening != null && this.opening.length > 0;\n  }\n\n  // openOpeningScreen() {\n  //   if (isComplete()) {\n  //     OpeningDTO odto = GameAbstract.getInstance().getOpeningFor( key: movesToECOKey());\n  //     if (odto != null) {\n  //       var oGame = GameAbstract.getInstance().openingToGame( opening: odto);\n  //       IRTOpeningReviewGameScreen.load(context, oGame);\n  //     }\n  //   }\n  // }\n\n  getOpeningName(): string {\n    return this.opening == null ? \"\" : this.opening;\n  }\n\n  getDtoMoveDetails(): string[] {\n    return [...this.pgnmoves];\n  }\n\n\n  canShare() {\n    if (this.isCancelled()) {\n      return false;\n    }\n\n    if (this.rtVariation == \"960\") {\n      return false;\n    }\n\n    return this.isComplete();\n  }\n\n\n  \n  shareGame(): void {\n    throw Error(\"not implemented\")\n  }\n\n  ///\n  /// For subsclass to override\n  ///\n  copyExtension(r: CHGameDTO) {\n    return null;\n  }\n\n\n  isValidMove(ctMove: Move ) {\n    for (const m of this.legMoves){\n      if (m.sameAs(ctMove)) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n}\n\nexport default CHGameDTO;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"board \",style:(_vm.boardDimensionStyle)},[_c('img',{staticClass:\"board-background animate\",style:(_vm.boardDimensionStyle),attrs:{\"src\":_vm.chessOptions.boardbgimage}}),_c('div',{staticClass:\"piecepanel \",style:(_vm.boardDimensionStyle)},_vm._l((_vm.boardPieces),function(pl){return _c('img',{key:pl.id,class:pl.pieceClass(),style:(pl.piecePositionStyle()),attrs:{\"width\":pl.imageSize(),\"height\":pl.imageSize(),\"src\":pl.getPieceImage(_vm.chessOptions.pieceSet),\"data-key\":pl.id}})}),0),_c('span',{staticClass:\"tapPanel\",style:(_vm.boardDimensionStyle),on:{\"click\":_vm.tapPanel}})])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import EB from '@/base/util/EventBus';\n\n/**\n * The options set in the chess \n */\nclass ChessOptions {\n\n    /*\n    Needed to create a data object so we can put it in components \n    and have it reactive. See AppBar data section\n    */\n    state = {\n      boardbgimage: \"\",\n      pieceSet: \"\",\n    }\n\n    constructor() {\n        console.log(\"New Chess State *******\");\n        this.loadStoreage()\n\n    }\n\n    loadStoreage() {\n      this.state = JSON.parse(localStorage.getItem(\"chess_options\") || \"{}\")\n      \n      this.state.boardbgimage = this.state.boardbgimage || \"/img/boards/greenice.png\"\n      this.state.pieceSet = this.state.pieceSet || \"9\"\n  }\n\n  saveStoreage() {\n    localStorage.setItem(\"chess_options\", JSON.stringify(this.state))\n  }\n\n  setPieceSet(pieceSet: string): void {\n    this.state.pieceSet = pieceSet\n    this.saveStoreage()\n  }\n\n\n  setBoardBgImage(boardbgimage: string): void {\n    this.state.boardbgimage = boardbgimage\n    this.saveStoreage()\n  }\n\n}\n\nconst chessOptions = new ChessOptions();\n\nexport default chessOptions;\n","import AsyncCall from './AsyncCall';\nimport Client from '@/base/util/GameClient'\nimport vue from 'vue'\n\nclass RTGuestViewGameCall extends AsyncCall {\n\n    id = \"\";\n\n    constructor(vue: Vue, gameId: string) {\n        super(vue);\n        this.id = gameId;\n    }\n\n    async _doCall() {\n        const p = new Map<string,string>();\n        p.set(\"id\", this.id)\n        const r = await Client.doGet(\"/g/view\", p)\n        // console.log(\"View Game:\", r);\n        return r;\n    }\n\n}\n\nexport default RTGuestViewGameCall;\n","import RTGuestViewGameCall from '../asyncCalls/RTGuestViewGameCall';\nimport util from '../util/Util';\nimport GameAbstract from '../util/GameAbstract';\nimport EB from '../util/EventBus';\n\n/**\n * Common game controller functions.\n */\nclass GameController {\n \n  gameId: string\n\n  // Bottom player is usally the person playing\n  topPlayer = 1\n  bottomPlayer = 0\n\n  reviewMode = false\n\n  // 0 based, so move 1 is position 0\n  reviewPosition = -1\n  reviewMaxPosition = -1\n\n  flipped = false\n\n  constructor(gameId: string){\n    this.gameId = gameId\n  }\n\n  goForwardPosition() {\n    this.reviewPosition++;\n    EB.sendEvent(GameController.getControllerUpdateEventName(this.gameId), \"review.position.changed\")\n  }\n  goBackPosition() {\n    this.reviewPosition--;\n    EB.sendEvent(GameController.getControllerUpdateEventName(this.gameId), \"review.position.changed\")\n  }\n\n  canGoBackPosition(): boolean {\n    return this.reviewPosition > 0\n  }\n  canGoForwardPosition(): boolean {\n    return this.reviewPosition < this.reviewMaxPosition\n  }\n  \n\n  flipBoard() {\n    this.flipped = !this.flipped\n    this.topPlayer = 1 - this.topPlayer\n    this.bottomPlayer = 1 - this.bottomPlayer\n    // EB.sendEvent(\"board.flipped.\" + this.gameId, this.flipped)\n  }\n\n  static getControllerUpdateEventName(gameId: string) {\n    return \"controller.update.\"+ gameId;\n}\n\n  static getGameLoadEventName(gameId: string) {\n      return \"game.load.\"+ gameId;\n  }\n\n  /**\n   * For when not logged in, anyone can view a game.\n   */\n  async loadPublicView() {\n    const call = new RTGuestViewGameCall(util.vue!, this.gameId);\n      const r = await call.callServer();\n      if (r.isOk()) {\n        const gamedto = GameAbstract.instance!.parseGame(r.data)\n        EB.sendEvent( GameController.getGameLoadEventName(this.gameId), gamedto)\n       // console.log(\"Game: \", this.$data.Game)\n\n       if (gamedto.amIPlaying()) {\n        if (gamedto.getMySide() == 1) {\n          this.topPlayer = 0\n          this.bottomPlayer = 1\n        }\n       } else {\n        this.topPlayer = 1\n        this.bottomPlayer = 0\n       }\n       this.reviewMaxPosition = gamedto.getMoveCount()-1\n\n      }\n\n  }\n  \n\n}\n\nexport default GameController\n","import { Chess, Move as CHMove, Piece as CHPiece } from '@lubert/chess.ts'\nimport CHGameDTO from '../dto/CHGameDTO'\nimport HAMove from '../dto/support/Move'\nimport PieceSquare from '../dto/support/PieceSquare'\nimport Square from '../dto/support/Square'\nimport RankFileConverter from '../dto/support/RankFileConverter'\nimport Piece from '../dto/support/Piece'\n\n/**\n * Utility that converts from my chess to chess.ts\n */\nclass ChessGameConvert {\n  \n  /**\n   * Converts the current chess board into my piece squares\n   * @param chessGame \n   */\n  convertChessPositionToHA(chessGame: Chess): PieceSquare[] {\n    const rs: PieceSquare[] = []\n\n    const cb = chessGame.board()\n\n    for (let r=0; r<8; r++) {\n      for (let f=0; f<8; f++) {\n        const rf = RankFileConverter.toRankFileString(r, f).toLowerCase()\n        //const pc = cb[7-r][7-f]\n        const pc = cb[r][f]\n        if (pc != null) {\n          // console.log(\"found piece, \" , pc , 'at ', rf)\n          rs.push( new PieceSquare( this.cPieceToHAPiece(pc), Square.at(rf)))\n        }\n      }\n    }\n\n    // console.log(\"Poisitions:\", rs)\n\n    return rs\n  }\n\n  cPieceToHAPiece(piece: CHPiece): Piece {\n    const pcode = (piece.color + piece.type).toUpperCase()\n    return Piece.getPieceFromCode( pcode )!\n  }\n\n  convertHAToChess(game: CHGameDTO, numMoves: number = -1): Chess {\n    if (numMoves < 0) {\n      numMoves = game.getMoveCount()-1\n    }\n    // alert(\"NM\"+numMoves + \" mc:\" + game.moves.length + \"   \" + game.getMoveCount())\n    const chess = new Chess()\n    for (let mv = 0; mv <= numMoves; mv++) {\n      const haMove = game.moves[mv]\n      const cMove = this.haMoveToChess(haMove, chess)\n      chess.move(cMove)\n    }\n    return chess\n  }\n\n  haMoveToChess(haMove: HAMove, chess: Chess): CHMove {\n    for (const cmv of chess.moves({square:haMove.fromSquare.asRFString(), verbose: true}) ) {\n      if (this.isSameMove(haMove, cmv)) {\n        // console.log(\"Its same\")        \n        return cmv\n      }\n    }\n    throw Error(\"Unable to find move: \" + haMove.descString() + \" in \" + chess.moves())\n    \n  }\n\n  isSameMove(haMove: HAMove, cmv: CHMove): boolean {\n    // console.log(\"is same: \", haMove.descString(), cmv)\n    if (cmv.from == haMove.fromSquare.asRFString().toLowerCase()) {\n      if (cmv.to == haMove.toSquare.asRFString().toLowerCase()) {\n        if (haMove.getPromotePiece()) {\n          // check promotion here\n          console.log(\"Promotion same?: \", haMove.descString(), cmv)\n          if (haMove.promotePiece?.code.slice(1,2).toLowerCase() == cmv.promotion) {\n            return true\n          }\n\n        } else {\n          // console.log(\"yes\")\n          return true\n        }\n      }\n    }\n    // console.log(\"no\")\n    return false;\n  }\n\n\n}\n\nconst cgc = new ChessGameConvert()\nexport default cgc\n","import JResponse from '@/base/util/JResonse'\nimport Piece from '../dto/support/Piece';\nimport Square from '../dto/support/Square';\nimport { Guid } from \"guid-typescript\";\nimport CHGameDTO from '../dto/CHGameDTO';\nimport PieceColor from '../dto/support/PieceColor';\nimport GameController from '@/base/controllers/GameController';\nimport PieceSquare from '../dto/support/PieceSquare';\nimport ChessGameConvert from '../util/ChessConvert'\n\n/**\n * Represents a piece at a location\n */\nexport class PieceLocation {\n  id: string;\n  piece: Piece;\n  square: Square;\n  gb: ChessGameBoardState\n\n  constructor(id: string, piece: Piece, square: Square, gb: ChessGameBoardState) {\n    this.id = id;\n    this.piece = piece;\n    this.square = square;\n    this.gb = gb;\n  }\n\n  getPieceImage(pieceSet: string): string {\n    return (\"/img/pieces/\" + this.piece.toImageName(pieceSet) );\n  }\n\n  imagePadding(): number {\n    return (this.gb.boardWidth / 8) * .1\n  }\n\n  piecePositionStyle(): string {\n    const cellPos = this.gb.getCellPositionForSq(this.square)\n    const left = cellPos.left + this.imagePadding() \n    const top = cellPos.top + this.imagePadding() \n    const r =  `top: ${top}px; left: ${left}px`\n    // console.log(r)\n    return r\n  }\n\n  pieceClass(): string {\n    return \"pc_sq animate\"\n  }\n\n  pieceSize(): number {\n    return (this.gb.boardWidth / 8) \n  }\n\n  imageSize(): number {\n    return this.gb.boardWidth / 8 - this.imagePadding() * 2\n  }\n\n}\n\nclass ChessGameBoardState {\n\n  currentPieces: PieceLocation[] = []\n  gameDTO: CHGameDTO | null = null\n  boardWidth = 0\n  boardHeight = 0\n  gameController: GameController\n\n  constructor(gameController: GameController) {\n    this.currentPieces = []\n    this.gameController = gameController\n  }\n\n  updateFromController() {\n    this._updateState()\n  }\n\n  _updateState() {\n    // console.log(\"CREATE NEW PIECES\")\n    const g = this.gameDTO!\n    this.currentPieces = []\n\n    if (this.gameController.reviewMode) {\n      this._updatePieces(this._calcBoardPieces(this.gameController.reviewPosition))\n    } else {\n      this._updatePieces(g.getBoardPieces())\n    }\n  }\n\n  _updatePieces( pieces: PieceSquare[] ) {\n    for (const ps of pieces ) {\n      this.currentPieces.push(new PieceLocation(Guid.create().toString(), ps.getPiece(), ps.getSquare(), this) )\n    }\n  }\n\n  _calcBoardPieces(position: number): PieceSquare[] {\n    const chessGame = ChessGameConvert.convertHAToChess(this.gameDTO!, position)\n    // console.log(\"Game: \", chessGame.ascii())\n    return ChessGameConvert.convertChessPositionToHA(chessGame)\n    // return this.gameDTO!.getBoardPieces()\n  }\n\n  getCellPositionForSq(square: Square): {top: number, left: number} {\n    const flipIt = this.gameController.topPlayer == 0\n\n    if (flipIt) {\n      const left = this.cellSize() * (7 - square.file)\n      const top = this.cellSize() * (7 - square.rank)\n      return { top: top, left: left }\n    } else {\n      const left = this.cellSize() * square.file\n      const top = this.cellSize() * square.rank\n      return { top: top, left: left }\n    }\n  }\n\n  cellSize(): number {\n    return (this.boardWidth / 8) \n  }\n\n  setGameData(gameData: CHGameDTO) {\n    if (this.gameDTO == null) {\n      this.gameDTO = gameData\n    } else {\n      if (this.gameDTO.rtSeq <= gameData.rtSeq) {\n        this.gameDTO = gameData\n      }\n    }\n\n    if (this.gameController.reviewMode) {\n      this.gameController.reviewPosition = this.gameDTO.moveCount - 1\n    }\n    this._updateState()\n  }\n\n  getBoardPieces(): PieceLocation[] {\n    return this.currentPieces;\n  }\n\n}\n\nexport default ChessGameBoardState\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue, { PropType } from 'vue'\nimport ChessGameBoardState, { PieceLocation } from './ChessGameBoardState'\nimport EB, { EventData } from '@/base/util/EventBus'\nimport state from '@/base/util/State'\nimport chessOptions from '@/chess/ChessOptions'\nimport GameController from '@/base/controllers/GameController'\nimport GameControllerRegistry from '@/base/controllers/GameControllerRegistry'\nimport BaseEventListener from '@/base/components/BaseEventListener'\nimport GameBoardState from './ChessGameBoardState'\n\nexport default BaseEventListener.extend({\n  data() {\n    return {\n      state: state.state, \n      chessOptions: chessOptions.state,\n      bwidth: 400,\n      bheight: 400,\n      gameBoardState: {} as ChessGameBoardState,\n      gameController: {} as GameController\n    }\n  },\n\n  \n  \n  methods: {\n    getEventNames(){\n      return GameController.getGameLoadEventName(this.gameId) + \",\" +\n        GameController.getControllerUpdateEventName(this.gameId)\n    },\n    tapPanel(p: MouseEvent) {\n      //console.log(\"Tapped:\", p.offsetY, p.offsetX, p, p.srcElement)\n      console.log(\"tapPanel:\", p.offsetY, p.offsetX)\n    },\n    onEvent(eventData: EventData ){\n      if (eventData.name == GameController.getGameLoadEventName(this.gameId) ) {\n        this.gameLoaded(eventData)\n      }\n      if (eventData.name == GameController.getControllerUpdateEventName(this.gameId)) {\n        // console.log(\"We have data change in the controller \", eventData.data)\n        this.gameBoardState.updateFromController();\n      }\n    },\n    gameLoaded(ed: EventData): void {\n      this.gameBoardState.setGameData(ed.data)\n    },\n\n  },\n  computed: {\n    backgroundImage(): string {\n      return this.chessOptions.boardbgimage\n    },\n\n    boardDimensionStyle(): string {\n      return \"width: \" + this.bwidth + \"px; height: \" + this.bheight + \"px;\"\n    },\n\n    boardPieces(): PieceLocation[] {\n      return this.gameBoardState.getBoardPieces()\n    },\n\n  },\n  props: {\n    gameId: String,\n    wname: String,\n    bname: String\n  },\n  updated: function() {\n    this.gameBoardState.boardWidth = this.bwidth\n    this.gameBoardState.boardHeight = this.bheight\n    //console.log(\"set w:\"+ this.bwidth)\n  },\n  created: function() {\n    this.gameController = GameControllerRegistry.getController(this.gameId)\n    this.gameBoardState = new GameBoardState(this.gameController)\n    this.gameBoardState.boardWidth = this.bwidth\n    this.gameBoardState.boardHeight = this.bheight\n    // console.log(\"C set w:\"+ this.bwidth)\n\n  }\n  \n\n})\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessGameBoard.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChessGameBoard.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChessGameBoard.vue?vue&type=template&id=2cb6e1c5&scoped=true&\"\nimport script from \"./ChessGameBoard.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChessGameBoard.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ChessGameBoard.vue?vue&type=style&index=0&id=2cb6e1c5&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2cb6e1c5\",\n  null\n  \n)\n\nexport default component.exports","import GameController from \"@/base/controllers/GameController\";\nimport { Chess } from '@lubert/chess.ts'\n\n/**\n * Controller for the chess game\n */\nclass ChessGameController extends GameController {\n\n  constructor(gameId: string){\n    super(gameId)\n    console.log(\"Game id: \" + gameId)\n  }\n\n  playChess() {\n    console.log(Chess)\n    const chess = new Chess();\n\n    const moves = chess.moves({verbose: true})\n    console.log(\"initial moves:\", moves)\n\n    while (!chess.gameOver()) {\n        const moves = chess.moves()\n\n              \n        const move = moves[Math.floor(Math.random() * moves.length)]\n        chess.move(move)\n    }\n    console.log(chess.pgn())\n\n    // const playerWhite = new HumanPlayer();\n    // const playerBlack = new HumanPlayer();\n    // const chessGame = new Game(\n    //   GameStateSetup.defaultInitial,\n    //   playerWhite,\n    //   playerBlack\n    // );\n    // console.log(\"Game:\", chessGame)\n\n\n\n    // const game = Chessboard.fromFen(FenSetup.defaultInitial);\n    // console.log(\"Game:\", game)\n    \n  }\n\n  \n}\n\nexport default ChessGameController","import GameAbstract from '@/base/util/GameAbstract';\nimport settings from './ChessApplicationSettings';\nimport ApplicationSettings from '@/base/util/ApplicationSettings';\nimport IGameDTO from '@/base/dto/IGameDTO';\nimport CHGameDTO from './dto/CHGameDTO';\nimport Piece from './dto/support/Piece';\nimport Square from './dto/support/Square';\nimport ChessGameBoard from './components/ChessGameBoard.vue'\nimport Vue from 'vue'\nimport GameController from '@/base/controllers/GameController';\nimport ChessGameController from './controllers/ChessGameController';\n\n/**\n * Game settings\n */\nclass ChessGame extends GameAbstract {\n  \n  getGameController(gameId: string): GameController {\n    return new ChessGameController(gameId)\n  }\n\n  nullGame(): IGameDTO {\n    const g = new CHGameDTO();\n    g.setNullGame();\n    return g;\n  }\n  \n  parseGame(data: object): IGameDTO {\n    const g = new CHGameDTO();\n    g.load(data as Map<string, object>);\n    return g\n  }\n\n  parseList(dataList: object[]): IGameDTO[] {\n    const r: IGameDTO[] = [];\n\n    for (const imap of dataList) {\n      const map = imap as Map<string, object>;\n\n      const g = new CHGameDTO();\n      g.load(map);\n      r.push(g);\n    }\n\n    return r;\n  }\n\n  constructor() {\n      super();\n      console.log(\"***** ChessGame *******\");\n      console.log(\"***** ChessGame *******\");\n      console.log(\"***** ChessGame *******\");\n      Piece.init();\n      Square.init();\n\n      Vue.component('game-board', ChessGameBoard)\n      \n  }\n  \n  getAppSettings(): ApplicationSettings {\n    return settings;\n  }\n\n}\n\n\nexport default ChessGame;\n","\nimport BaseMain from '@/base/BaseMain'\nimport ChessGame from './chess/ChessGame';\n\n/**\n * Main entry point of the app.\n */\nconst BMain = new BaseMain()\nBMain.init(new ChessGame())\n\n"],"sourceRoot":""}